{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Requirement not upgraded as not directly required: beautifulsoup4 in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages\n",
      "Requirement not upgraded as not directly required: lxml in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages\n",
      "Requirement not upgraded as not directly required: requests in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages\n",
      "Requirement not upgraded as not directly required: chardet<3.1.0,>=3.0.2 in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages (from requests)\n",
      "Requirement not upgraded as not directly required: idna<2.7,>=2.5 in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages (from requests)\n",
      "Requirement not upgraded as not directly required: urllib3<1.23,>=1.21.1 in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages (from requests)\n",
      "Requirement not upgraded as not directly required: certifi>=2017.4.17 in /opt/conda/envs/DSX-Python35/lib/python3.5/site-packages (from requests)\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "!pip install beautifulsoup4\n",
    "!pip install lxml\n",
    "!pip install requests\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "from bs4 import BeautifulSoup\n",
    "import requests"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "path = requests.get('https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M', timeout = 5)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "soup = BeautifulSoup(path.text, \"lxml\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "match = soup.find('div', class_='mw-parser-output')\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This code looks for the titles of the table"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['Postcode', 'Borough', 'Neighbourhood']\n"
     ]
    }
   ],
   "source": [
    "word = []\n",
    "\n",
    "for th in match.table.tbody.tr.find_all('th'):\n",
    "    c = th.text\n",
    "    word.append(c)\n",
    "    \n",
    "\n",
    "\n",
    "word = list(map(str.strip,word))\n",
    "\n",
    "print(word)\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This code looks for the body of the table, all the elements"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M2A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "     0                 1                 2\n",
       "0  M1A      Not assigned      Not assigned\n",
       "1  M2A      Not assigned      Not assigned\n",
       "2  M3A        North York         Parkwoods\n",
       "3  M4A        North York  Victoria Village\n",
       "4  M5A  Downtown Toronto      Harbourfront"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "content = []\n",
    "for td in match.table.tbody.find_all('td'):\n",
    "   \n",
    "    d = td.text\n",
    "    content.append(d)\n",
    "    \n",
    "    \n",
    "PC = content[0::3]\n",
    "BH = content[1::3]\n",
    "ND = content[2::3]\n",
    "\n",
    "PC = list(map(str.strip,PC))\n",
    "BH = list(map(str.strip,BH))\n",
    "ND = list(map(str.strip,ND))\n",
    "\n",
    "\n",
    "df = pd.DataFrame([PC,BH,ND]).transpose()\n",
    "\n",
    "\n",
    "\n",
    "df.head(5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.columns = word\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M2A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough     Neighbourhood\n",
       "0      M1A      Not assigned      Not assigned\n",
       "1      M2A      Not assigned      Not assigned\n",
       "2      M3A        North York         Parkwoods\n",
       "3      M4A        North York  Victoria Village\n",
       "4      M5A  Downtown Toronto      Harbourfront"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This eliminates the Boroughs that are not assigned"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough     Neighbourhood\n",
       "2      M3A        North York         Parkwoods\n",
       "3      M4A        North York  Victoria Village\n",
       "4      M5A  Downtown Toronto      Harbourfront\n",
       "5      M5A  Downtown Toronto       Regent Park\n",
       "6      M6A        North York  Lawrence Heights"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "df = df[(df['Borough'] != 'Not assigned')]\n",
    "\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This will give the same name of the Borough to the Neighbourhoods that are not assigned"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "df.loc[df['Neighbourhood'] == 'Not assigned','Neighbourhood'] = df[(df['Neighbourhood'] == 'Not assigned')]['Borough']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront,Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights,Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough                    Neighbourhood\n",
       "0      M3A        North York                        Parkwoods\n",
       "1      M4A        North York                 Victoria Village\n",
       "2      M5A  Downtown Toronto         Harbourfront,Regent Park\n",
       "3      M6A        North York  Lawrence Heights,Lawrence Manor\n",
       "4      M7A      Queen's Park                     Queen's Park"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "A = df.groupby(['Postcode','Borough'], as_index = False, sort = False).agg(','.join)\n",
    "A.columns = word\n",
    "A.head(5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront,Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights,Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough                    Neighbourhood\n",
       "0      M3A        North York                        Parkwoods\n",
       "1      M4A        North York                 Victoria Village\n",
       "2      M5A  Downtown Toronto         Harbourfront,Regent Park\n",
       "3      M6A        North York  Lawrence Heights,Lawrence Manor\n",
       "4      M7A      Queen's Park                     Queen's Park"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_Neighbourhoods = pd.DataFrame(A)\n",
    "Toronto_Neighbourhoods.head(5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(103, 3)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_Neighbourhoods.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "That was the first part"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "I will use geopy instead of geocoder because I ony got 'Nones'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Solving environment: failed\n",
      "\n",
      "PackagesNotFoundError: The following packages are not available from current channels:\n",
      "\n",
      "  - geopy\n",
      "\n",
      "Current channels:\n",
      "\n",
      "  - https://repo.anaconda.com/pkgs/main/linux-64\n",
      "  - https://repo.anaconda.com/pkgs/main/noarch\n",
      "  - https://repo.anaconda.com/pkgs/free/linux-64\n",
      "  - https://repo.anaconda.com/pkgs/free/noarch\n",
      "  - https://repo.anaconda.com/pkgs/r/linux-64\n",
      "  - https://repo.anaconda.com/pkgs/r/noarch\n",
      "  - https://repo.anaconda.com/pkgs/pro/linux-64\n",
      "  - https://repo.anaconda.com/pkgs/pro/noarch\n",
      "\n",
      "To search for alternate channels that may provide the conda package you're\n",
      "looking for, navigate to\n",
      "\n",
      "    https://anaconda.org\n",
      "\n",
      "and use the search bar at the top of the page.\n",
      "\n",
      "\n"
     ]
    }
   ],
   "source": [
    "!conda install geopy"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "from geopy.geocoders import Nominatim"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "Lati = []\n",
    "Long = []\n",
    "h = 0\n",
    "\n",
    "for i in Toronto_Neighbourhoods['Postcode']:\n",
    "    try:\n",
    "        geolocator = Nominatim(user_agent=\"specify_your_app_name_here\")\n",
    "        location = geolocator.geocode('{}, Toronto, Ontario'.format(Toronto_Neighbourhoods.iloc[h,2].split(',')[0]))\n",
    "    \n",
    "    \n",
    "        lo = location.longitude\n",
    "        la = location.latitude\n",
    "        \n",
    "        Lati.append(la)\n",
    "        Long.append(lo)\n",
    "        h = h+1\n",
    "    except:\n",
    "        location = geolocator.geocode('{}, Toronto, Ontario'.format(Toronto_Neighbourhoods.iloc[h,1]))\n",
    "        lo = location.longitude\n",
    "        la = location.latitude\n",
    "        Lati.append(la)\n",
    "        Long.append(lo)\n",
    "        h = h+1\n",
    "     \n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "Newdf = pd.DataFrame(Toronto_Neighbourhoods)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>43.732658</td>\n",
       "      <td>-79.311189</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront,Regent Park</td>\n",
       "      <td>43.640080</td>\n",
       "      <td>-79.380150</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights,Lawrence Manor</td>\n",
       "      <td>43.722778</td>\n",
       "      <td>-79.450933</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>43.659980</td>\n",
       "      <td>-79.390369</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough                    Neighbourhood   Latitude  \\\n",
       "0      M3A        North York                        Parkwoods  43.761224   \n",
       "1      M4A        North York                 Victoria Village  43.732658   \n",
       "2      M5A  Downtown Toronto         Harbourfront,Regent Park  43.640080   \n",
       "3      M6A        North York  Lawrence Heights,Lawrence Manor  43.722778   \n",
       "4      M7A      Queen's Park                     Queen's Park  43.659980   \n",
       "\n",
       "   Longitude  \n",
       "0 -79.323986  \n",
       "1 -79.311189  \n",
       "2 -79.380150  \n",
       "3 -79.450933  \n",
       "4 -79.390369  "
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Newdf['Latitude'] = Lati\n",
    "Newdf['Longitude'] = Long\n",
    "\n",
    "Newdf.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "That was the second part"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Solving environment: done\n",
      "\n",
      "## Package Plan ##\n",
      "\n",
      "  environment location: /opt/conda/envs/DSX-Python35\n",
      "\n",
      "  added / updated specs: \n",
      "    - geopy\n",
      "\n",
      "\n",
      "The following packages will be downloaded:\n",
      "\n",
      "    package                    |            build\n",
      "    ---------------------------|-----------------\n",
      "    geographiclib-1.49         |             py_0          32 KB  conda-forge\n",
      "    geopy-1.19.0               |             py_0          53 KB  conda-forge\n",
      "    ------------------------------------------------------------\n",
      "                                           Total:          85 KB\n",
      "\n",
      "The following NEW packages will be INSTALLED:\n",
      "\n",
      "    geographiclib: 1.49-py_0   conda-forge\n",
      "    geopy:         1.19.0-py_0 conda-forge\n",
      "\n",
      "\n",
      "Downloading and Extracting Packages\n",
      "geographiclib-1.49   | 32 KB     | ##################################### | 100% \n",
      "geopy-1.19.0         | 53 KB     | ##################################### | 100% \n",
      "Preparing transaction: done\n",
      "Verifying transaction: done\n",
      "Executing transaction: done\n",
      "Solving environment: done\n",
      "\n",
      "# All requested packages already installed.\n",
      "\n",
      "Libraries imported.\n"
     ]
    }
   ],
   "source": [
    "import numpy as np\n",
    "\n",
    "!conda install -c conda-forge geopy --yes # uncomment this line if you haven't completed the Foursquare API lab\n",
    "from geopy.geocoders import Nominatim # convert an address into latitude and longitude values\n",
    "\n",
    "import matplotlib.cm as cm\n",
    "import matplotlib.colors as colors\n",
    "\n",
    "# import k-means from clustering stage\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab\n",
    "import folium # map rendering library\n",
    "\n",
    "print('Libraries imported.')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Get the latitude and longitude of Toronto"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "location = geolocator.geocode('Toronto, Ontario')\n",
    "TorLat = location.latitude\n",
    "TorLon = location.longitude"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>43.732658</td>\n",
       "      <td>-79.311189</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront,Regent Park</td>\n",
       "      <td>43.640080</td>\n",
       "      <td>-79.380150</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights,Lawrence Manor</td>\n",
       "      <td>43.722778</td>\n",
       "      <td>-79.450933</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>43.659980</td>\n",
       "      <td>-79.390369</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough                    Neighbourhood   Latitude  \\\n",
       "0      M3A        North York                        Parkwoods  43.761224   \n",
       "1      M4A        North York                 Victoria Village  43.732658   \n",
       "2      M5A  Downtown Toronto         Harbourfront,Regent Park  43.640080   \n",
       "3      M6A        North York  Lawrence Heights,Lawrence Manor  43.722778   \n",
       "4      M7A      Queen's Park                     Queen's Park  43.659980   \n",
       "\n",
       "   Longitude  \n",
       "0 -79.323986  \n",
       "1 -79.311189  \n",
       "2 -79.380150  \n",
       "3 -79.450933  \n",
       "4 -79.390369  "
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "neighborhoods = Newdf\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Create a map"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDAgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTYzLC03OS4zODcyMDddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzdhYWMyYzE1M2IwNTRlODJiN2E1YTMyNWMyNzgxOTg4ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wZDE3ZDQ2NjUwMGU0ODg5YjQ2NjM4YzI4NDkzNmFmYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTIyMzksLTc5LjMyMzk4NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2NjY2QzMDg0ZDAzNDMyYmFhNjc0MmFhYmU3YjdkZjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWM1MmI3MzdhYjJlNDFiMzg5MzNjMGQ5ZmJmOThkYTUgPSAkKCc8ZGl2IGlkPSJodG1sX2VjNTJiNzM3YWIyZTQxYjM4OTMzYzBkOWZiZjk4ZGE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrd29vZHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNjY2NkMzA4NGQwMzQzMmJhYTY3NDJhYWJlN2I3ZGY2LnNldENvbnRlbnQoaHRtbF9lYzUyYjczN2FiMmU0MWIzODkzM2MwZDlmYmY5OGRhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wZDE3ZDQ2NjUwMGU0ODg5YjQ2NjM4YzI4NDkzNmFmYy5iaW5kUG9wdXAocG9wdXBfM2NjY2QzMDg0ZDAzNDMyYmFhNjc0MmFhYmU3YjdkZjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWVlNDAzNzc2MDkzNGRiMWExYzY1NzI4OTM5NWNkNWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzI2NTgsLTc5LjMxMTE4OTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTM5OGRjNTQ1ZjdkNDI3MDg4ZDA1NzBiMGEzMDVlMjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjUwNjhhMWRmZWNmNDhjNmIxZDMzN2FjN2E5NDE4ZjMgPSAkKCc8ZGl2IGlkPSJodG1sXzI1MDY4YTFkZmVjZjQ4YzZiMWQzMzdhYzdhOTQxOGYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMzk4ZGM1NDVmN2Q0MjcwODhkMDU3MGIwYTMwNWUyNi5zZXRDb250ZW50KGh0bWxfMjUwNjhhMWRmZWNmNDhjNmIxZDMzN2FjN2E5NDE4ZjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWVlNDAzNzc2MDkzNGRiMWExYzY1NzI4OTM5NWNkNWYuYmluZFBvcHVwKHBvcHVwX2EzOThkYzU0NWY3ZDQyNzA4OGQwNTcwYjBhMzA1ZTI2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NkNzU3ZmIyMzEzNTRlNjU5MjIxY2M4NmExZTU5MDIxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQwMDgwMSwtNzkuMzgwMTQ5NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNWRkNjFjMGIwYzQ0OGExYjRjZTIzNzIxMGI5ZDA1MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMDQ4ZTRjNzIwNTQ0MGU5YTYwZjI4MzQ3MTE4ZmMxOSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDA0OGU0YzcyMDU0NDBlOWE2MGYyODM0NzExOGZjMTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvdXJmcm9udCxSZWdlbnQgUGFyaywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjVkZDYxYzBiMGM0NDhhMWI0Y2UyMzcyMTBiOWQwNTAuc2V0Q29udGVudChodG1sX2QwNDhlNGM3MjA1NDQwZTlhNjBmMjgzNDcxMThmYzE5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NkNzU3ZmIyMzEzNTRlNjU5MjIxY2M4NmExZTU5MDIxLmJpbmRQb3B1cChwb3B1cF8yNWRkNjFjMGIwYzQ0OGExYjRjZTIzNzIxMGI5ZDA1MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83OTRhMTlkZWYyYmE0YjRlYjY0OGJiNWQwMGRiZTg1YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyMjc3ODQsLTc5LjQ1MDkzMzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2EzZDI5NjJhZmIzNGUwZjg1YmI3N2NlMWYzNDcyNjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzFhMDM3MDQ0YzU1NDVlYzhiM2VmZTQ1MmFmMmFkYzQgPSAkKCc8ZGl2IGlkPSJodG1sXzcxYTAzNzA0NGM1NTQ1ZWM4YjNlZmU0NTJhZjJhZGM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBIZWlnaHRzLExhd3JlbmNlIE1hbm9yLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYTNkMjk2MmFmYjM0ZTBmODViYjc3Y2UxZjM0NzI2MS5zZXRDb250ZW50KGh0bWxfNzFhMDM3MDQ0YzU1NDVlYzhiM2VmZTQ1MmFmMmFkYzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzk0YTE5ZGVmMmJhNGI0ZWI2NDhiYjVkMDBkYmU4NWIuYmluZFBvcHVwKHBvcHVwXzNhM2QyOTYyYWZiMzRlMGY4NWJiNzdjZTFmMzQ3MjYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIyMTliNzI1MDMxYjQ0MWFiOTYxMmZhMWMyYzM5ZjcyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU5OTgwMywtNzkuMzkwMzY4Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNGEwNDU2NjI0MzM0YWQ3YTkwMjZkNTgyYmYzZGIwOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYzk0MmMwOTRlN2E0YTQ0OGI5NmZjNTM2NDVkNmNjZCA9ICQoJzxkaXYgaWQ9Imh0bWxfY2M5NDJjMDk0ZTdhNGE0NDhiOTZmYzUzNjQ1ZDZjY2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlF1ZWVuJiMzOTtzIFBhcmssIFF1ZWVuJiMzOTtzIFBhcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E0YTA0NTY2MjQzMzRhZDdhOTAyNmQ1ODJiZjNkYjA5LnNldENvbnRlbnQoaHRtbF9jYzk0MmMwOTRlN2E0YTQ0OGI5NmZjNTM2NDVkNmNjZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMjE5YjcyNTAzMWI0NDFhYjk2MTJmYTFjMmMzOWY3Mi5iaW5kUG9wdXAocG9wdXBfYTRhMDQ1NjYyNDMzNGFkN2E5MDI2ZDU4MmJmM2RiMDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjVlOWZkYjNkZjRmNDU0YjhlMjRlZDEzMTA1NjRiZGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDM5MDkyLC03OS41NDk4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MTU4ZWU4OTkzYjQ0OTIzYjNiYjk5ZDRiYjU2YzM3MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNjc0NmI0YTI3YWY0OTczOGUwOTEwMjE2MzU2NTBjYyA9ICQoJzxkaXYgaWQ9Imh0bWxfZjY3NDZiNGEyN2FmNDk3MzhlMDkxMDIxNjM1NjUwY2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklzbGluZ3RvbiBBdmVudWUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDE1OGVlODk5M2I0NDkyM2IzYmI5OWQ0YmI1NmMzNzEuc2V0Q29udGVudChodG1sX2Y2NzQ2YjRhMjdhZjQ5NzM4ZTA5MTAyMTYzNTY1MGNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y1ZTlmZGIzZGY0ZjQ1NGI4ZTI0ZWQxMzEwNTY0YmRhLmJpbmRQb3B1cChwb3B1cF80MTU4ZWU4OTkzYjQ0OTIzYjNiYjk5ZDRiYjU2YzM3MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZTg5OGNmMTM5NzE0ZWFjYTk3NTYyMjk5N2QwOTc4ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwNDkzMDQsLTc5LjE2NTgzNzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGIzMGYzNThlODQxNDk4MzkwZWE3ZTVmZTRjZjc3OTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDA0Y2Q1MzUxNTBiNDVmZjhiNGQ3YTliYjI3ZTBmYjIgPSAkKCc8ZGl2IGlkPSJodG1sXzQwNGNkNTM1MTUwYjQ1ZmY4YjRkN2E5YmIyN2UwZmIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3VnZSxNYWx2ZXJuLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGIzMGYzNThlODQxNDk4MzkwZWE3ZTVmZTRjZjc3OTEuc2V0Q29udGVudChodG1sXzQwNGNkNTM1MTUwYjQ1ZmY4YjRkN2E5YmIyN2UwZmIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVlODk4Y2YxMzk3MTRlYWNhOTc1NjIyOTk3ZDA5NzhmLmJpbmRQb3B1cChwb3B1cF9kYjMwZjM1OGU4NDE0OTgzOTBlYTdlNWZlNGNmNzc5MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNmJmYWI0NzJmYTk0ZDAxYjA1ZjM3YmQ5MmY2ODM1MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzE3OCwtNzkuMzQzNDUxNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMmRlYWE3OWY4MzU0NzBmODNlNWY3ZjYwZTcyMzI1YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NWQwMTNjNDFlNGI0MzUzYTAwYjRiNWM2ZTI2NmEyNiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTVkMDEzYzQxZTRiNDM1M2EwMGI0YjVjNmUyNjZhMjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBOb3J0aCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjJkZWFhNzlmODM1NDcwZjgzZTVmN2Y2MGU3MjMyNWMuc2V0Q29udGVudChodG1sXzU1ZDAxM2M0MWU0YjQzNTNhMDBiNGI1YzZlMjY2YTI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U2YmZhYjQ3MmZhOTRkMDFiMDVmMzdiZDkyZjY4MzUxLmJpbmRQb3B1cChwb3B1cF8yMmRlYWE3OWY4MzU0NzBmODNlNWY3ZjYwZTcyMzI1Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNDIyNGYwMjFmNmI0YWM5YWZkM2JiZWYxYjY3ZmZlMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjA3ODUsLTc5LjMwMjU2NzNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTljZTc4ZWM5NmM4NGVjYThkYjFhZGM3ZWQwN2UyYzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmE2MTkxN2UxZTg0NGQ5OGFmNWEwZDRkMDZmNGI2YjMgPSAkKCc8ZGl2IGlkPSJodG1sXzJhNjE5MTdlMWU4NDRkOThhZjVhMGQ0ZDA2ZjRiNmIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBHYXJkZW5zLFBhcmt2aWV3IEhpbGwsIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTljZTc4ZWM5NmM4NGVjYThkYjFhZGM3ZWQwN2UyYzUuc2V0Q29udGVudChodG1sXzJhNjE5MTdlMWU4NDRkOThhZjVhMGQ0ZDA2ZjRiNmIzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q0MjI0ZjAyMWY2YjRhYzlhZmQzYmJlZjFiNjdmZmUxLmJpbmRQb3B1cChwb3B1cF85OWNlNzhlYzk2Yzg0ZWNhOGRiMWFkYzdlZDA3ZTJjNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MmFiZWZiMWFmZTc0ZDUxODZhZTBkMzc5NTA4NWRlOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyMTU3MzM1LC03OS41NTkxMzAwNjcyODIxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ0OWQwYzMwODlkMzRlZTU5MDUwMzNmYWE2M2NhZDZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMxMDk2MmU0Y2Q4ZjQ1YjBhYzhhM2NmN2NiZjBkYjM0ID0gJCgnPGRpdiBpZD0iaHRtbF8zMTA5NjJlNGNkOGY0NWIwYWM4YTNjZjdjYmYwZGIzNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnllcnNvbixHYXJkZW4gRGlzdHJpY3QsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0OWQwYzMwODlkMzRlZTU5MDUwMzNmYWE2M2NhZDZlLnNldENvbnRlbnQoaHRtbF8zMTA5NjJlNGNkOGY0NWIwYWM4YTNjZjdjYmYwZGIzNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MmFiZWZiMWFmZTc0ZDUxODZhZTBkMzc5NTA4NWRlOS5iaW5kUG9wdXAocG9wdXBfNDQ5ZDBjMzA4OWQzNGVlNTkwNTAzM2ZhYTYzY2FkNmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTY2ZGIxZTM3YWMyNDc2MDg5YWZlNGRhZGViZWI2YTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDg3MTE3LC03OS40NDA2ODUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYzOGMwMzgxMzBiMzQ1MzA5OGI0MTQ4MGYzODljMzJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQwMGVlNDU0NWMxMDRiNzY4YzEyNzI0MmJkMGJmYzQ5ID0gJCgnPGRpdiBpZD0iaHRtbF80MDBlZTQ1NDVjMTA0Yjc2OGMxMjcyNDJiZDBiZmM0OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MzhjMDM4MTMwYjM0NTMwOThiNDE0ODBmMzg5YzMyZS5zZXRDb250ZW50KGh0bWxfNDAwZWU0NTQ1YzEwNGI3NjhjMTI3MjQyYmQwYmZjNDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTY2ZGIxZTM3YWMyNDc2MDg5YWZlNGRhZGViZWI2YTAuYmluZFBvcHVwKHBvcHVwXzYzOGMwMzgxMzBiMzQ1MzA5OGI0MTQ4MGYzODljMzJlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y1NTg3ZDAxZjFjNDRiODZhMzYxYTVjMDg2MzkxNzVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjMzNjM3LC03OS41NDk3NDQ3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE0MjY4ZWU2Mjc2OTRkMGFhZDY2YmYwZjFkODNiZGExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFlMjA2OGE4YjI1YTQ2YzZiNGI3YTZmNTE5Y2VkMGM5ID0gJCgnPGRpdiBpZD0iaHRtbF8xZTIwNjhhOGIyNWE0NmM2YjRiN2E2ZjUxOWNlZDBjOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xvdmVyZGFsZSxJc2xpbmd0b24sTWFydGluIEdyb3ZlLFByaW5jZXNzIEdhcmRlbnMsV2VzdCBEZWFuZSBQYXJrLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE0MjY4ZWU2Mjc2OTRkMGFhZDY2YmYwZjFkODNiZGExLnNldENvbnRlbnQoaHRtbF8xZTIwNjhhOGIyNWE0NmM2YjRiN2E2ZjUxOWNlZDBjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNTU4N2QwMWYxYzQ0Yjg2YTM2MWE1YzA4NjM5MTc1ZC5iaW5kUG9wdXAocG9wdXBfMTQyNjhlZTYyNzY5NGQwYWFkNjZiZjBmMWQ4M2JkYTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjBmZGRiMWY1MTQyNGMyZDgxOWUxZWVmYTI0YjU5N2IgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTAxMTcyLC03OS4xNzMzMzQ0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE5ZGU3ZGFhYjNlYTQ4M2JhNmM1MTA0MWFhYzM3MmEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ2ZjRhNjhhYWVjMTQxMGI5ZGRiOGExNjllMTg4YjBkID0gJCgnPGRpdiBpZD0iaHRtbF80NmY0YTY4YWFlYzE0MTBiOWRkYjhhMTY5ZTE4OGIwZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaGxhbmQgQ3JlZWssUm91Z2UgSGlsbCxQb3J0IFVuaW9uLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTlkZTdkYWFiM2VhNDgzYmE2YzUxMDQxYWFjMzcyYTMuc2V0Q29udGVudChodG1sXzQ2ZjRhNjhhYWVjMTQxMGI5ZGRiOGExNjllMTg4YjBkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwZmRkYjFmNTE0MjRjMmQ4MTllMWVlZmEyNGI1OTdiLmJpbmRQb3B1cChwb3B1cF8xOWRlN2RhYWIzZWE0ODNiYTZjNTEwNDFhYWMzNzJhMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZWY2MTczNWZlNTI0OTRhYWE3ZjVkODYwNzE4MzE3MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxODQzMTUsLTc5LjMzMzIwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMjBiZTVlMDM3YmQ0N2E0YmNjMWY0NTQyNTU3MTMyYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kOWQ1MWUxZjU4Yjc0ZGYzOGUzOWMzMTgwYTliMDZjZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDlkNTFlMWY1OGI3NGRmMzhlMzljMzE4MGE5YjA2Y2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZsZW1pbmdkb24gUGFyayxEb24gTWlsbHMgU291dGgsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEyMGJlNWUwMzdiZDQ3YTRiY2MxZjQ1NDI1NTcxMzJiLnNldENvbnRlbnQoaHRtbF9kOWQ1MWUxZjU4Yjc0ZGYzOGUzOWMzMTgwYTliMDZjZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZWY2MTczNWZlNTI0OTRhYWE3ZjVkODYwNzE4MzE3MS5iaW5kUG9wdXAocG9wdXBfMTIwYmU1ZTAzN2JkNDdhNGJjYzFmNDU0MjU1NzEzMmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGU5N2M4MDc5NDVhNDRjZjg1NzY0OGU5NTRkZjljZDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTk5MzAyLC03OS4zMTkxMzE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzllYTlhZjRiOGU1NzQ2NmE5NzQ1NTgwNDg0NjQ4MmUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UwYTNkOWJhN2I3NjQxZjhhZmZkNTMxY2E3YTZhM2E1ID0gJCgnPGRpdiBpZD0iaHRtbF9lMGEzZDliYTdiNzY0MWY4YWZmZDUzMWNhN2E2YTNhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V29vZGJpbmUgSGVpZ2h0cywgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZWE5YWY0YjhlNTc0NjZhOTc0NTU4MDQ4NDY0ODJlMi5zZXRDb250ZW50KGh0bWxfZTBhM2Q5YmE3Yjc2NDFmOGFmZmQ1MzFjYTdhNmEzYTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGU5N2M4MDc5NDVhNDRjZjg1NzY0OGU5NTRkZjljZDcuYmluZFBvcHVwKHBvcHVwXzllYTlhZjRiOGU1NzQ2NmE5NzQ1NTgwNDg0NjQ4MmUyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBmMDFiOWE2NjE3OTRiMDE5MjdhMDBkMDZjNjU0Y2ExID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5NDAzMiwtNzkuMzcyNzA0MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YzM3ZDkyMmIzNjQ0YWM1YWY2YzRmZDMyYTY0MGEzYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMjJlM2ViZGQzNDg0NjAyYTUzZjA5NjA4NTA4MzIzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTIyZTNlYmRkMzQ4NDYwMmE1M2YwOTYwODUwODMyMzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0LiBKYW1lcyBUb3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83YzM3ZDkyMmIzNjQ0YWM1YWY2YzRmZDMyYTY0MGEzYS5zZXRDb250ZW50KGh0bWxfYTIyZTNlYmRkMzQ4NDYwMmE1M2YwOTYwODUwODMyMzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGYwMWI5YTY2MTc5NGIwMTkyN2EwMGQwNmM2NTRjYTEuYmluZFBvcHVwKHBvcHVwXzdjMzdkOTIyYjM2NDRhYzVhZjZjNGZkMzJhNjQwYTNhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q0NDkzOTMxYmZkZTQwODk5ZjA5NTkwOGYxM2M1ODYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5NjE5MSwtNzkuNDc5MTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmZjk4ODNmODkyNTQ4YThiYzEzYjAxYTZmN2M4NDFlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IwMzllNzNhZWMyZTRmZjc5MjExZGFhMTI0MTExOTYwID0gJCgnPGRpdiBpZD0iaHRtbF9iMDM5ZTczYWVjMmU0ZmY3OTIxMWRhYTEyNDExMTk2MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtZXdvb2QtQ2VkYXJ2YWxlLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZmY5ODgzZjg5MjU0OGE4YmMxM2IwMWE2ZjdjODQxZS5zZXRDb250ZW50KGh0bWxfYjAzOWU3M2FlYzJlNGZmNzkyMTFkYWExMjQxMTE5NjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDQ0OTM5MzFiZmRlNDA4OTlmMDk1OTA4ZjEzYzU4NjIuYmluZFBvcHVwKHBvcHVwX2ZmZjk4ODNmODkyNTQ4YThiYzEzYjAxYTZmN2M4NDFlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2UzNzdmNjg0N2U5MDRhNmE5ZDU5ZmQ1NWJiNjBmMTc5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM1MzE2OSwtNzkuNTYzNjc0NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83MDRhZmU0MzY4NzU0Njk1OTI0MWI4NTgxZTQ5YjVlOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNWY1NGZkODk0ZGY0MTllYTkxMjQwYmE5M2Y2OTJhNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTVmNTRmZDg5NGRmNDE5ZWE5MTI0MGJhOTNmNjkyYTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJsb29yZGFsZSBHYXJkZW5zLEVyaW5nYXRlLE1hcmtsYW5kIFdvb2QsT2xkIEJ1cm5oYW10aG9ycGUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzA0YWZlNDM2ODc1NDY5NTkyNDFiODU4MWU0OWI1ZTguc2V0Q29udGVudChodG1sXzE1ZjU0ZmQ4OTRkZjQxOWVhOTEyNDBiYTkzZjY5MmE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UzNzdmNjg0N2U5MDRhNmE5ZDU5ZmQ1NWJiNjBmMTc5LmJpbmRQb3B1cChwb3B1cF83MDRhZmU0MzY4NzU0Njk1OTI0MWI4NTgxZTQ5YjVlOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYjg0MmU3NjBlYmU0YjdhYjQwODk4MTE5ZjA5YWVjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDg5ODUsLTc5LjE5Nzc3NTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGI4MzQzNjMxY2M4NDUzMGFlOGIyOTY3MmNhYWE3OWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDE4N2NhYzkwN2Q1NGZjMDkzOWY5YThmNGFkYTJmOTggPSAkKCc8ZGl2IGlkPSJodG1sXzAxODdjYWM5MDdkNTRmYzA5MzlmOWE4ZjRhZGEyZjk4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HdWlsZHdvb2QsTW9ybmluZ3NpZGUsV2VzdCBIaWxsLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGI4MzQzNjMxY2M4NDUzMGFlOGIyOTY3MmNhYWE3OWUuc2V0Q29udGVudChodG1sXzAxODdjYWM5MDdkNTRmYzA5MzlmOWE4ZjRhZGEyZjk4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBiODQyZTc2MGViZTRiN2FiNDA4OTgxMTlmMDlhZWM1LmJpbmRQb3B1cChwb3B1cF9kYjgzNDM2MzFjYzg0NTMwYWU4YjI5NjcyY2FhYTc5ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZTQzMjk4MTI5Y2M0ZDc5OGNjMDA2MzBlYjQ2ZTk3YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MTAyNDQsLTc5LjI5NjcxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYmFhODk0NDAyNjI0ZDMzYTQ0MjEzMzBiZjlhNDc2NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MzRlNmJjMDM5ZDM0MmM1YjBhMjZkYTQ3YmQ5ZTUyMyA9ICQoJzxkaXYgaWQ9Imh0bWxfOTM0ZTZiYzAzOWQzNDJjNWIwYTI2ZGE0N2JkOWU1MjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFiYWE4OTQ0MDI2MjRkMzNhNDQyMTMzMGJmOWE0NzY1LnNldENvbnRlbnQoaHRtbF85MzRlNmJjMDM5ZDM0MmM1YjBhMjZkYTQ3YmQ5ZTUyMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZTQzMjk4MTI5Y2M0ZDc5OGNjMDA2MzBlYjQ2ZTk3Yi5iaW5kUG9wdXAocG9wdXBfMWJhYTg5NDQwMjYyNGQzM2E0NDIxMzMwYmY5YTQ3NjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODZhNGZiZDhiNzBlNGRmZjkxNWUxZmE2YzNhMzRhZjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5ODg3LC03OS4zNzUzOTI3MjYwMTc4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmODkwNzcwMzU2ZjRkYmY4MWY1N2UxZWYxYjU4NWFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkzODgxZWFkZDBhOTQxODY5ZjE3MmYzYmQ0ZjVmZDk3ID0gJCgnPGRpdiBpZD0iaHRtbF85Mzg4MWVhZGQwYTk0MTg2OWYxNzJmM2JkNGY1ZmQ5NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVyY3p5IFBhcmssIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmODkwNzcwMzU2ZjRkYmY4MWY1N2UxZWYxYjU4NWFhLnNldENvbnRlbnQoaHRtbF85Mzg4MWVhZGQwYTk0MTg2OWYxNzJmM2JkNGY1ZmQ5Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NmE0ZmJkOGI3MGU0ZGZmOTE1ZTFmYTZjM2EzNGFmNi5iaW5kUG9wdXAocG9wdXBfZmY4OTA3NzAzNTZmNGRiZjgxZjU3ZTFlZjFiNTg1YWEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDNmNjVlMTY2OWMyNGJjOGJlZmMzOTY5NTFmZGNlMzUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk2MTkxLC03OS40NzkxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjZlNmM0OWU5NzdlNDRiNjg5MDg0NjExZDVkNmJkMTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzYzYmUzMzQxMTkyNDg4MDhmMzQ2NDdjNTJlNjc2ZjMgPSAkKCc8ZGl2IGlkPSJodG1sXzc2M2JlMzM0MTE5MjQ4ODA4ZjM0NjQ3YzUyZTY3NmYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWxlZG9uaWEtRmFpcmJhbmtzLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNmU2YzQ5ZTk3N2U0NGI2ODkwODQ2MTFkNWQ2YmQxMS5zZXRDb250ZW50KGh0bWxfNzYzYmUzMzQxMTkyNDg4MDhmMzQ2NDdjNTJlNjc2ZjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDNmNjVlMTY2OWMyNGJjOGJlZmMzOTY5NTFmZGNlMzUuYmluZFBvcHVwKHBvcHVwX2I2ZTZjNDllOTc3ZTQ0YjY4OTA4NDYxMWQ1ZDZiZDExKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhkMzRiZWVkZTgwYTQyMDliMDJmZmM3MmU1ZGViYThlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU5ODI0MywtNzkuMjI1MjkwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MGNkYWJlNTg2NTU0N2NiYjc0ZDg4NDgyYjBiY2RkZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wOGYwYjM4MmZhZDI0YzY0YTFhNDA3YTcyNGU1NzU3MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDhmMGIzODJmYWQyNGM2NGExYTQwN2E3MjRlNTc1NzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwY2RhYmU1ODY1NTQ3Y2JiNzRkODg0ODJiMGJjZGRlLnNldENvbnRlbnQoaHRtbF8wOGYwYjM4MmZhZDI0YzY0YTFhNDA3YTcyNGU1NzU3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ZDM0YmVlZGU4MGE0MjA5YjAyZmZjNzJlNWRlYmE4ZS5iaW5kUG9wdXAocG9wdXBfNjBjZGFiZTU4NjU1NDdjYmI3NGQ4ODQ4MmIwYmNkZGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTg5Mzg2YWQ0YTM2NDNhZmI2ZTBiNWViOTU4Njk2MmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQ3OTgzLC03OS4zNjgwOTA0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBkMjM1YzNmOWVmMzQ5NDJhMjMyNTkyOTM5MGQ4NWY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk5MTFiNjA3MDgwZDRkNmI5NjQ3NmIxOTJlOTExN2E4ID0gJCgnPGRpdiBpZD0iaHRtbF85OTExYjYwNzA4MGQ0ZDZiOTY0NzZiMTkyZTkxMTdhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhc2lkZSwgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZDIzNWMzZjllZjM0OTQyYTIzMjU5MjkzOTBkODVmOS5zZXRDb250ZW50KGh0bWxfOTkxMWI2MDcwODBkNGQ2Yjk2NDc2YjE5MmU5MTE3YTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTg5Mzg2YWQ0YTM2NDNhZmI2ZTBiNWViOTU4Njk2MmYuYmluZFBvcHVwKHBvcHVwXzBkMjM1YzNmOWVmMzQ5NDJhMjMyNTkyOTM5MGQ4NWY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc0YWMzZTQ4NTA2MzRlNDJiNTExMzdjNTllY2Q3YjYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYxOTM2OSwtNzkuMzg2MTI4NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ODJiY2ZmNjU5NWE0YzBhOWM0NmRkYzNkZGMxY2NkYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NzI4ZTY0NjZhOGY0N2YyOTU1MzIwMzBhMTFmMjQyZiA9ICQoJzxkaXYgaWQ9Imh0bWxfOTcyOGU2NDY2YThmNDdmMjk1NTMyMDMwYTExZjI0MmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTgyYmNmZjY1OTVhNGMwYTljNDZkZGMzZGRjMWNjZGIuc2V0Q29udGVudChodG1sXzk3MjhlNjQ2NmE4ZjQ3ZjI5NTUzMjAzMGExMWYyNDJmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc0YWMzZTQ4NTA2MzRlNDJiNTExMzdjNTllY2Q3YjYxLmJpbmRQb3B1cChwb3B1cF81ODJiY2ZmNjU5NWE0YzBhOWM0NmRkYzNkZGMxY2NkYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81Y2UwODcyMzcyZmU0MWVjYTk5MzYxNTFjYzUxMWE0ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NDExMDYsLTc5LjQxODQwNTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTBkMGMxY2QwMDFlNDc4Yzg5ZjIzOGQyYTM2NDY1MzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDUyYTgyNGYyODE1NDMzMmIzZmZiYjE2ZDcwZjJlMTUgPSAkKCc8ZGl2IGlkPSJodG1sXzA1MmE4MjRmMjgxNTQzMzJiM2ZmYmIxNmQ3MGYyZTE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHJpc3RpZSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTBkMGMxY2QwMDFlNDc4Yzg5ZjIzOGQyYTM2NDY1Mzcuc2V0Q29udGVudChodG1sXzA1MmE4MjRmMjgxNTQzMzJiM2ZmYmIxNmQ3MGYyZTE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVjZTA4NzIzNzJmZTQxZWNhOTkzNjE1MWNjNTExYTRmLmJpbmRQb3B1cChwb3B1cF8xMGQwYzFjZDAwMWU0NzhjODlmMjM4ZDJhMzY0NjUzNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MjMzNDgxYzE0MTA0MmVmOGI5YzcyY2U0N2Y2ODM0ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjQ2NjU1LC03OS4yMjY2OTI0NDI1ODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmQ1OWM4NzM5NjYyNGI1YTljYjk4ZGQ3YjZiZGJhM2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjIyZTM3OTM0NDc1NDc2N2IzNTFhZGFjNjQ4NTU5NDMgPSAkKCc8ZGl2IGlkPSJodG1sXzIyMmUzNzkzNDQ3NTQ3NjdiMzUxYWRhYzY0ODU1OTQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZWRhcmJyYWUsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZDU5Yzg3Mzk2NjI0YjVhOWNiOThkZDdiNmJkYmEzZi5zZXRDb250ZW50KGh0bWxfMjIyZTM3OTM0NDc1NDc2N2IzNTFhZGFjNjQ4NTU5NDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzIzMzQ4MWMxNDEwNDJlZjhiOWM3MmNlNDdmNjgzNGQuYmluZFBvcHVwKHBvcHVwX2JkNTljODczOTY2MjRiNWE5Y2I5OGRkN2I2YmRiYTNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA1ODViNWU5NDVkNDQwZmFiNWE4OTRmNmI5MWIwYWJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk5NjYzNywtNzkuMzY1MDE4OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMWVkYmM2ZTQyNzE0NmY4OWQ0NDBlY2VlOGY2OGE3OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OTk0MWQxMjYwN2Y0YzY3OWY0NTA1YTNlYzE5NGMwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzk5NDFkMTI2MDdmNGM2NzlmNDUwNWEzZWMxOTRjMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpbGxjcmVzdCBWaWxsYWdlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMWVkYmM2ZTQyNzE0NmY4OWQ0NDBlY2VlOGY2OGE3OC5zZXRDb250ZW50KGh0bWxfNzk5NDFkMTI2MDdmNGM2NzlmNDUwNWEzZWMxOTRjMDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDU4NWI1ZTk0NWQ0NDBmYWI1YTg5NGY2YjkxYjBhYmQuYmluZFBvcHVwKHBvcHVwX2YxZWRiYzZlNDI3MTQ2Zjg5ZDQ0MGVjZWU4ZjY4YTc4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI3ZGNiYTU4NGZkNDRkZGFiODcwZjMwMDcyOGI2MWQwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzODkyOTUsLTc5LjQ1NjM2NjkzNzEwOTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmJiZWZkODY2NjU1NGIwZmJkMDVlNjFmMjdiZmM1NDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWIzMTM2YTBmYWFmNDI5MGE5OTg2MWJmMGY4NDY1NzggPSAkKCc8ZGl2IGlkPSJodG1sXzliMzEzNmEwZmFhZjQyOTBhOTk4NjFiZjBmODQ2NTc4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXRodXJzdCBNYW5vcixEb3duc3ZpZXcgTm9ydGgsV2lsc29uIEhlaWdodHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJiYmVmZDg2NjY1NTRiMGZiZDA1ZTYxZjI3YmZjNTQ4LnNldENvbnRlbnQoaHRtbF85YjMxMzZhMGZhYWY0MjkwYTk5ODYxYmYwZjg0NjU3OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yN2RjYmE1ODRmZDQ0ZGRhYjg3MGYzMDA3MjhiNjFkMC5iaW5kUG9wdXAocG9wdXBfMmJiZWZkODY2NjU1NGIwZmJkMDVlNjFmMjdiZmM1NDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGM4YTQ5MjlmYzNhNDZhNGI1NDQ3NmRiOTkxNTIzZjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQ1NTMsLTc5LjM0NTQwNzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2MzMzIyM2M1NDAwNDk5Yjg4NDMwYzg5YzQ5ZDFlYjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjk0NmM1NGZlN2IwNGZkOGFiZWFhMmIzNTExZDFiYzUgPSAkKCc8ZGl2IGlkPSJodG1sXzI5NDZjNTRmZTdiMDRmZDhhYmVhYTJiMzUxMWQxYmM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaG9ybmNsaWZmZSBQYXJrLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NjMzMyMjNjNTQwMDQ5OWI4ODQzMGM4OWM0OWQxZWI1LnNldENvbnRlbnQoaHRtbF8yOTQ2YzU0ZmU3YjA0ZmQ4YWJlYWEyYjM1MTFkMWJjNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YzhhNDkyOWZjM2E0NmE0YjU0NDc2ZGI5OTE1MjNmNy5iaW5kUG9wdXAocG9wdXBfY2MzMzIyM2M1NDAwNDk5Yjg4NDMwYzg5YzQ5ZDFlYjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2FlNGQyNDk1MmVkNDVjMzliYTI0MjczY2RlZTk3NGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTAyOTgwNSwtNzkuMzgwNDc3MjQ3NzkwOV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNTE2ZjRlZTQ2NGM0ZjE3ODU3YzAxYzUzYWMxYTdkNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zOTQxZmJmNjM4OTc0N2YxOWJmOTk5OTE0NjZiOGU0MCA9ICQoJzxkaXYgaWQ9Imh0bWxfMzk0MWZiZjYzODk3NDdmMTliZjk5OTkxNDY2YjhlNDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFkZWxhaWRlLEtpbmcsUmljaG1vbmQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E1MTZmNGVlNDY0YzRmMTc4NTdjMDFjNTNhYzFhN2Q1LnNldENvbnRlbnQoaHRtbF8zOTQxZmJmNjM4OTc0N2YxOWJmOTk5OTE0NjZiOGU0MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YWU0ZDI0OTUyZWQ0NWMzOWJhMjQyNzNjZGVlOTc0ZS5iaW5kUG9wdXAocG9wdXBfYTUxNmY0ZWU0NjRjNGYxNzg1N2MwMWM1M2FjMWE3ZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjZhZTIzNWYxOTQzNDBlYThiM2Q4MWZhMTM0ODE2MjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjUzMDY5LC03OS40MzI2MzYyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMwNDQxOGY0ODFhZTQ3MzViNjZiZjhjMDk0NDZmNjllID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdjN2JlYWYwZjM1MDQzYjM5Y2JkYjEyMmU2YzE0MTQxID0gJCgnPGRpdiBpZD0iaHRtbF83YzdiZWFmMGYzNTA0M2IzOWNiZGIxMjJlNmMxNDE0MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG92ZXJjb3VydCBWaWxsYWdlLER1ZmZlcmluLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwNDQxOGY0ODFhZTQ3MzViNjZiZjhjMDk0NDZmNjllLnNldENvbnRlbnQoaHRtbF83YzdiZWFmMGYzNTA0M2IzOWNiZGIxMjJlNmMxNDE0MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNmFlMjM1ZjE5NDM0MGVhOGIzZDgxZmExMzQ4MTYyOC5iaW5kUG9wdXAocG9wdXBfMzA0NDE4ZjQ4MWFlNDczNWI2NmJmOGMwOTQ0NmY2OWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTg5MGM3Zjc5ZjUzNGMwMGExMDM3ZDJiNDAwYTY0ODggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDM3NDIyLC03OS4yMTE2MzI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmNzk5NjMyM2FmOTRmNjY5OGYxZjhiMGI1NDBkMGRmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FhM2I2NDk3ZTMyNzQzYmNiZDk1YzRjMjE0MGE4M2QzID0gJCgnPGRpdiBpZD0iaHRtbF9hYTNiNjQ5N2UzMjc0M2JjYmQ5NWM0YzIxNDBhODNkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2ggVmlsbGFnZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmNzk5NjMyM2FmOTRmNjY5OGYxZjhiMGI1NDBkMGRmLnNldENvbnRlbnQoaHRtbF9hYTNiNjQ5N2UzMjc0M2JjYmQ5NWM0YzIxNDBhODNkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lODkwYzdmNzlmNTM0YzAwYTEwMzdkMmI0MDBhNjQ4OC5iaW5kUG9wdXAocG9wdXBfZmY3OTk2MzIzYWY5NGY2Njk4ZjFmOGIwYjU0MGQwZGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGU5NTA2MTcyOTJjNDZlYjg2ZjE4ODkwZmY4ZDk2OTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM5NjMsLTc5LjM4NzIwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYzVmNDdmYTllMDE0YzQyOWM3MDljYzY1NDU3ODYxNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NDgxMDFiZDBjMTI0OTVmYWVjYmEwZTFkOGYzZWQ0ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTQ4MTAxYmQwYzEyNDk1ZmFlY2JhMGUxZDhmM2VkNGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LEhlbnJ5IEZhcm0sT3Jpb2xlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYzVmNDdmYTllMDE0YzQyOWM3MDljYzY1NDU3ODYxNy5zZXRDb250ZW50KGh0bWxfNTQ4MTAxYmQwYzEyNDk1ZmFlY2JhMGUxZDhmM2VkNGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGU5NTA2MTcyOTJjNDZlYjg2ZjE4ODkwZmY4ZDk2OTEuYmluZFBvcHVwKHBvcHVwX2FjNWY0N2ZhOWUwMTRjNDI5YzcwOWNjNjU0NTc4NjE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVjNjY2NTMyNTc0YjQzYmVhNWMzNTZmMGU2ODcwOGVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU0MTM1MSwtNzkuNTA0NDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODBlZmQzM2E2N2YwNGRlNDhiMDViNmE5ZWQzNTdjYjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTZiNzM2MmZkYmNiNDhiZjk4YTNhNzY2ZTcyZTkxNjkgPSAkKCc8ZGl2IGlkPSJodG1sXzk2YjczNjJmZGJjYjQ4YmY5OGEzYTc2NmU3MmU5MTY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyayxZb3JrIFVuaXZlcnNpdHksIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwZWZkMzNhNjdmMDRkZTQ4YjA1YjZhOWVkMzU3Y2IzLnNldENvbnRlbnQoaHRtbF85NmI3MzYyZmRiY2I0OGJmOThhM2E3NjZlNzJlOTE2OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YzY2NjUzMjU3NGI0M2JlYTVjMzU2ZjBlNjg3MDhlZS5iaW5kUG9wdXAocG9wdXBfODBlZmQzM2E2N2YwNGRlNDhiMDViNmE5ZWQzNTdjYjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjBiYjM3NWI1MDNiNDdlYjgwNjU4MWJhMjNjYWVhNGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MjYyNDMsLTc5LjM5Njk2Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kNWM1YWU5ZjkzM2E0ZmE1OGUzM2E1MDFkNWRhNzZjOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hYjljZmYyNzFlNDk0MTk1OWFiYWIzZGIzMzFmNjFiNSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWI5Y2ZmMjcxZTQ5NDE5NTlhYmFiM2RiMzMxZjYxYjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgVG9yb250bywgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNWM1YWU5ZjkzM2E0ZmE1OGUzM2E1MDFkNWRhNzZjOC5zZXRDb250ZW50KGh0bWxfYWI5Y2ZmMjcxZTQ5NDE5NTlhYmFiM2RiMzMxZjYxYjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjBiYjM3NWI1MDNiNDdlYjgwNjU4MWJhMjNjYWVhNGIuYmluZFBvcHVwKHBvcHVwX2Q1YzVhZTlmOTMzYTRmYTU4ZTMzYTUwMWQ1ZGE3NmM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFhODE3ZGRjMGZjNTRjZjE4OWU5NzJiOGM4NGIyNDVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQwMDgwMSwtNzkuMzgwMTQ5NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MWJlZmZmZmVhYzM0YzBlYTNjZmI2YTRkM2Q0NWE4ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMGNjMDMyMjdkNmU0YmVlODU2YjI0NTg3Zjg2Yjk3ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzBjYzAzMjI3ZDZlNGJlZTg1NmIyNDU4N2Y4NmI5N2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvdXJmcm9udCBFYXN0LFRvcm9udG8gSXNsYW5kcyxVbmlvbiBTdGF0aW9uLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MWJlZmZmZmVhYzM0YzBlYTNjZmI2YTRkM2Q0NWE4ZC5zZXRDb250ZW50KGh0bWxfYzBjYzAzMjI3ZDZlNGJlZTg1NmIyNDU4N2Y4NmI5N2QpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWE4MTdkZGMwZmM1NGNmMTg5ZTk3MmI4Yzg0YjI0NWUuYmluZFBvcHVwKHBvcHVwXzQxYmVmZmZmZWFjMzRjMGVhM2NmYjZhNGQzZDQ1YThkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVhMjEyZDkxZjlhZTQ3MWFiZTMyOWQ4NDUxMjE0MTI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3NDEzMjUsLTc5LjQzMTExNjMyNTQ2MDVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDMzOTIxYzUxZTE5NDgxMjgzMDQ3ZDU0ZWIyOGFjZDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjY3M2RlOWE4OThhNGIzNmIwMTY5YzNmMDhjNzI4NzUgPSAkKCc8ZGl2IGlkPSJodG1sXzI2NzNkZTlhODk4YTRiMzZiMDE2OWMzZjA4YzcyODc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MaXR0bGUgUG9ydHVnYWwsVHJpbml0eSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kMzM5MjFjNTFlMTk0ODEyODMwNDdkNTRlYjI4YWNkMC5zZXRDb250ZW50KGh0bWxfMjY3M2RlOWE4OThhNGIzNmIwMTY5YzNmMDhjNzI4NzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWEyMTJkOTFmOWFlNDcxYWJlMzI5ZDg0NTEyMTQxMjUuYmluZFBvcHVwKHBvcHVwX2QzMzkyMWM1MWUxOTQ4MTI4MzA0N2Q1NGViMjhhY2QwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VmZjViMDExM2I0MjQ3NDFhMTUwZGVkYTE4Yzg1ZmZlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE0MTY3MiwtNzkuMjcxMTA5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlZTAxYTJhYzY4NDQwODg5YWQxYjk3Y2Y1MGNjMTllID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M0OTc3ZTliZDBmYzQ5ZjJiY2ZmMTczY2I0OGY1NTJiID0gJCgnPGRpdiBpZD0iaHRtbF9jNDk3N2U5YmQwZmM0OWYyYmNmZjE3M2NiNDhmNTUyYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBCaXJjaG1vdW50IFBhcmssSW9udmlldyxLZW5uZWR5IFBhcmssIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZWUwMWEyYWM2ODQ0MDg4OWFkMWI5N2NmNTBjYzE5ZS5zZXRDb250ZW50KGh0bWxfYzQ5NzdlOWJkMGZjNDlmMmJjZmYxNzNjYjQ4ZjU1MmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWZmNWIwMTEzYjQyNDc0MWExNTBkZWRhMThjODVmZmUuYmluZFBvcHVwKHBvcHVwX2ZlZTAxYTJhYzY4NDQwODg5YWQxYjk3Y2Y1MGNjMTllKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VkZWY1NTdiYWYzYTQwN2E5N2YxNWY3MTVjNDU5YTdhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzY5MTk2NiwtNzkuMzc2NjYxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82M2U3NDQ3ZGJmMTM0NTRhOGQ2OWM5NzRiMGU5NWYyZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zODMzNmVkZDJlN2E0NTEwOGQ0MTRmZTA1NTdhOGM5NiA9ICQoJzxkaXYgaWQ9Imh0bWxfMzgzMzZlZGQyZTdhNDUxMDhkNDE0ZmUwNTU3YThjOTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjNlNzQ0N2RiZjEzNDU0YThkNjljOTc0YjBlOTVmMmYuc2V0Q29udGVudChodG1sXzM4MzM2ZWRkMmU3YTQ1MTA4ZDQxNGZlMDU1N2E4Yzk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VkZWY1NTdiYWYzYTQwN2E5N2YxNWY3MTVjNDU5YTdhLmJpbmRQb3B1cChwb3B1cF82M2U3NDQ3ZGJmMTM0NTRhOGQ2OWM5NzRiMGU5NWYyZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjQzZDgwMjI1MDA0NDVjOWZmN2FhOGJkMzhhNmMxOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MDgxNzUsLTc5LjQxMzI5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzI4NWM4NTIxMjg2NGU0MGFhMjlhZjEyMzY0MmJlM2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmI5MzQyMzY3Yjk3NDZmNWI0ZTJkZDA4YzUxNzgwOWQgPSAkKCc8ZGl2IGlkPSJodG1sXzJiOTM0MjM2N2I5NzQ2ZjViNGUyZGQwOGM1MTc4MDlkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250byxEb3duc3ZpZXcgRWFzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzI4NWM4NTIxMjg2NGU0MGFhMjlhZjEyMzY0MmJlM2Euc2V0Q29udGVudChodG1sXzJiOTM0MjM2N2I5NzQ2ZjViNGUyZGQwOGM1MTc4MDlkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JiNDNkODAyMjUwMDQ0NWM5ZmY3YWE4YmQzOGE2YzE4LmJpbmRQb3B1cChwb3B1cF9jMjg1Yzg1MjEyODY0ZTQwYWEyOWFmMTIzNjQyYmUzYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNWQzMjhmMzJkMGQ0YTM2YjdlMjIzODk3MTU0OTkzYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjM1OTgsLTc5LjMwMDMxNThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmY2YjFjZDFmMzliNGNkY2FhZmM1Zjg5YjM4YjMxNWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWI4OGZkNjlhOGNhNDRkNmEzM2RjNTA5NmUxMzhhNGIgPSAkKCc8ZGl2IGlkPSJodG1sX2FiODhmZDY5YThjYTQ0ZDZhMzNkYzUwOTZlMTM4YTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCxSaXZlcmRhbGUsIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmY2YjFjZDFmMzliNGNkY2FhZmM1Zjg5YjM4YjMxNWMuc2V0Q29udGVudChodG1sX2FiODhmZDY5YThjYTQ0ZDZhMzNkYzUwOTZlMTM4YTRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI1ZDMyOGYzMmQwZDRhMzZiN2UyMjM4OTcxNTQ5OTNjLmJpbmRQb3B1cChwb3B1cF82ZjZiMWNkMWYzOWI0Y2RjYWFmYzVmODliMzhiMzE1Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNzk4NzUwYmE4MWM0NjdkOTg2ODRkYWFhOTM0NDk0NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0Nzc0MTIsLTc5LjM4MDExNDVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmIyNzI5Y2MxYjg2NGRmZjk1MGM3ZGVjM2RmMmYwZWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzc1MTEyMmYzYmZmNDViOTk5MTUzYWRlYzMwMjZhNzEgPSAkKCc8ZGl2IGlkPSJodG1sXzM3NTExMjJmM2JmZjQ1Yjk5OTE1M2FkZWMzMDI2YTcxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZXNpZ24gRXhjaGFuZ2UsVG9yb250byBEb21pbmlvbiBDZW50cmUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZiMjcyOWNjMWI4NjRkZmY5NTBjN2RlYzNkZjJmMGVlLnNldENvbnRlbnQoaHRtbF8zNzUxMTIyZjNiZmY0NWI5OTkxNTNhZGVjMzAyNmE3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lNzk4NzUwYmE4MWM0NjdkOTg2ODRkYWFhOTM0NDk0NS5iaW5kUG9wdXAocG9wdXBfZmIyNzI5Y2MxYjg2NGRmZjk1MGM3ZGVjM2RmMmYwZWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGU5Yzc4MTMxYWJmNDA4NjgyMDJlNDkxZWMwNmE2NmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTA5MTczLC03OS40NDAwMjE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I0NjE3NDg4ODEwODQyMDRhMTQ5ZDkyYTk3MzJiODgwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkzZWU4OWMwMGU1MDRjMmRiYTNkMGJmMzA1YmQxNzcxID0gJCgnPGRpdiBpZD0iaHRtbF85M2VlODljMDBlNTA0YzJkYmEzZDBiZjMwNWJkMTc3MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnJvY2t0b24sRXhoaWJpdGlvbiBQbGFjZSxQYXJrZGFsZSBWaWxsYWdlLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I0NjE3NDg4ODEwODQyMDRhMTQ5ZDkyYTk3MzJiODgwLnNldENvbnRlbnQoaHRtbF85M2VlODljMDBlNTA0YzJkYmEzZDBiZjMwNWJkMTc3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZTljNzgxMzFhYmY0MDg2ODIwMmU0OTFlYzA2YTY2YS5iaW5kUG9wdXAocG9wdXBfYjQ2MTc0ODg4MTA4NDIwNGExNDlkOTJhOTczMmI4ODApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDFhNmI0MDE2MDE5NDMyYWJiMzhkZDg1YzQ2MTcxZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDg4MjMxLC03OS4yOTU5ODU2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdhNDBmYjFjNTBhNDQwZjdiNzQ2NDhmYzY2ZWE5ZjZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIyZTcyMGRkMDllZjQ5ZmQ4ZjA1ZWFmYjY1YjJhZDhhID0gJCgnPGRpdiBpZD0iaHRtbF8yMmU3MjBkZDA5ZWY0OWZkOGYwNWVhZmI2NWIyYWQ4YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xhaXJsZWEsR29sZGVuIE1pbGUsT2FrcmlkZ2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83YTQwZmIxYzUwYTQ0MGY3Yjc0NjQ4ZmM2NmVhOWY2ZC5zZXRDb250ZW50KGh0bWxfMjJlNzIwZGQwOWVmNDlmZDhmMDVlYWZiNjViMmFkOGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDFhNmI0MDE2MDE5NDMyYWJiMzhkZDg1YzQ2MTcxZjEuYmluZFBvcHVwKHBvcHVwXzdhNDBmYjFjNTBhNDQwZjdiNzQ2NDhmYzY2ZWE5ZjZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM0MzA5N2JlMjI4NjRkMWNhZWIwY2U5YzQyNDg5YTljID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYxMjIyNCwtNzkuMzY4MzgxOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZWM5OWE4NzY2ZTY0NWQwOTliZWIxMDliY2FlMjNjYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZmUxZTM0Nzk4MTc0OTRjYWFlYTJmMjM5ODJjZjdhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGZlMWUzNDc5ODE3NDk0Y2FhZWEyZjIzOTgyY2Y3YTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNpbHZlciBIaWxscyxZb3JrIE1pbGxzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZWM5OWE4NzY2ZTY0NWQwOTliZWIxMDliY2FlMjNjYy5zZXRDb250ZW50KGh0bWxfOGZlMWUzNDc5ODE3NDk0Y2FhZWEyZjIzOTgyY2Y3YTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzQzMDk3YmUyMjg2NGQxY2FlYjBjZTljNDI0ODlhOWMuYmluZFBvcHVwKHBvcHVwX2NlYzk5YTg3NjZlNjQ1ZDA5OWJlYjEwOWJjYWUyM2NjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA2ZmZjY2MzZDA1MjQ0MDJiYjEyZWU4Y2E2OWU1YmY2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ5Mjk4OCwtNzkuNDYyMjQ4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI0OTEyY2RiMTU2OTQzNzI4ODYxZmZjZmQwYWJiNTUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFhNmMzMjk2MzQwNjRjOTk4MzEyMmQyYjk4MDE5MjNiID0gJCgnPGRpdiBpZD0iaHRtbF8xYTZjMzI5NjM0MDY0Yzk5ODMxMjJkMmI5ODAxOTIzYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IFdlc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI0OTEyY2RiMTU2OTQzNzI4ODYxZmZjZmQwYWJiNTUyLnNldENvbnRlbnQoaHRtbF8xYTZjMzI5NjM0MDY0Yzk5ODMxMjJkMmI5ODAxOTIzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNmZmY2NjM2QwNTI0NDAyYmIxMmVlOGNhNjllNWJmNi5iaW5kUG9wdXAocG9wdXBfMjQ5MTJjZGIxNTY5NDM3Mjg4NjFmZmNmZDBhYmI1NTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzFjOTJmMTUyM2NjNDg1Njg4NGNiODY5Y2QwZDM5YzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzEwMjQ0LC03OS4yOTY3MTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWUyNzUyZWI0ZWMwNGIyNjk3YzZhYzM4Yjc3YmY2YWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2MwYjMxMDI2MjRiNGIwNDk3MTgxMDEyMDVhMTcyZDcgPSAkKCc8ZGl2IGlkPSJodG1sXzNjMGIzMTAyNjI0YjRiMDQ5NzE4MTAxMjA1YTE3MmQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcyBXZXN0LEluZGlhIEJhemFhciwgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZTI3NTJlYjRlYzA0YjI2OTdjNmFjMzhiNzdiZjZhYi5zZXRDb250ZW50KGh0bWxfM2MwYjMxMDI2MjRiNGIwNDk3MTgxMDEyMDVhMTcyZDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzFjOTJmMTUyM2NjNDg1Njg4NGNiODY5Y2QwZDM5YzguYmluZFBvcHVwKHBvcHVwXzllMjc1MmViNGVjMDRiMjY5N2M2YWMzOGI3N2JmNmFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdmY2JmMGViNDNjMjRhOTk4YmQzNzQ3YzdjMjhlMzQ2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MDk1MTUsLTc5LjM3OTAyMDcyMDQ3MzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWVkOTZhZTgyNjU4NDIzMmJiMGY3M2E4NmZkMWI2NTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWZiZmVmZjBlZmYyNGZkOTgwNmRhODQyZmZhZTVmZmIgPSAkKCc8ZGl2IGlkPSJodG1sXzlmYmZlZmYwZWZmMjRmZDk4MDZkYTg0MmZmYWU1ZmZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCxWaWN0b3JpYSBIb3RlbCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWVkOTZhZTgyNjU4NDIzMmJiMGY3M2E4NmZkMWI2NTIuc2V0Q29udGVudChodG1sXzlmYmZlZmYwZWZmMjRmZDk4MDZkYTg0MmZmYWU1ZmZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdmY2JmMGViNDNjMjRhOTk4YmQzNzQ3YzdjMjhlMzQ2LmJpbmRQb3B1cChwb3B1cF85ZWQ5NmFlODI2NTg0MjMyYmIwZjczYTg2ZmQxYjY1Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYTBhMWVlODExYmQ0ZTZjYjZkZjUyMGY5ZWI0NzY2NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0OTI5ODgsLTc5LjQ2MjI0OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNTJhMjVkZDc5NTY0ZmI5YTE4NjQyNjA1NDk5OWQ0MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iOTlkN2Y4MTI2MmE0NTJhYjQ3YzQxMzFiY2ZkYTExZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjk5ZDdmODEyNjJhNDUyYWI0N2M0MTMxYmNmZGExMWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyxOb3J0aCBQYXJrLFVwd29vZCBQYXJrLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNTJhMjVkZDc5NTY0ZmI5YTE4NjQyNjA1NDk5OWQ0MC5zZXRDb250ZW50KGh0bWxfYjk5ZDdmODEyNjJhNDUyYWI0N2M0MTMxYmNmZGExMWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGEwYTFlZTgxMWJkNGU2Y2I2ZGY1MjBmOWViNDc2NjQuYmluZFBvcHVwKHBvcHVwX2I1MmEyNWRkNzk1NjRmYjlhMTg2NDI2MDU0OTk5ZDQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJhNmMxMjY0YTA1ZDQ5YTJhYzI5MjZjMTg1ZjQyM2EwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYwMDc3OCwtNzkuNTcxNzU5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MjdiNWE3N2Q2NTM0NGJhOWMzOWJjNmQxMDQ0ZjhiNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MzczMDUxZDQ2NWQ0YWQ0OTFlOGU3ZmEwNTVhOGQzMCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTM3MzA1MWQ0NjVkNGFkNDkxZThlN2ZhMDU1YThkMzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYyN2I1YTc3ZDY1MzQ0YmE5YzM5YmM2ZDEwNDRmOGI3LnNldENvbnRlbnQoaHRtbF85MzczMDUxZDQ2NWQ0YWQ0OTFlOGU3ZmEwNTVhOGQzMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYTZjMTI2NGEwNWQ0OWEyYWMyOTI2YzE4NWY0MjNhMC5iaW5kUG9wdXAocG9wdXBfNjI3YjVhNzdkNjUzNDRiYTljMzliYzZkMTA0NGY4YjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTYyYzBiMDFhMmFlNDJlZmIyMmQxZGQyNTA0NWY1MjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjE5Mzg3LC03OS4yMzYyMzI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA1NTMyYzRmYzdkMTQ3Y2Y4YmViYjZiMzU0NWNjMGU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I5ODEwODFlYmZhYzQwYzFhMDY0MDM1NjZjODJiYjVlID0gJCgnPGRpdiBpZD0iaHRtbF9iOTgxMDgxZWJmYWM0MGMxYTA2NDAzNTY2YzgyYmI1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xpZmZjcmVzdCxDbGlmZnNpZGUsU2NhcmJvcm91Z2ggVmlsbGFnZSBXZXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDU1MzJjNGZjN2QxNDdjZjhiZWJiNmIzNTQ1Y2MwZTcuc2V0Q29udGVudChodG1sX2I5ODEwODFlYmZhYzQwYzFhMDY0MDM1NjZjODJiYjVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzk2MmMwYjAxYTJhZTQyZWZiMjJkMWRkMjUwNDVmNTIxLmJpbmRQb3B1cChwb3B1cF8wNTUzMmM0ZmM3ZDE0N2NmOGJlYmI2YjM1NDVjYzBlNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNmZiMDgyNmVlOGI0YzE3OTQ3ZjhmM2I0YTY4ZjczMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5Mzg4NjMsLTc5LjQyNTY3OTAyMzAxMDVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2QxNjAwOTkzOTA3NDU1NGE2ODEzYzg2ZTcxYzAyODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjhkNGI5NmM5YmVjNGNjYjkyOTAxM2YwMWU1MTI2ZjQgPSAkKCc8ZGl2IGlkPSJodG1sXzI4ZDRiOTZjOWJlYzRjY2I5MjkwMTNmMDFlNTEyNmY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OZXd0b25icm9vayxXaWxsb3dkYWxlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZDE2MDA5OTM5MDc0NTU0YTY4MTNjODZlNzFjMDI4OS5zZXRDb250ZW50KGh0bWxfMjhkNGI5NmM5YmVjNGNjYjkyOTAxM2YwMWU1MTI2ZjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZmYjA4MjZlZThiNGMxNzk0N2Y4ZjNiNGE2OGY3MzIuYmluZFBvcHVwKHBvcHVwXzdkMTYwMDk5MzkwNzQ1NTRhNjgxM2M4NmU3MWMwMjg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MwYTc0MzNhNTcyMjRmMmZiMzI5ZDkyMzM3ZjM1YmIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ5Mjk4OCwtNzkuNDYyMjQ4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhlOGRkNmFlZWRhODQzZWI5NWYwZGY3NjEyOWMwOTg3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAwZTc4ODBmNzFiNTQxNmU5YjM4ZDlhODAxNDliNjNkID0gJCgnPGRpdiBpZD0iaHRtbF8wMGU3ODgwZjcxYjU0MTZlOWIzOGQ5YTgwMTQ5YjYzZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENlbnRyYWwsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlOGRkNmFlZWRhODQzZWI5NWYwZGY3NjEyOWMwOTg3LnNldENvbnRlbnQoaHRtbF8wMGU3ODgwZjcxYjU0MTZlOWIzOGQ5YTgwMTQ5YjYzZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jMGE3NDMzYTU3MjI0ZjJmYjMyOWQ5MjMzN2YzNWJiMi5iaW5kUG9wdXAocG9wdXBfOGU4ZGQ2YWVlZGE4NDNlYjk1ZjBkZjc2MTI5YzA5ODcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDM1ZWE0MzZiZWJlNDY4MzllM2Y1N2U0NWVjMjk0OWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQ0MDI5LC03OS4zODc4OTA3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y3OTkxYjJiNTQ0NTQ4MTNhNDU4YjRhMDk4NmFlZTUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxYTg5OWQ2Y2VmZDRhYWU4YjI4ZDk1YTE3NjRjZGJjID0gJCgnPGRpdiBpZD0iaHRtbF9jMWE4OTlkNmNlZmQ0YWFlOGIyOGQ5NWExNzY0Y2RiYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3R1ZGlvIERpc3RyaWN0LCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y3OTkxYjJiNTQ0NTQ4MTNhNDU4YjRhMDk4NmFlZTUyLnNldENvbnRlbnQoaHRtbF9jMWE4OTlkNmNlZmQ0YWFlOGIyOGQ5NWExNzY0Y2RiYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMzVlYTQzNmJlYmU0NjgzOWUzZjU3ZTQ1ZWMyOTQ5YS5iaW5kUG9wdXAocG9wdXBfZjc5OTFiMmI1NDQ1NDgxM2E0NThiNGEwOTg2YWVlNTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGMyNWYxZjM3NmY4NDc0ZGEyNmMwYTA1YjQxY2EwNzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzczODc2LC03OS40MTA5MjUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg0MzI4OWMxYjI2YTQwZTFiNzhlOTcyYjg1YTY2MTFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M3YWNkYWMyYTg1YzQ4Yjk5MGZjZWNmZjYwOWUwYWYwID0gJCgnPGRpdiBpZD0iaHRtbF9jN2FjZGFjMmE4NWM0OGI5OTBmY2VjZmY2MDllMGFmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLExhd3JlbmNlIE1hbm9yIEVhc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg0MzI4OWMxYjI2YTQwZTFiNzhlOTcyYjg1YTY2MTFmLnNldENvbnRlbnQoaHRtbF9jN2FjZGFjMmE4NWM0OGI5OTBmY2VjZmY2MDllMGFmMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YzI1ZjFmMzc2Zjg0NzRkYTI2YzBhMDViNDFjYTA3NC5iaW5kUG9wdXAocG9wdXBfODQzMjg5YzFiMjZhNDBlMWI3OGU5NzJiODVhNjYxMWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNThhZGEyNGIxMjUxNGJlMjhkYjEyYzJlNmMxYzgyYTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk2MTkxLC03OS40NzkxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODkzMjA3Yjk5ZGFlNDlmNzhhMWZlZDdkMTQ3Mzg4MjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTE1N2ZmNDJiZjljNGY3ZjlkZDkyNGEwMjVjN2RiMzUgPSAkKCc8ZGl2IGlkPSJodG1sXzkxNTdmZjQyYmY5YzRmN2Y5ZGQ5MjRhMDI1YzdkYjM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWwgUmF5LEtlZWxlc2RhbGUsTW91bnQgRGVubmlzLFNpbHZlcnRob3JuLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84OTMyMDdiOTlkYWU0OWY3OGExZmVkN2QxNDczODgyOS5zZXRDb250ZW50KGh0bWxfOTE1N2ZmNDJiZjljNGY3ZjlkZDkyNGEwMjVjN2RiMzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNThhZGEyNGIxMjUxNGJlMjhkYjEyYzJlNmMxYzgyYTQuYmluZFBvcHVwKHBvcHVwXzg5MzIwN2I5OWRhZTQ5Zjc4YTFmZWQ3ZDE0NzM4ODI5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4ZTFkMDA0YTlmZTQwZjBhMDY4MTZjYTU4NmM0YTVjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyMDc0NCwtNzkuNTQyMzY1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YzUxNTBkZjkyY2U0YzFhYWIyMGUxOGQ5ZGY0MWNiNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NmE5YmM4MTA2NTg0NTc1ODFmMWU3ZTBkZjlhN2RjMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDZhOWJjODEwNjU4NDU3NTgxZjFlN2UwZGY5YTdkYzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVtZXJ5LEh1bWJlcmxlYSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGM1MTUwZGY5MmNlNGMxYWFiMjBlMThkOWRmNDFjYjQuc2V0Q29udGVudChodG1sXzQ2YTliYzgxMDY1ODQ1NzU4MWYxZTdlMGRmOWE3ZGMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4ZTFkMDA0YTlmZTQwZjBhMDY4MTZjYTU4NmM0YTVjLmJpbmRQb3B1cChwb3B1cF84YzUxNTBkZjkyY2U0YzFhYWIyMGUxOGQ5ZGY0MWNiNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOGViNmFlM2ExMTc0NTUyYjMyZjhiZDVjNjNlODU5NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwMjExMjE1LC03OS4yNjAwOTA1MzAxNTY4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcxNGUzMTczMTIwZjRlNmQ4NDI1ZThkYTg1OTBkNDMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FhYjgxZmY1YTczNzRiMjFiY2NhOWU2ZTM0NmMyNWE4ID0gJCgnPGRpdiBpZD0iaHRtbF9hYWI4MWZmNWE3Mzc0YjIxYmNjYTllNmUzNDZjMjVhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsQ2xpZmZzaWRlIFdlc3QsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MTRlMzE3MzEyMGY0ZTZkODQyNWU4ZGE4NTkwZDQzMy5zZXRDb250ZW50KGh0bWxfYWFiODFmZjVhNzM3NGIyMWJjY2E5ZTZlMzQ2YzI1YTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZThlYjZhZTNhMTE3NDU1MmIzMmY4YmQ1YzYzZTg1OTQuYmluZFBvcHVwKHBvcHVwXzcxNGUzMTczMTIwZjRlNmQ4NDI1ZThkYTg1OTBkNDMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNkNzVjYTM1MGNmMDRlZDc4NDBjMDA2OWQ2ZGRkMjM5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc1MzU1OCwtNzkuNDE2Njg1OTgyMzkyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMjk0NTM3ZTk4ODM0OTgxOWU3OGZlYjE5MzY2MjM4MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjg5NDFiZGQxYmQ0YWY5OTM2NzU3NTMwOTY4YjM4ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjY4OTQxYmRkMWJkNGFmOTkzNjc1NzUzMDk2OGIzOGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgU291dGgsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EyOTQ1MzdlOTg4MzQ5ODE5ZTc4ZmViMTkzNjYyMzgwLnNldENvbnRlbnQoaHRtbF8yNjg5NDFiZGQxYmQ0YWY5OTM2NzU3NTMwOTY4YjM4ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZDc1Y2EzNTBjZjA0ZWQ3ODQwYzAwNjlkNmRkZDIzOS5iaW5kUG9wdXAocG9wdXBfYTI5NDUzN2U5ODgzNDk4MTllNzhmZWIxOTM2NjIzODApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmJmNWJkZWQxNmE5NGRlNjg1Njk3MDI5ZjI5M2U5NjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDkyOTg4LC03OS40NjIyNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmMxYWU3ZjNiNGFjNDE2ZGIwNjhmYjE5NjgwMWYzNzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODUwYzRlY2M4YjlmNDVjYzlkNGQ5MzE5MDE1MWQ4YTQgPSAkKCc8ZGl2IGlkPSJodG1sXzg1MGM0ZWNjOGI5ZjQ1Y2M5ZDRkOTMxOTAxNTFkOGE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgTm9ydGh3ZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82YzFhZTdmM2I0YWM0MTZkYjA2OGZiMTk2ODAxZjM3NS5zZXRDb250ZW50KGh0bWxfODUwYzRlY2M4YjlmNDVjYzlkNGQ5MzE5MDE1MWQ4YTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmJmNWJkZWQxNmE5NGRlNjg1Njk3MDI5ZjI5M2U5NjUuYmluZFBvcHVwKHBvcHVwXzZjMWFlN2YzYjRhYzQxNmRiMDY4ZmIxOTY4MDFmMzc1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QwYjU2MzNmYzc4MTQ4MGE4NzU1Mzg0ZmI4MThiNDBjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI5MTk5LC03OS40MDMyNTI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VhYmMzNmM3ODI5MjQwMzA5ZGIxYjZkNGMxNGUyMzRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YwZDE0NDVjMGZlYzRiYzI5N2JhOWFiOGU0Y2FkMTg5ID0gJCgnPGRpdiBpZD0iaHRtbF9mMGQxNDQ1YzBmZWM0YmMyOTdiYTlhYjhlNGNhZDE4OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgUGFyaywgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYWJjMzZjNzgyOTI0MDMwOWRiMWI2ZDRjMTRlMjM0YS5zZXRDb250ZW50KGh0bWxfZjBkMTQ0NWMwZmVjNGJjMjk3YmE5YWI4ZTRjYWQxODkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDBiNTYzM2ZjNzgxNDgwYTg3NTUzODRmYjgxOGI0MGMuYmluZFBvcHVwKHBvcHVwX2VhYmMzNmM3ODI5MjQwMzA5ZGIxYjZkNGMxNGUyMzRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJjZWE4NWY2NTRkZTQyYThiMDRkN2JmYjVkMjc2MDk0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2OTgwNSwtNzkuNDE3OTQxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZWJmMTFmNGQxMGE0NDE1OWE4ZTBmYmRiOGZmMDgwYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNTgxMGQxZmFlY2M0ODU4ODU4OTQyMWQ5MjkzM2E0ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjU4MTBkMWZhZWNjNDg1ODg1ODk0MjFkOTI5MzNhNGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VsYXduLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NlYmYxMWY0ZDEwYTQ0MTU5YThlMGZiZGI4ZmYwODBhLnNldENvbnRlbnQoaHRtbF9mNTgxMGQxZmFlY2M0ODU4ODU4OTQyMWQ5MjkzM2E0ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yY2VhODVmNjU0ZGU0MmE4YjA0ZDdiZmI1ZDI3NjA5NC5iaW5kUG9wdXAocG9wdXBfY2ViZjExZjRkMTBhNDQxNTlhOGUwZmJkYjhmZjA4MGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzllNjliNWYwNjk0NDE1ZWEwYTAyYTE3N2JlZTJjY2IgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU0Nzc1LC03OS40NzAzNTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzNmYWIzNzc3ZDQxNDM4ZDg5YmIzNjc3MzQ0NWFkYWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGM3NDBkZGFhY2NjNGRhZDlkYTc3OWU4YzhkMmJlNGIgPSAkKCc8ZGl2IGlkPSJodG1sXzhjNzQwZGRhYWNjYzRkYWQ5ZGE3NzllOGM4ZDJiZTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgSnVuY3Rpb24gTm9ydGgsUnVubnltZWRlLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83M2ZhYjM3NzdkNDE0MzhkODliYjM2NzczNDQ1YWRhYi5zZXRDb250ZW50KGh0bWxfOGM3NDBkZGFhY2NjNGRhZDlkYTc3OWU4YzhkMmJlNGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzllNjliNWYwNjk0NDE1ZWEwYTAyYTE3N2JlZTJjY2IuYmluZFBvcHVwKHBvcHVwXzczZmFiMzc3N2Q0MTQzOGQ4OWJiMzY3NzM0NDVhZGFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU3Y2U3YTg3MGMzMTQzOGM4NDdmYzIwZTk4Y2JiYTkzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzAwMTYwOCwtNzkuNTE2MjQ3NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMjkyMzZhYTY4YWY0Y2E2OWE0YWRiMDBmNTNiYjAzZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NDVmZjJkODg2NGE0NzEwOTRkYmE3MWI4MzgwMDRkYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjQ1ZmYyZDg4NjRhNDcxMDk0ZGJhNzFiODM4MDA0ZGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3RvbiwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjI5MjM2YWE2OGFmNGNhNjlhNGFkYjAwZjUzYmIwM2Yuc2V0Q29udGVudChodG1sXzY0NWZmMmQ4ODY0YTQ3MTA5NGRiYTcxYjgzODAwNGRjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU3Y2U3YTg3MGMzMTQzOGM4NDdmYzIwZTk4Y2JiYTkzLmJpbmRQb3B1cChwb3B1cF8yMjkyMzZhYTY4YWY0Y2E2OWE0YWRiMDBmNTNiYjAzZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85Y2JiNTEzOTY3MjE0YmRhYjEwYzE5Zjg3YzU4MDYxMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjg0NjcsLTc5LjI4MjA2N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYWM5OGVjOTc3MDk0ODEzOWYyNjY2OGM1MzIzNTE4ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNDFhNWRhMDA0ZmI0NmU2OWU1YzFmYjJmZjU0NmFjMiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzQxYTVkYTAwNGZiNDZlNjllNWMxZmIyZmY1NDZhYzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvcnNldCBQYXJrLFNjYXJib3JvdWdoIFRvd24gQ2VudHJlLFdleGZvcmQgSGVpZ2h0cywgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RhYzk4ZWM5NzcwOTQ4MTM5ZjI2NjY4YzUzMjM1MThlLnNldENvbnRlbnQoaHRtbF9jNDFhNWRhMDA0ZmI0NmU2OWU1YzFmYjJmZjU0NmFjMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85Y2JiNTEzOTY3MjE0YmRhYjEwYzE5Zjg3YzU4MDYxMS5iaW5kUG9wdXAocG9wdXBfZGFjOThlYzk3NzA5NDgxMzlmMjY2NjhjNTMyMzUxOGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2JkYTc1N2VlNDYwNGI3Zjg3OTY0MWE2NDdiZmNjZmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQwMzkxLC03OS40MDY2NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2I4ZmY1NWQxYzk3NGY1ZjgwOWZlN2IyYjIzOTUwMzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTgyYzY3NWM4MzRiNGU0MGEwMzJkNjgzZWE4ZDFmMmUgPSAkKCc8ZGl2IGlkPSJodG1sXzE4MmM2NzVjODM0YjRlNDBhMDMyZDY4M2VhOGQxZjJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NiOGZmNTVkMWM5NzRmNWY4MDlmZTdiMmIyMzk1MDM0LnNldENvbnRlbnQoaHRtbF8xODJjNjc1YzgzNGI0ZTQwYTAzMmQ2ODNlYThkMWYyZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YmRhNzU3ZWU0NjA0YjdmODc5NjQxYTY0N2JmY2NmZS5iaW5kUG9wdXAocG9wdXBfY2I4ZmY1NWQxYzk3NGY1ZjgwOWZlN2IyYjIzOTUwMzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODJmMjkyN2MwYmRkNDk4Nzg1ZWNmNzk1NDIwMzIwNGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQzMTIzLC03OS4zODg1MTY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2UyNDI1Yjk4NDU1YjQ2MmM4MDBjODdhMGM2NjU0MTRlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc0MjhmMDE2YTI1NDRiYTA5ZWM4YzQwZjA2N2NjNDY0ID0gJCgnPGRpdiBpZD0iaHRtbF83NDI4ZjAxNmEyNTQ0YmEwOWVjOGM0MGYwNjdjYzQ2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSBOb3J0aCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMjQyNWI5ODQ1NWI0NjJjODAwYzg3YTBjNjY1NDE0ZS5zZXRDb250ZW50KGh0bWxfNzQyOGYwMTZhMjU0NGJhMDllYzhjNDBmMDY3Y2M0NjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODJmMjkyN2MwYmRkNDk4Nzg1ZWNmNzk1NDIwMzIwNGQuYmluZFBvcHVwKHBvcHVwX2UyNDI1Yjk4NDU1YjQ2MmM4MDBjODdhMGM2NjU0MTRlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZjODlhYjc1ODU1MDRhOTdiOTQ3YzRmMDliZmVkYzFiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNTU4NiwtNzkuNDEzOTAyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMWM2NDVlN2FjZmE0MzA2OTdhNmVlMzc1YTdkZDIzYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMTUwYmYxYTNlNWI0ZThlYjhlNDQ2OWY4MTUzMzAyMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYzE1MGJmMWEzZTViNGU4ZWI4ZTQ0NjlmODE1MzMwMjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZvcmVzdCBIaWxsIE5vcnRoLEZvcmVzdCBIaWxsIFdlc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzFjNjQ1ZTdhY2ZhNDMwNjk3YTZlZTM3NWE3ZGQyM2Iuc2V0Q29udGVudChodG1sX2MxNTBiZjFhM2U1YjRlOGViOGU0NDY5ZjgxNTMzMDIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZjODlhYjc1ODU1MDRhOTdiOTQ3YzRmMDliZmVkYzFiLmJpbmRQb3B1cChwb3B1cF9jMWM2NDVlN2FjZmE0MzA2OTdhNmVlMzc1YTdkZDIzYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZjQ1MDAwMDUyODg0MDg4OGJjMWZmMGJhODRhNDM2NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjI4MTM1LC03OS40NjM4MjEzODExOTUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIxOTZlZThiNmIxOTQ1YzRiNThhMTFiNzVjZmU0MjcxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M2NmQ4MTQ1YWNkYzQ3ZTc5Njg3YWExNjUxYzg3OTI0ID0gJCgnPGRpdiBpZD0iaHRtbF9jNjZkODE0NWFjZGM0N2U3OTY4N2FhMTY1MWM4NzkyNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaCBQYXJrLFRoZSBKdW5jdGlvbiBTb3V0aCwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMTk2ZWU4YjZiMTk0NWM0YjU4YTExYjc1Y2ZlNDI3MS5zZXRDb250ZW50KGh0bWxfYzY2ZDgxNDVhY2RjNDdlNzk2ODdhYTE2NTFjODc5MjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmY0NTAwMDA1Mjg4NDA4ODhiYzFmZjBiYTg0YTQzNjUuYmluZFBvcHVwKHBvcHVwXzIxOTZlZThiNmIxOTQ1YzRiNThhMTFiNzVjZmU0MjcxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkxODc3MGU4OGI2ODRkZTBiYjZhNTQ5ZmNjODIxZWJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNjM5OSwtNzkuNTIxMDQyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NzMwZTYyOGMyZGM0MTM4OWVmZGY4NDFkZTg4OWIzYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81YWM3MGNjYjA2NGY0NjQ1YjQ5YzJjMWJlOGExZGY3ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWFjNzBjY2IwNjRmNDY0NWI0OWMyYzFiZThhMWRmN2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3Rtb3VudCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NzMwZTYyOGMyZGM0MTM4OWVmZGY4NDFkZTg4OWIzYi5zZXRDb250ZW50KGh0bWxfNWFjNzBjY2IwNjRmNDY0NWI0OWMyYzFiZThhMWRmN2YpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTE4NzcwZTg4YjY4NGRlMGJiNmE1NDlmY2M4MjFlYmQuYmluZFBvcHVwKHBvcHVwXzk3MzBlNjI4YzJkYzQxMzg5ZWZkZjg0MWRlODg5YjNiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NmNWIwOGQ0ZWU2NzRiMDZhYTJiZTBiM2I0NjljYTNlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU5MDUwOCwtNzkuMzEwMjI5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NTZjZTlhNmNiZGE0YTRlOGVhY2FmNWY2ZjkwYjMxMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNDRkZWJkMTE4ZmQ0YTBjODQzNTc5OGVlODcxODNmMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDQ0ZGViZDExOGZkNGEwYzg0MzU3OThlZTg3MTgzZjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hcnl2YWxlLFdleGZvcmQsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NTZjZTlhNmNiZGE0YTRlOGVhY2FmNWY2ZjkwYjMxMS5zZXRDb250ZW50KGh0bWxfZDQ0ZGViZDExOGZkNGEwYzg0MzU3OThlZTg3MTgzZjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2Y1YjA4ZDRlZTY3NGIwNmFhMmJlMGIzYjQ2OWNhM2UuYmluZFBvcHVwKHBvcHVwXzU1NmNlOWE2Y2JkYTRhNGU4ZWFjYWY1ZjZmOTBiMzExKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQyZjRlODRhZjk2NzQzYmY5ZDIwYzE3ZTcxMmE2MjMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc1MzU1OCwtNzkuNDE2Njg1OTgyMzkyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNGU5OThmZWUyZDM0ODhiODM1ZGFiMjA5MmIxYzY2MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NDYwZDEzMjBlYzU0Y2YzOGM1NDI1ZTdiN2Y1YzRmMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjQ2MGQxMzIwZWM1NGNmMzhjNTQyNWU3YjdmNWM0ZjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjRlOTk4ZmVlMmQzNDg4YjgzNWRhYjIwOTJiMWM2NjEuc2V0Q29udGVudChodG1sXzY0NjBkMTMyMGVjNTRjZjM4YzU0MjVlN2I3ZjVjNGYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQyZjRlODRhZjk2NzQzYmY5ZDIwYzE3ZTcxMmE2MjMzLmJpbmRQb3B1cChwb3B1cF8yNGU5OThmZWUyZDM0ODhiODM1ZGFiMjA5MmIxYzY2MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OGU0NTdjNWQ1ODY0ZGU4ODIxOGU5ZWJlNWQ3MjZiMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjU0NjYsLTc5LjQxOTUyNjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2QwMGVjMmNlODY4NGIyNDk0YzlmNGRiNzI2MTczYzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjY5ZWMzYjg3M2JjNGQ2Yjk5ZjczYzUzNzhlMGE4YjEgPSAkKCc8ZGl2IGlkPSJodG1sXzI2OWVjM2I4NzNiYzRkNmI5OWY3M2M1Mzc4ZTBhOGIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2QwMGVjMmNlODY4NGIyNDk0YzlmNGRiNzI2MTczYzAuc2V0Q29udGVudChodG1sXzI2OWVjM2I4NzNiYzRkNmI5OWY3M2M1Mzc4ZTBhOGIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU4ZTQ1N2M1ZDU4NjRkZTg4MjE4ZTllYmU1ZDcyNmIzLmJpbmRQb3B1cChwb3B1cF9jZDAwZWMyY2U4Njg0YjI0OTRjOWY0ZGI3MjYxNzNjMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMmJkOWE2NDkwMzg0NjJmYTI4NzgwMjY2YzY4YWIyMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MDMzNzcsLTc5LjQwNzExN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MmMwZTQwNGU3MzM0YmI0OGNmYzZlMzRkZjFjYjg1YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kODNjYzNmYjdjYjg0Yjk4OTk1MzMzNzNmMzEyOTA1YyA9ICQoJzxkaXYgaWQ9Imh0bWxfZDgzY2MzZmI3Y2I4NGI5ODk5NTMzMzczZjMxMjkwNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBBbm5leCxOb3J0aCBNaWR0b3duLFlvcmt2aWxsZSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MmMwZTQwNGU3MzM0YmI0OGNmYzZlMzRkZjFjYjg1YS5zZXRDb250ZW50KGh0bWxfZDgzY2MzZmI3Y2I4NGI5ODk5NTMzMzczZjMxMjkwNWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDJiZDlhNjQ5MDM4NDYyZmEyODc4MDI2NmM2OGFiMjEuYmluZFBvcHVwKHBvcHVwXzUyYzBlNDA0ZTczMzRiYjQ4Y2ZjNmUzNGRmMWNiODVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE2Yjc3MTQyNGM0ZTQwM2E4M2U0M2Q5MWUwMzgyYzgwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM3MTc3NywtNzkuNDM2MDA0NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZDU3ZDE5NzA2ZTI0ODZmODdjM2Q2ZTlkMjZmMzE3YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kODYwNDlkNDdlMTQ0NTBmYWUyMWExYzA5NGU5MTQwYyA9ICQoJzxkaXYgaWQ9Imh0bWxfZDg2MDQ5ZDQ3ZTE0NDUwZmFlMjFhMWMwOTRlOTE0MGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmtkYWxlLFJvbmNlc3ZhbGxlcywgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZDU3ZDE5NzA2ZTI0ODZmODdjM2Q2ZTlkMjZmMzE3Yy5zZXRDb250ZW50KGh0bWxfZDg2MDQ5ZDQ3ZTE0NDUwZmFlMjFhMWMwOTRlOTE0MGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTZiNzcxNDI0YzRlNDAzYTgzZTQzZDkxZTAzODJjODAuYmluZFBvcHVwKHBvcHVwXzZkNTdkMTk3MDZlMjQ4NmY4N2MzZDZlOWQyNmYzMTdjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzczM2M1Zjc3NzMwMDQwMmU4ZWU3ODc0ZDc3YjQxOTM0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4MjExMiwtNzkuNTg3MjMwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNjQ1NWU0MTk0ODk0NTYxYWYxZmFmZTU2NzgzOWMyNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNTkxZDRmNWJhNzE0MTI2OGU5M2RlNWRlYjNjNGRjYSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTU5MWQ0ZjViYTcxNDEyNjhlOTNkZTVkZWIzYzRkY2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmUsIE1pc3Npc3NhdWdhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNjQ1NWU0MTk0ODk0NTYxYWYxZmFmZTU2NzgzOWMyNy5zZXRDb250ZW50KGh0bWxfYTU5MWQ0ZjViYTcxNDEyNjhlOTNkZTVkZWIzYzRkY2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzMzYzVmNzc3MzAwNDAyZThlZTc4NzRkNzdiNDE5MzQuYmluZFBvcHVwKHBvcHVwXzI2NDU1ZTQxOTQ4OTQ1NjFhZjFmYWZlNTY3ODM5YzI3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUxZDVlOTJlMTYxZjQ3OGJhMGI5NWFkY2U0Y2MyZjE0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjk5NTM5MSwtNzkuNTU2MzQ1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZmVhMDVjMjQwNTc0NjI4OGJlN2RmZTY5ZGZjZjA2MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZDMyMTA5YThiOTY0MmRjYjUwNzYwZjg5MWM2ZmYzMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWQzMjEwOWE4Yjk2NDJkY2I1MDc2MGY4OTFjNmZmMzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzdmlldyBWaWxsYWdlLE1hcnRpbiBHcm92ZSBHYXJkZW5zLFJpY2h2aWV3IEdhcmRlbnMsU3QuIFBoaWxsaXBzLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdmZWEwNWMyNDA1NzQ2Mjg4YmU3ZGZlNjlkZmNmMDYyLnNldENvbnRlbnQoaHRtbF9lZDMyMTA5YThiOTY0MmRjYjUwNzYwZjg5MWM2ZmYzMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MWQ1ZTkyZTE2MWY0NzhiYTBiOTVhZGNlNGNjMmYxNC5iaW5kUG9wdXAocG9wdXBfN2ZlYTA1YzI0MDU3NDYyODhiZTdkZmU2OWRmY2YwNjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDA4YThiZmRiOTM0NDNkOGFmMzkxZDAwYzU4YTM5NjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODUzNTMxLC03OS4yNzg1NDk0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRiOTI4MDI4M2Y4NTRhZGU5M2FiYzg5ZDQyZGEyNDEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U1ZjM2Y2MzYjY3ODQ1OTA5NDJhYTM4OGZjZGM5M2E2ID0gJCgnPGRpdiBpZD0iaHRtbF9lNWYzNmNjM2I2Nzg0NTkwOTQyYWEzODhmY2RjOTNhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGI5MjgwMjgzZjg1NGFkZTkzYWJjODlkNDJkYTI0MTIuc2V0Q29udGVudChodG1sX2U1ZjM2Y2MzYjY3ODQ1OTA5NDJhYTM4OGZjZGM5M2E2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QwOGE4YmZkYjkzNDQzZDhhZjM5MWQwMGM1OGEzOTY4LmJpbmRQb3B1cChwb3B1cF80YjkyODAyODNmODU0YWRlOTNhYmM4OWQ0MmRhMjQxMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84OWQ4MmIzNDYwYmU0MjQ1YWZlZGNlMWNmYWQyODFjYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNDMxMjMsLTc5LjM4ODUxNjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOThlMDkyNjc1OWNhNGJkNzg3Zjk3ZjFmZjFmMGM5MzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2U2ZDM2ZmRjZWI0NDBjMzkzOWY5OTJhNjZlNzIzYzkgPSAkKCc8ZGl2IGlkPSJodG1sXzdlNmQzNmZkY2ViNDQwYzM5MzlmOTkyYTY2ZTcyM2M5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk4ZTA5MjY3NTljYTRiZDc4N2Y5N2YxZmYxZjBjOTM4LnNldENvbnRlbnQoaHRtbF83ZTZkMzZmZGNlYjQ0MGMzOTM5Zjk5MmE2NmU3MjNjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84OWQ4MmIzNDYwYmU0MjQ1YWZlZGNlMWNmYWQyODFjYS5iaW5kUG9wdXAocG9wdXBfOThlMDkyNjc1OWNhNGJkNzg3Zjk3ZjFmZjFmMGM5MzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmU0ZjkzZjNkNDI4NDA4NDlhZGIyM2JkNTY0MjdkMzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE1MjI1LC03OS40MDk3NDQ2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk4OTNmZTQ2NTYxYjRlMzg5ODliNGMxZTQzN2QzYzI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U4ODkwZDdlY2VlODRmZjFhYjVjZjUxNTA4MGEyYmY2ID0gJCgnPGRpdiBpZD0iaHRtbF9lODg5MGQ3ZWNlZTg0ZmYxYWI1Y2Y1MTUwODBhMmJmNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm9yZCxVbml2ZXJzaXR5IG9mIFRvcm9udG8sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk4OTNmZTQ2NTYxYjRlMzg5ODliNGMxZTQzN2QzYzI0LnNldENvbnRlbnQoaHRtbF9lODg5MGQ3ZWNlZTg0ZmYxYWI1Y2Y1MTUwODBhMmJmNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZTRmOTNmM2Q0Mjg0MDg0OWFkYjIzYmQ1NjQyN2QzNi5iaW5kUG9wdXAocG9wdXBfOTg5M2ZlNDY1NjFiNGUzODk4OWI0YzFlNDM3ZDNjMjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2U0OTUyYWUyOTIwNGIyZDhjNDc2NTI3NzczN2YzMTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU1ODAyLC03OS40ODIxMDc4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhjNmFiNWZiMGUxMjRmZmJiZTZmZDJlMzhhMDBkMTI5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI0ODQwYTEzOWYwMjQ0YzM4YzEyOTJiNmM0Nzg5ZDZhID0gJCgnPGRpdiBpZD0iaHRtbF8yNDg0MGExMzlmMDI0NGMzOGMxMjkyYjZjNDc4OWQ2YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLFN3YW5zZWEsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGM2YWI1ZmIwZTEyNGZmYmJlNmZkMmUzOGEwMGQxMjkuc2V0Q29udGVudChodG1sXzI0ODQwYTEzOWYwMjQ0YzM4YzEyOTJiNmM0Nzg5ZDZhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNlNDk1MmFlMjkyMDRiMmQ4YzQ3NjUyNzc3MzdmMzExLmJpbmRQb3B1cChwb3B1cF84YzZhYjVmYjBlMTI0ZmZiYmU2ZmQyZTM4YTAwZDEyOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOTYyOWMwZTY3N2M0YTQ0YTEyMDYyNjEyNDllNmE4MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5NjQwOTUsLTc5LjI5Nzc5NTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGQyMjBkMGZlYWMwNDM2NjhlMjQyMjA1NjVlODE5YTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDUzNDQzNDI1NTFmNDdkZjlmODI2ZjE4YzE5M2I5NDEgPSAkKCc8ZGl2IGlkPSJodG1sXzQ1MzQ0MzQyNTUxZjQ3ZGY5ZjgyNmYxOGMxOTNiOTQxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFya3MgQ29ybmVycyxTdWxsaXZhbixUYW0gTyYjMzk7U2hhbnRlciwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBkMjIwZDBmZWFjMDQzNjY4ZTI0MjIwNTY1ZTgxOWEwLnNldENvbnRlbnQoaHRtbF80NTM0NDM0MjU1MWY0N2RmOWY4MjZmMThjMTkzYjk0MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lOTYyOWMwZTY3N2M0YTQ0YTEyMDYyNjEyNDllNmE4My5iaW5kUG9wdXAocG9wdXBfMGQyMjBkMGZlYWMwNDM2NjhlMjQyMjA1NjVlODE5YTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjhjYmU0MWVkMDVjNDdiNTgwOWNhMjAyNDdhYjQyZDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTAzODc2LC03OS4zODMyOTY1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZkMDk2MzNhNTE4NTQ5NTJhMGQwNzYyN2NiZDYyMmNhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmZDVjYjg4NzY3ZDQwMzRhMzliNmQ5ZmM3ZmEzZGZhID0gJCgnPGRpdiBpZD0iaHRtbF8yZmQ1Y2I4ODc2N2Q0MDM0YTM5YjZkOWZjN2ZhM2RmYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgUGFyayxTdW1tZXJoaWxsIEVhc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmQwOTYzM2E1MTg1NDk1MmEwZDA3NjI3Y2JkNjIyY2Euc2V0Q29udGVudChodG1sXzJmZDVjYjg4NzY3ZDQwMzRhMzliNmQ5ZmM3ZmEzZGZhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4Y2JlNDFlZDA1YzQ3YjU4MDljYTIwMjQ3YWI0MmQ4LmJpbmRQb3B1cChwb3B1cF82ZDA5NjMzYTUxODU0OTUyYTBkMDc2MjdjYmQ2MjJjYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZmNmOTAwNjQ1NzE0ZDE0YmNiYmFiYjBkNDg2MzI5YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MjkyMzcsLTc5LjM5ODAzMTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGFiZDJmOTIyYmU1NDliZDhkOTkyMzVjMTU2MjFjODAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTBjMzZhZjE3ZjVmNDY5NTlmYzk0MjNmN2YzMTExNGYgPSAkKCc8ZGl2IGlkPSJodG1sXzUwYzM2YWYxN2Y1ZjQ2OTU5ZmM5NDIzZjdmMzExMTRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24sR3JhbmdlIFBhcmssS2Vuc2luZ3RvbiBNYXJrZXQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRhYmQyZjkyMmJlNTQ5YmQ4ZDk5MjM1YzE1NjIxYzgwLnNldENvbnRlbnQoaHRtbF81MGMzNmFmMTdmNWY0Njk1OWZjOTQyM2Y3ZjMxMTE0Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZmNmOTAwNjQ1NzE0ZDE0YmNiYmFiYjBkNDg2MzI5Yi5iaW5kUG9wdXAocG9wdXBfNGFiZDJmOTIyYmU1NDliZDhkOTkyMzVjMTU2MjFjODApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzkxYTRjNWZkYzM4NGM0ZmJiZmEyY2JkMjdlNWQwMzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDgwMzgzLC03OS4yNjY0MzkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlkY2IxMTdiMTVjYjRlZjFiMjQwZDE1NmIyMzQxMzYyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk0MTc1NzdjYWE1NjQ0YTRiZThjZjUzYzVmMDdjMTZiID0gJCgnPGRpdiBpZD0iaHRtbF85NDE3NTc3Y2FhNTY0NGE0YmU4Y2Y1M2M1ZjA3YzE2YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLEwmIzM5O0Ftb3JlYXV4IEVhc3QsTWlsbGlrZW4sU3RlZWxlcyBFYXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWRjYjExN2IxNWNiNGVmMWIyNDBkMTU2YjIzNDEzNjIuc2V0Q29udGVudChodG1sXzk0MTc1NzdjYWE1NjQ0YTRiZThjZjUzYzVmMDdjMTZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M5MWE0YzVmZGMzODRjNGZiYmZhMmNiZDI3ZTVkMDMwLmJpbmRQb3B1cChwb3B1cF85ZGNiMTE3YjE1Y2I0ZWYxYjI0MGQxNTZiMjM0MTM2Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZGQ5OTNlMzQwOGE0NTQzOTJjMDA1MzUyMmFmNzZjYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4ODA5LC03OS4zOTQwOTM1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzVhZjE2OWZiNjJjODRiYmJiNDE3YmIzMDk4YjU1MGZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAyMjEzZTBjMjJhYjQyMWE4MjM4N2FjM2U5NWE1ZDAzID0gJCgnPGRpdiBpZD0iaHRtbF8wMjIxM2UwYzIyYWI0MjFhODIzODdhYzNlOTVhNWQwMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVlciBQYXJrLEZvcmVzdCBIaWxsIFNFLFJhdGhuZWxseSxTb3V0aCBIaWxsLFN1bW1lcmhpbGwgV2VzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YWYxNjlmYjYyYzg0YmJiYjQxN2JiMzA5OGI1NTBmZS5zZXRDb250ZW50KGh0bWxfMDIyMTNlMGMyMmFiNDIxYTgyMzg3YWMzZTk1YTVkMDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2RkOTkzZTM0MDhhNDU0MzkyYzAwNTM1MjJhZjc2Y2MuYmluZFBvcHVwKHBvcHVwXzVhZjE2OWZiNjJjODRiYmJiNDE3YmIzMDk4YjU1MGZlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU3Y2I5OGUzODk1ZDRiNmQ5MDkzNDJmMmQ3ODQ0MGU2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQyNTYzNywtNzkuMzg3MDg3MTgzMjA0N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82N2E2ZmY3NTA3MDE0YTJmOTBjM2Q4YzBkMTI2ZmZmOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80ZTVlZmIwNTIzNTI0MTE5YjNhZmIwMTNjZjVjZmRhZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNGU1ZWZiMDUyMzUyNDExOWIzYWZiMDEzY2Y1Y2ZkYWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNOIFRvd2VyLEJhdGh1cnN0IFF1YXksSXNsYW5kIGFpcnBvcnQsSGFyYm91cmZyb250IFdlc3QsS2luZyBhbmQgU3BhZGluYSxSYWlsd2F5IExhbmRzLFNvdXRoIE5pYWdhcmEsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3YTZmZjc1MDcwMTRhMmY5MGMzZDhjMGQxMjZmZmY4LnNldENvbnRlbnQoaHRtbF80ZTVlZmIwNTIzNTI0MTE5YjNhZmIwMTNjZjVjZmRhZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81N2NiOThlMzg5NWQ0YjZkOTA5MzQyZjJkNzg0NDBlNi5iaW5kUG9wdXAocG9wdXBfNjdhNmZmNzUwNzAxNGEyZjkwYzNkOGMwZDEyNmZmZjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWE4ZDViMzUwNjMzNGM0Y2ExZDE4MTRjYzA3YTUyOTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzE0NTkxNSwtNzkuNTUyNDkyMDY2MTE2N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hN2E3ZDRmZmI0OTU0NjFlYjhiYmY5YWVkZGY0YjY0MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZjMxYzA1MWUwYjE0ZDE5OTJhNDlkOGM5OTE3MzY2ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGYzMWMwNTFlMGIxNGQxOTkyYTQ5ZDhjOTkxNzM2NmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBCYXkgU2hvcmVzLE1pbWljbyBTb3V0aCxOZXcgVG9yb250bywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hN2E3ZDRmZmI0OTU0NjFlYjhiYmY5YWVkZGY0YjY0MC5zZXRDb250ZW50KGh0bWxfZGYzMWMwNTFlMGIxNGQxOTkyYTQ5ZDhjOTkxNzM2NmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWE4ZDViMzUwNjMzNGM0Y2ExZDE4MTRjYzA3YTUyOTYuYmluZFBvcHVwKHBvcHVwX2E3YTdkNGZmYjQ5NTQ2MWViOGJiZjlhZWRkZjRiNjQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I0NmE4Y2RhOWUwODQxNmFhYzkzNmNmMjA1Y2ViZjU3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ0OTAzMywtNzkuMzgxODM2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jOWNiMDdjMThiYmE0YTQ0OWJiMWVlNzAzMDJhODFmMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZjFiMDRjYjAyMDE0YzhiYTFkMjcxY2IwZDZjY2ZhMiA9ICQoJzxkaXYgaWQ9Imh0bWxfM2YxYjA0Y2IwMjAxNGM4YmExZDI3MWNiMGQ2Y2NmYTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsYmlvbiBHYXJkZW5zLEJlYXVtb25kIEhlaWdodHMsSHVtYmVyZ2F0ZSxKYW1lc3Rvd24sTW91bnQgT2xpdmUsU2lsdmVyc3RvbmUsU291dGggU3RlZWxlcyxUaGlzdGxldG93biwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOWNiMDdjMThiYmE0YTQ0OWJiMWVlNzAzMDJhODFmMy5zZXRDb250ZW50KGh0bWxfM2YxYjA0Y2IwMjAxNGM4YmExZDI3MWNiMGQ2Y2NmYTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjQ2YThjZGE5ZTA4NDE2YWFjOTM2Y2YyMDVjZWJmNTcuYmluZFBvcHVwKHBvcHVwX2M5Y2IwN2MxOGJiYTRhNDQ5YmIxZWU3MDMwMmE4MWYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM3YzI5N2Q0MzYyMzRkNjBhYWMzZTAyYmRhMjY3MWE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk5MDAzLC03OS4zMDU5NjY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUwYjAzNDFiNTJjYzQ5NjBiMzRiMmQ0N2Y1YThjYjhkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxM2U4N2FiNDI5NDQzYjI5ZGNiMDE3MTQ3OGRmOGI0ID0gJCgnPGRpdiBpZD0iaHRtbF9jMTNlODdhYjQyOTQ0M2IyOWRjYjAxNzE0NzhkZjhiNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TCYjMzk7QW1vcmVhdXggV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUwYjAzNDFiNTJjYzQ5NjBiMzRiMmQ0N2Y1YThjYjhkLnNldENvbnRlbnQoaHRtbF9jMTNlODdhYjQyOTQ0M2IyOWRjYjAxNzE0NzhkZjhiNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zN2MyOTdkNDM2MjM0ZDYwYWFjM2UwMmJkYTI2NzFhNS5iaW5kUG9wdXAocG9wdXBfNTBiMDM0MWI1MmNjNDk2MGIzNGIyZDQ3ZjVhOGNiOGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjAzNTU0ZGI2NmNkNDllOGJiZWNiYjg4OTcwOTg0YzEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzgzNTU2LC03OS4zODA3NDU3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY1OTk2MWIxZjIzYTQ1MGU5MWEwMjc2Mjk2NGIzN2M3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY1ZDhiNjdhZmU3NTRkMTg4ZWY2M2FjOTA3NWQ5ZTJiID0gJCgnPGRpdiBpZD0iaHRtbF82NWQ4YjY3YWZlNzU0ZDE4OGVmNjNhYzkwNzVkOWUyYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWRhbGUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY1OTk2MWIxZjIzYTQ1MGU5MWEwMjc2Mjk2NGIzN2M3LnNldENvbnRlbnQoaHRtbF82NWQ4YjY3YWZlNzU0ZDE4OGVmNjNhYzkwNzVkOWUyYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMDM1NTRkYjY2Y2Q0OWU4YmJlY2JiODg5NzA5ODRjMS5iaW5kUG9wdXAocG9wdXBfNjU5OTYxYjFmMjNhNDUwZTkxYTAyNzYyOTY0YjM3YzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWQyOWM1ZjA1NTU3NDM4MGIzNzEwNWU0ZTVlMTVjYWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTUxMTUsLTc5LjM4MDIxOV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ODZiYzFiMDcyY2Y0OWEyYjE0YmRiOGIwNDM5NmJkMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZmQ0ZDBkZWU0NmQ0OTU1OGJlZDFlNDI4ZjA3ZmZlMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZGZkNGQwZGVlNDZkNDk1NThiZWQxZTQyOGYwN2ZmZTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0biBBIFBPIEJveGVzIDI1IFRoZSBFc3BsYW5hZGUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4NmJjMWIwNzJjZjQ5YTJiMTRiZGI4YjA0Mzk2YmQwLnNldENvbnRlbnQoaHRtbF9kZmQ0ZDBkZWU0NmQ0OTU1OGJlZDFlNDI4ZjA3ZmZlMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hZDI5YzVmMDU1NTc0MzgwYjM3MTA1ZTRlNWUxNWNhYS5iaW5kUG9wdXAocG9wdXBfNDg2YmMxYjA3MmNmNDlhMmIxNGJkYjhiMDQzOTZiZDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjY3MDRkYWMyYTViNGU2ZWJhMDY3ODlhMWQ2NzA0ZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDE3MTczLC03OS41NDUyMzI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgxZTg0ZmExOTk1ZTQwZDRiNjA4NGU1MzYxODQ2NzBlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQyMjYyYjMyZTlkNTQxNzM4ODBhNWJkNDc2NzEwNGE4ID0gJCgnPGRpdiBpZD0iaHRtbF80MjI2MmIzMmU5ZDU0MTczODgwYTViZDQ3NjcxMDRhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxkZXJ3b29kLExvbmcgQnJhbmNoLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgxZTg0ZmExOTk1ZTQwZDRiNjA4NGU1MzYxODQ2NzBlLnNldENvbnRlbnQoaHRtbF80MjI2MmIzMmU5ZDU0MTczODgwYTViZDQ3NjcxMDRhOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNjcwNGRhYzJhNWI0ZTZlYmEwNjc4OWExZDY3MDRmMS5iaW5kUG9wdXAocG9wdXBfODFlODRmYTE5OTVlNDBkNGI2MDg0ZTUzNjE4NDY3MGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGU3YmZmMWE3YmE5NDc5YzlkYWNjZmMxYTU0MDZiMTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDY1NDY2LC03OS40MTk1MjYzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RlNzNkZWNmNTg3ZjQyNWY5NGMzYmM4NTdhZTE4MjQ5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q3N2U1ZGQ0MWI1ZTQwYmQ5YjYzNTRkMGFjMDUyN2U2ID0gJCgnPGRpdiBpZD0iaHRtbF9kNzdlNWRkNDFiNWU0MGJkOWI2MzU0ZDBhYzA1MjdlNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3ZXN0LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RlNzNkZWNmNTg3ZjQyNWY5NGMzYmM4NTdhZTE4MjQ5LnNldENvbnRlbnQoaHRtbF9kNzdlNWRkNDFiNWU0MGJkOWI2MzU0ZDBhYzA1MjdlNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wZTdiZmYxYTdiYTk0NzljOWRhY2NmYzFhNTQwNmIxMi5iaW5kUG9wdXAocG9wdXBfZGU3M2RlY2Y1ODdmNDI1Zjk0YzNiYzg1N2FlMTgyNDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGE0ZTdmNDQ1NTcwNDE3ZTk3YjhlM2RlNzg5MDVlOWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDQ5MzA0LC03OS4xNjU4Mzc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc1MzIzNWEwMjIwYzRjNThiYTE0ODMzYjI1OWE0MjBjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA0ZmFjMmU5NmQ4OTRmNjhhMjA0NDE2ZTM0YTA4MzY0ID0gJCgnPGRpdiBpZD0iaHRtbF8wNGZhYzJlOTZkODk0ZjY4YTIwNDQxNmUzNGEwODM2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NTMyMzVhMDIyMGM0YzU4YmExNDgzM2IyNTlhNDIwYy5zZXRDb250ZW50KGh0bWxfMDRmYWMyZTk2ZDg5NGY2OGEyMDQ0MTZlMzRhMDgzNjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGE0ZTdmNDQ1NTcwNDE3ZTk3YjhlM2RlNzg5MDVlOWEuYmluZFBvcHVwKHBvcHVwXzc1MzIzNWEwMjIwYzRjNThiYTE0ODMzYjI1OWE0MjBjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZlOWNlOTk3ZGM3NTQxYWFhY2Y2ODBkNjdhNjNlYjcwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY0NDczNCwtNzkuMzY2OTg2MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZGRhZjcyMTA5OTI0YmViYTZhZDQwZWE3YTM1MDk4MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85N2UzMTk2YjJkMWU0MWY1OTk2MmI1Yjk4YjUzYTM5ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTdlMzE5NmIyZDFlNDFmNTk5NjJiNWI5OGI1M2EzOWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhYmJhZ2V0b3duLFN0LiBKYW1lcyBUb3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZGRhZjcyMTA5OTI0YmViYTZhZDQwZWE3YTM1MDk4My5zZXRDb250ZW50KGh0bWxfOTdlMzE5NmIyZDFlNDFmNTk5NjJiNWI5OGI1M2EzOWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmU5Y2U5OTdkYzc1NDFhYWFjZjY4MGQ2N2E2M2ViNzAuYmluZFBvcHVwKHBvcHVwX2RkZGFmNzIxMDk5MjRiZWJhNmFkNDBlYTdhMzUwOTgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FhNmI0ODM3OWQxZjRhMjM5Y2NiYzU2MzM2YWMzNTdhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4NzY4MSwtNzkuMzgxNjkxNzkyODMwM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NGFlZjAzZDBiZTg0MDJmODMxZWYxZGQ3NDU1NzQ3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NzI3NWVkYzljMTg0YzRjODc5MTg4MTRhNWRmMzQ4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTcyNzVlZGM5YzE4NGM0Yzg3OTE4ODE0YTVkZjM0ODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpcnN0IENhbmFkaWFuIFBsYWNlLFVuZGVyZ3JvdW5kIGNpdHksIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU0YWVmMDNkMGJlODQwMmY4MzFlZjFkZDc0NTU3NDcyLnNldENvbnRlbnQoaHRtbF81NzI3NWVkYzljMTg0YzRjODc5MTg4MTRhNWRmMzQ4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYTZiNDgzNzlkMWY0YTIzOWNjYmM1NjMzNmFjMzU3YS5iaW5kUG9wdXAocG9wdXBfNTRhZWYwM2QwYmU4NDAyZjgzMWVmMWRkNzQ1NTc0NzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTA2OTk3OTRhMWFiNDMzNGEzYTQ3ZWJlNmJhNjI4ZmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDczODExLC03OS41MTEzMzI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2Y1ODg0ODg5ZDJmMDQyZWQ4N2EyYzBjNjQ0MGQyYjQwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q3ZWIwNDViY2QzZDQ5YjA4Njc2ZDBhYWU5MDY3YTM2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q2NGI5MGViZjMyNTQ3ZWY5Y2Y5YzJmNGUyMzVhYWE4ID0gJCgnPGRpdiBpZD0iaHRtbF9kNjRiOTBlYmYzMjU0N2VmOWNmOWMyZjRlMjM1YWFhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmdzd2F5LE1vbnRnb21lcnkgUm9hZCxPbGQgTWlsbCBOb3J0aCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kN2ViMDQ1YmNkM2Q0OWIwODY3NmQwYWFlOTA2N2EzNi5zZXRDb250ZW50KGh0bWxfZDY0YjkwZWJmMzI1NDdlZjljZjljMmY0ZTIzNWFhYTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTA2OTk3OTRhMWFiNDMzNGEzYTQ3ZWJlNmJhNjI4ZmQuYmluZFBvcHVwKHBvcHVwX2Q3ZWIwNDViY2QzZDQ5YjA4Njc2ZDBhYWU5MDY3YTM2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I1ZGIwMDIxZDY4YTQ3NWI5ZTcyZDY4MDBhYzM2OTAyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1NTI0MiwtNzkuMzgzODAxMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iOTU3ZGE1NTYxMGI0YTM4YThmMjg2OGI5ZDdmNDZiMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNTc5ODIzZDgxYzI0NmE0YjA4YzAwOGM3NGRmMjA3ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzU3OTgyM2Q4MWMyNDZhNGIwOGMwMDhjNzRkZjIwN2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iOTU3ZGE1NTYxMGI0YTM4YThmMjg2OGI5ZDdmNDZiMS5zZXRDb250ZW50KGh0bWxfMzU3OTgyM2Q4MWMyNDZhNGIwOGMwMDhjNzRkZjIwN2UpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjVkYjAwMjFkNjhhNDc1YjllNzJkNjgwMGFjMzY5MDIuYmluZFBvcHVwKHBvcHVwX2I5NTdkYTU1NjEwYjRhMzhhOGYyODY4YjlkN2Y0NmIxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVkNGNhNzAwYmY2YjQxZWNiYzdjYWU5Mjc1ZDBlZDE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI2MjQzLC03OS4zOTY5NjJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmJmZDhjZDNhODNlNDdmZDg1ZjgzODE4ODU4YTM2OGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOThjZjZlYTQzOTRlNDkyYjlhMzM4NTQ4MWQ5NWMyNjkgPSAkKCc8ZGl2IGlkPSJodG1sXzk4Y2Y2ZWE0Mzk0ZTQ5MmI5YTMzODU0ODFkOTVjMjY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdXNpbmVzcyBSZXBseSBNYWlsIFByb2Nlc3NpbmcgQ2VudHJlIDk2OSBFYXN0ZXJuLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJiZmQ4Y2QzYTgzZTQ3ZmQ4NWY4MzgxODg1OGEzNjhjLnNldENvbnRlbnQoaHRtbF85OGNmNmVhNDM5NGU0OTJiOWEzMzg1NDgxZDk1YzI2OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ZDRjYTcwMGJmNmI0MWVjYmM3Y2FlOTI3NWQwZWQxNS5iaW5kUG9wdXAocG9wdXBfMmJmZDhjZDNhODNlNDdmZDg1ZjgzODE4ODU4YTM2OGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2U0OWE2MjNkYzAyNGQyNjlkNzJiNGUwN2QxMTE2ZWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDAwNDYzLC03OS40OTUwMjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjU4ODQ4ODlkMmYwNDJlZDg3YTJjMGM2NDQwZDJiNDApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTdlNmMyNTkzOTllNDhkMGIzZjAwNGViMzczZjU2NWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWMyNGYzOGRlOGJkNGRhYjhmMDUwMDcwNGQ2MWVmNmIgPSAkKCc8ZGl2IGlkPSJodG1sXzVjMjRmMzhkZThiZDRkYWI4ZjA1MDA3MDRkNjFlZjZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgQmF5LEtpbmcmIzM5O3MgTWlsbCBQYXJrLEtpbmdzd2F5IFBhcmsgU291dGggRWFzdCxNaW1pY28gTkUsT2xkIE1pbGwgU291dGgsVGhlIFF1ZWVuc3dheSBFYXN0LFJveWFsIFlvcmsgU291dGggRWFzdCxTdW5ueWxlYSwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85N2U2YzI1OTM5OWU0OGQwYjNmMDA0ZWIzNzNmNTY1YS5zZXRDb250ZW50KGh0bWxfNWMyNGYzOGRlOGJkNGRhYjhmMDUwMDcwNGQ2MWVmNmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2U0OWE2MjNkYzAyNGQyNjlkNzJiNGUwN2QxMTE2ZWUuYmluZFBvcHVwKHBvcHVwXzk3ZTZjMjU5Mzk5ZTQ4ZDBiM2YwMDRlYjM3M2Y1NjVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMzOGYyNmEzNzc1YzRmNDZiODRkNmY5NWM5MmQ5NjA0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3MzgxMSwtNzkuNTExMzMyOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mNTg4NDg4OWQyZjA0MmVkODdhMmMwYzY0NDBkMmI0MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jOWNlN2Q0YzYwYTM0OWMzOGE0YmY3ZWFhODQ0ZThkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lM2ZlMjUyODgxMjM0YTVkYTFiM2MwNTA3ZTAxYjczMCA9ICQoJzxkaXYgaWQ9Imh0bWxfZTNmZTI1Mjg4MTIzNGE1ZGExYjNjMDUwN2UwMWI3MzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzd2F5IFBhcmsgU291dGggV2VzdCxNaW1pY28gTlcsVGhlIFF1ZWVuc3dheSBXZXN0LFJveWFsIFlvcmsgU291dGggV2VzdCxTb3V0aCBvZiBCbG9vciwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOWNlN2Q0YzYwYTM0OWMzOGE0YmY3ZWFhODQ0ZThkZC5zZXRDb250ZW50KGh0bWxfZTNmZTI1Mjg4MTIzNGE1ZGExYjNjMDUwN2UwMWI3MzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzM4ZjI2YTM3NzVjNGY0NmI4NGQ2Zjk1YzkyZDk2MDQuYmluZFBvcHVwKHBvcHVwX2M5Y2U3ZDRjNjBhMzQ5YzM4YTRiZjdlYWE4NDRlOGRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fd0092b4ef0>"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "map_Toronto = folium.Map(location=[TorLat, TorLon], zoom_start=10)\n",
    "\n",
    "# add markers to map\n",
    "for lat, lng, borough, neighborhood in zip(neighborhoods['Latitude'], neighborhoods['Longitude'], neighborhoods['Borough'], neighborhoods['Neighbourhood']):\n",
    "    label = '{}, {}'.format(neighborhood, borough)\n",
    "    label = folium.Popup(label, parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lng],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='blue',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(map_Toronto)  \n",
    "    \n",
    "map_Toronto"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Getting Foursquare Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "CLIENT_ID = '0NUBJCL1AELPHGX0CQMAAQLIFLIYQC20MXMICWTY3FEETYOG' # your Foursquare ID\n",
    "CLIENT_SECRET = 'XEBGQOZAEUS1BCEJZR1QGKL1HTY3CBE0ULULWMRB02BNOAZK' # your Foursquare Secret\n",
    "VERSION = '20180605' # Foursquare API version\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'https://api.foursquare.com/v2/venues/explore?&client_id=0NUBJCL1AELPHGX0CQMAAQLIFLIYQC20MXMICWTY3FEETYOG&client_secret=XEBGQOZAEUS1BCEJZR1QGKL1HTY3CBE0ULULWMRB02BNOAZK&v=20180605&ll=43.653963,-79.387207&radius=500&limit=100'"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "LIMIT = 100 # limit of number of venues returned by Foursquare API\n",
    "\n",
    "radius = 500 # define radius\n",
    "\n",
    "# create URL\n",
    "url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "    CLIENT_ID, \n",
    "    CLIENT_SECRET, \n",
    "    VERSION, \n",
    "    TorLat, \n",
    "    TorLon, \n",
    "    radius, \n",
    "    LIMIT)\n",
    "url # display URL"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'meta': {'code': 200, 'requestId': '5cd05d3f1ed2196c3ef0883f'},\n",
       " 'response': {'groups': [{'items': [{'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5227bb01498e17bf485e6202-0',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/neighborhood_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4f2a25ac4b909258e854f55f',\n",
       "         'name': 'Neighborhood',\n",
       "         'pluralName': 'Neighborhoods',\n",
       "         'primary': True,\n",
       "         'shortName': 'Neighborhood'}],\n",
       "       'id': '5227bb01498e17bf485e6202',\n",
       "       'location': {'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 174,\n",
       "        'formattedAddress': ['Toronto ON', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65323167517444,\n",
       "          'lng': -79.38529600606677}],\n",
       "        'lat': 43.65323167517444,\n",
       "        'lng': -79.38529600606677,\n",
       "        'state': 'ON'},\n",
       "       'name': 'Downtown Toronto',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c05ef964a520e2f620e3-1',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/museum_art_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d18f941735',\n",
       "         'name': 'Art Museum',\n",
       "         'pluralName': 'Art Museums',\n",
       "         'primary': True,\n",
       "         'shortName': 'Art Museum'}],\n",
       "       'id': '4ad4c05ef964a520e2f620e3',\n",
       "       'location': {'address': '55 Centre Avenue',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'University Ave. and Dundas St W.',\n",
       "        'distance': 74,\n",
       "        'formattedAddress': ['55 Centre Avenue (University Ave. and Dundas St W.)',\n",
       "         'Toronto ON M5G 2H5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65439630500274,\n",
       "          'lng': -79.38650010906946}],\n",
       "        'lat': 43.65439630500274,\n",
       "        'lng': -79.38650010906946,\n",
       "        'postalCode': 'M5G 2H5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Textile Museum of Canada',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '56305293'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-504bbf2ce4b0168121235cbe-2',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/ramen_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '55a59bace4b013909087cb24',\n",
       "         'name': 'Ramen Restaurant',\n",
       "         'pluralName': 'Ramen Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Ramen'}],\n",
       "       'id': '504bbf2ce4b0168121235cbe',\n",
       "       'location': {'address': '179 Dundas St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'btwn Centre Ave. & Chestnut St.',\n",
       "        'distance': 144,\n",
       "        'formattedAddress': ['179 Dundas St. W (btwn Centre Ave. & Chestnut St.)',\n",
       "         'Toronto ON M5G 1Z8',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.655157467561246,\n",
       "          'lng': -79.38650067479335}],\n",
       "        'lat': 43.655157467561246,\n",
       "        'lng': -79.38650067479335,\n",
       "        'postalCode': 'M5G 1Z8',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Sansotei Ramen 三草亭',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4f513029e4b07c3382c9fdb9-3',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'primary': True,\n",
       "         'shortName': 'Café'}],\n",
       "       'id': '4f513029e4b07c3382c9fdb9',\n",
       "       'location': {'address': '250 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Simcoe Street',\n",
       "        'distance': 192,\n",
       "        'formattedAddress': ['250 Dundas Street West (Simcoe Street)',\n",
       "         'Toronto ON M5T 2Z5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65457125894357,\n",
       "          'lng': -79.38944976536852}],\n",
       "        'lat': 43.65457125894357,\n",
       "        'lng': -79.38944976536852,\n",
       "        'postalCode': 'M5T 2Z5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Cafe Plenty',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae7b27df964a52068ad21e3-4',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/sushi_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1d2941735',\n",
       "         'name': 'Sushi Restaurant',\n",
       "         'pluralName': 'Sushi Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Sushi'}],\n",
       "       'id': '4ae7b27df964a52068ad21e3',\n",
       "       'location': {'address': '122 Elizabeth St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St. W',\n",
       "        'distance': 219,\n",
       "        'formattedAddress': ['122 Elizabeth St. (at Dundas St. W)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65526771691681,\n",
       "          'lng': -79.38516506734886}],\n",
       "        'lat': 43.65526771691681,\n",
       "        'lng': -79.38516506734886,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Japango',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-57bcd3b7498e652a678d0378-5',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '5bae9231bedf3950379f89d4',\n",
       "         'name': 'Poke Place',\n",
       "         'pluralName': 'Poke Places',\n",
       "         'primary': True,\n",
       "         'shortName': 'Poke Place'}],\n",
       "       'id': '57bcd3b7498e652a678d0378',\n",
       "       'location': {'address': '112 Elizabeth St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St W',\n",
       "        'distance': 202,\n",
       "        'formattedAddress': ['112 Elizabeth St (at Dundas St W)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65489527525682,\n",
       "          'lng': -79.38505238381624}],\n",
       "        'lat': 43.65489527525682,\n",
       "        'lng': -79.38505238381624,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Poke Guys',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-56ccd5cfcd1069ca160a797e-6',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/tearoom_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1dc931735',\n",
       "         'name': 'Tea Room',\n",
       "         'pluralName': 'Tea Rooms',\n",
       "         'primary': True,\n",
       "         'shortName': 'Tea Room'}],\n",
       "       'id': '56ccd5cfcd1069ca160a797e',\n",
       "       'location': {'address': '147 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Elizabeth St',\n",
       "        'distance': 216,\n",
       "        'formattedAddress': ['147 Dundas St W (at Elizabeth St)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65537430780922,\n",
       "          'lng': -79.38535434742991}],\n",
       "        'lat': 43.65537430780922,\n",
       "        'lng': -79.38535434742991,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Tsujiri',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5773f01f498e98371390bdfd-7',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/japanese_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d111941735',\n",
       "         'name': 'Japanese Restaurant',\n",
       "         'pluralName': 'Japanese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Japanese'}],\n",
       "       'id': '5773f01f498e98371390bdfd',\n",
       "       'location': {'address': '207 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at University Ave',\n",
       "        'distance': 107,\n",
       "        'formattedAddress': ['207 Dundas St W (at University Ave)',\n",
       "         'Toronto ON M5G 1C8',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65491791857301,\n",
       "          'lng': -79.3874242454196}],\n",
       "        'lat': 43.65491791857301,\n",
       "        'lng': -79.3874242454196,\n",
       "        'postalCode': 'M5G 1C8',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Rolltation',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad9f607f964a520691c21e3-8',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/japanese_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d111941735',\n",
       "         'name': 'Japanese Restaurant',\n",
       "         'pluralName': 'Japanese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Japanese'}],\n",
       "       'id': '4ad9f607f964a520691c21e3',\n",
       "       'location': {'address': '105 McCaul St. Unit 29-31',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St. W.',\n",
       "        'distance': 277,\n",
       "        'formattedAddress': ['105 McCaul St. Unit 29-31 (at Dundas St. W.)',\n",
       "         'Toronto ON M5T 2X4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.653612411792935,\n",
       "          'lng': -79.39061276446213}],\n",
       "        'lat': 43.653612411792935,\n",
       "        'lng': -79.39061276446213,\n",
       "        'postalCode': 'M5T 2X4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Manpuku まんぷく',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4adf3c01f964a5208f7821e3-9',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/artstore_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d127951735',\n",
       "         'name': 'Arts & Crafts Store',\n",
       "         'pluralName': 'Arts & Crafts Stores',\n",
       "         'primary': True,\n",
       "         'shortName': 'Arts & Crafts'}],\n",
       "       'id': '4adf3c01f964a5208f7821e3',\n",
       "       'location': {'address': '74 McCaul St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Dundas St.',\n",
       "        'distance': 333,\n",
       "        'formattedAddress': ['74 McCaul St (Dundas St.)',\n",
       "         'Toronto ON M5T 3K2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.652645648070006,\n",
       "          'lng': -79.3909251764317}],\n",
       "        'lat': 43.652645648070006,\n",
       "        'lng': -79.3909251764317,\n",
       "        'postalCode': 'M5T 3K2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Aboveground Art Supplies',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c05ef964a520a6f620e3-10',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/plaza_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d164941735',\n",
       "         'name': 'Plaza',\n",
       "         'pluralName': 'Plazas',\n",
       "         'primary': True,\n",
       "         'shortName': 'Plaza'}],\n",
       "       'id': '4ad4c05ef964a520a6f620e3',\n",
       "       'location': {'address': '100 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Bay St',\n",
       "        'distance': 351,\n",
       "        'formattedAddress': ['100 Queen St W (at Bay St)',\n",
       "         'Toronto ON M5H 2N1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65227047322295,\n",
       "          'lng': -79.38351631164551}],\n",
       "        'lat': 43.65227047322295,\n",
       "        'lng': -79.38351631164551,\n",
       "        'postalCode': 'M5H 2N1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Nathan Phillips Square',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c064f964a52065f820e3-11',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/education/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1ae941735',\n",
       "         'name': 'University',\n",
       "         'pluralName': 'Universities',\n",
       "         'primary': True,\n",
       "         'shortName': 'University'}],\n",
       "       'id': '4ad4c064f964a52065f820e3',\n",
       "       'location': {'address': '100 McCaul St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St W',\n",
       "        'distance': 337,\n",
       "        'formattedAddress': ['100 McCaul St (at Dundas St W)',\n",
       "         'Toronto ON M5T 1W1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65280251171013,\n",
       "          'lng': -79.3910743699992}],\n",
       "        'lat': 43.65280251171013,\n",
       "        'lng': -79.3910743699992,\n",
       "        'postalCode': 'M5T 1W1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Ontario College of Art and Design University (OCADU)',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4e2284b11fc7c0ef9857d143-12',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/bubble_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '52e81612bcbc57f1066b7a0c',\n",
       "         'name': 'Bubble Tea Shop',\n",
       "         'pluralName': 'Bubble Tea Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Bubble Tea'}],\n",
       "       'id': '4e2284b11fc7c0ef9857d143',\n",
       "       'location': {'address': '132 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'btwn Bay & University',\n",
       "        'distance': 268,\n",
       "        'formattedAddress': ['132 Dundas St W (btwn Bay & University)',\n",
       "         'Toronto ON M5G 1C3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65554164147378,\n",
       "          'lng': -79.38468427043244}],\n",
       "        'lat': 43.65554164147378,\n",
       "        'lng': -79.38468427043244,\n",
       "        'postalCode': 'M5G 1C3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Chatime 日出茶太',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c062f964a520e5f720e3-13',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/musicvenue_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '5032792091d4c4b30a586d5c',\n",
       "         'name': 'Concert Hall',\n",
       "         'pluralName': 'Concert Halls',\n",
       "         'primary': True,\n",
       "         'shortName': 'Concert Hall'}],\n",
       "       'id': '4ad4c062f964a520e5f720e3',\n",
       "       'location': {'address': '145 Queen St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at University Ave.',\n",
       "        'distance': 391,\n",
       "        'formattedAddress': ['145 Queen St. W (at University Ave.)',\n",
       "         'Toronto ON M5H 4G1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650592,\n",
       "          'lng': -79.385806}],\n",
       "        'lat': 43.650592,\n",
       "        'lng': -79.385806,\n",
       "        'postalCode': 'M5H 4G1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Four Seasons Centre for the Performing Arts',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-52a7ae41498eed3af4d0a3fa-14',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/asian_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d145941735',\n",
       "         'name': 'Chinese Restaurant',\n",
       "         'pluralName': 'Chinese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Chinese'}],\n",
       "       'id': '52a7ae41498eed3af4d0a3fa',\n",
       "       'location': {'address': '126 Elizabeth St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Dundas St.',\n",
       "        'distance': 210,\n",
       "        'formattedAddress': ['126 Elizabeth St. (Dundas St.)',\n",
       "         'Toronto ON',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.655281263429195,\n",
       "          'lng': -79.3853365267765}],\n",
       "        'lat': 43.655281263429195,\n",
       "        'lng': -79.3853365267765,\n",
       "        'state': 'ON'},\n",
       "       'name': 'Yueh Tung Chinese Restaurant',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5a6b737b35f98359eed11974-15',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/coffeeshop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e0931735',\n",
       "         'name': 'Coffee Shop',\n",
       "         'pluralName': 'Coffee Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Coffee Shop'}],\n",
       "       'id': '5a6b737b35f98359eed11974',\n",
       "       'location': {'address': '281 Dundas St West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'St Patrick And Dundas St W',\n",
       "        'distance': 301,\n",
       "        'formattedAddress': ['281 Dundas St West (St Patrick And Dundas St W)',\n",
       "         'Toronto ON M5T 2W5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65441282740799,\n",
       "          'lng': -79.39090161351724}],\n",
       "        'lat': 43.65441282740799,\n",
       "        'lng': -79.39090161351724,\n",
       "        'postalCode': 'M5T 2W5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'The Library Specialty Coffee',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-566f1451498ed44bec09c4f2-16',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/tapas_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1db931735',\n",
       "         'name': 'Tapas Restaurant',\n",
       "         'pluralName': 'Tapas Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Tapas'}],\n",
       "       'id': '566f1451498ed44bec09c4f2',\n",
       "       'location': {'address': '308 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'McCaul',\n",
       "        'distance': 370,\n",
       "        'formattedAddress': ['308 Dundas Street West (McCaul)',\n",
       "         'Toronto ON M5T 1G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654293123974384,\n",
       "          'lng': -79.39178769369552}],\n",
       "        'lat': 43.654293123974384,\n",
       "        'lng': -79.39178769369552,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Provo Food Bar',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ddd83c788779c82beb061fc-17',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/middleeastern_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d115941735',\n",
       "         'name': 'Middle Eastern Restaurant',\n",
       "         'pluralName': 'Middle Eastern Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Middle Eastern'}],\n",
       "       'id': '4ddd83c788779c82beb061fc',\n",
       "       'location': {'address': '199 Dundas St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Centre Ave.',\n",
       "        'distance': 106,\n",
       "        'formattedAddress': ['199 Dundas St. W (at Centre Ave.)',\n",
       "         'Toronto ON M5g 1c8',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65491647880546,\n",
       "          'lng': -79.38717216891472}],\n",
       "        'lat': 43.65491647880546,\n",
       "        'lng': -79.38717216891472,\n",
       "        'postalCode': 'M5g 1c8',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Ali Baba's\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c062f964a520baf720e3-18',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/performingarts_operahouse_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d136941735',\n",
       "         'name': 'Opera House',\n",
       "         'pluralName': 'Opera Houses',\n",
       "         'primary': True,\n",
       "         'shortName': 'Opera House'}],\n",
       "       'id': '4ad4c062f964a520baf720e3',\n",
       "       'location': {'address': '145 Queen Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 375,\n",
       "        'formattedAddress': ['145 Queen Street West',\n",
       "         'Toronto ON M5H 2N7',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6506601893789,\n",
       "          'lng': -79.38624169559013}],\n",
       "        'lat': 43.6506601893789,\n",
       "        'lng': -79.38624169559013,\n",
       "        'postalCode': 'M5H 2N7',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Canadian Opera Company',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b7ed424f964a5208a0230e3-19',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/tobacco_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d123951735',\n",
       "         'name': 'Smoke Shop',\n",
       "         'pluralName': 'Smoke Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Smoke Shop'}],\n",
       "       'id': '4b7ed424f964a5208a0230e3',\n",
       "       'location': {'address': '241 Queen St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at St. Patrick St.',\n",
       "        'distance': 411,\n",
       "        'formattedAddress': ['241 Queen St. W (at St. Patrick St.)',\n",
       "         'Toronto ON M5V 1Z4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650386666114635,\n",
       "          'lng': -79.38852348995324}],\n",
       "        'lat': 43.650386666114635,\n",
       "        'lng': -79.38852348995324,\n",
       "        'postalCode': 'M5V 1Z4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Friendly Stranger - Cannabis Culture Shop',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '42625936'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-537773d1498e74a75bb75c1e-20',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/breakfast_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d143941735',\n",
       "         'name': 'Breakfast Spot',\n",
       "         'pluralName': 'Breakfast Spots',\n",
       "         'primary': True,\n",
       "         'shortName': 'Breakfast'}],\n",
       "       'id': '537773d1498e74a75bb75c1e',\n",
       "       'location': {'address': '483 Bay Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Albert Street',\n",
       "        'distance': 430,\n",
       "        'formattedAddress': ['483 Bay Street (Albert Street)',\n",
       "         'Toronto ON M5G 2C9',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65314383888587,\n",
       "          'lng': -79.38198016678167}],\n",
       "        'lat': 43.65314383888587,\n",
       "        'lng': -79.38198016678167,\n",
       "        'postalCode': 'M5G 2C9',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Eggspectation Bell Trinity Square',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '97507838'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c05ef964a520daf620e3-21',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/artgallery_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e2931735',\n",
       "         'name': 'Art Gallery',\n",
       "         'pluralName': 'Art Galleries',\n",
       "         'primary': True,\n",
       "         'shortName': 'Art Gallery'}],\n",
       "       'id': '4ad4c05ef964a520daf620e3',\n",
       "       'location': {'address': '317 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Beverley St',\n",
       "        'distance': 460,\n",
       "        'formattedAddress': ['317 Dundas St W (at Beverley St)',\n",
       "         'Toronto ON M5T 1G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654002860337386,\n",
       "          'lng': -79.39292172707437}],\n",
       "        'lat': 43.654002860337386,\n",
       "        'lng': -79.39292172707437,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Art Gallery of Ontario',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '33853777'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae3398ff964a520ed9121e3-22',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/seafood_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1ce941735',\n",
       "         'name': 'Seafood Restaurant',\n",
       "         'pluralName': 'Seafood Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Seafood'}],\n",
       "       'id': '4ae3398ff964a520ed9121e3',\n",
       "       'location': {'address': '20 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Bay St',\n",
       "        'distance': 390,\n",
       "        'formattedAddress': ['20 Dundas St W (at Bay St)',\n",
       "         'Toronto ON M5G 2C2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.656328,\n",
       "          'lng': -79.383621}],\n",
       "        'lat': 43.656328,\n",
       "        'lng': -79.383621,\n",
       "        'postalCode': 'M5G 2C2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Red Lobster',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5479da4f498e8569fb44985c-23',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1ff941735',\n",
       "         'name': 'Miscellaneous Shop',\n",
       "         'pluralName': 'Miscellaneous Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Shop'}],\n",
       "       'id': '5479da4f498e8569fb44985c',\n",
       "       'location': {'address': '20 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Yonge St.',\n",
       "        'distance': 390,\n",
       "        'formattedAddress': ['20 Dundas St W (at Yonge St.)',\n",
       "         'Toronto ON',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.656024,\n",
       "          'lng': -79.383284}],\n",
       "        'lat': 43.656024,\n",
       "        'lng': -79.383284,\n",
       "        'state': 'ON'},\n",
       "       'name': 'MUJI',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59c9960b2955137afedd6957-24',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/bakery_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16a941735',\n",
       "         'name': 'Bakery',\n",
       "         'pluralName': 'Bakeries',\n",
       "         'primary': True,\n",
       "         'shortName': 'Bakery'}],\n",
       "       'id': '59c9960b2955137afedd6957',\n",
       "       'location': {'address': '120 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 301,\n",
       "        'formattedAddress': ['120 Dundas Street West',\n",
       "         'Toronto ON M5G 1C3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65566927096165,\n",
       "          'lng': -79.3842978108375}],\n",
       "        'lat': 43.65566927096165,\n",
       "        'lng': -79.3842978108375,\n",
       "        'postalCode': 'M5G 1C3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Butter Baker',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b54deadf964a520a3d027e3-25',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/park_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d163941735',\n",
       "         'name': 'Park',\n",
       "         'pluralName': 'Parks',\n",
       "         'primary': True,\n",
       "         'shortName': 'Park'}],\n",
       "       'id': '4b54deadf964a520a3d027e3',\n",
       "       'location': {'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 423,\n",
       "        'formattedAddress': ['btwn College, University, Queen & Spadina',\n",
       "         'Toronto ON',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.652487552998565,\n",
       "          'lng': -79.39205307540142}],\n",
       "        'lat': 43.652487552998565,\n",
       "        'lng': -79.39205307540142,\n",
       "        'state': 'ON'},\n",
       "       'name': 'Grange Park',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad7bf71f964a5205b0e21e3-26',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/nightlife/pub_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d116941735',\n",
       "         'name': 'Bar',\n",
       "         'pluralName': 'Bars',\n",
       "         'primary': True,\n",
       "         'shortName': 'Bar'}],\n",
       "       'id': '4ad7bf71f964a5205b0e21e3',\n",
       "       'location': {'address': '136 McCaul St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St.',\n",
       "        'distance': 373,\n",
       "        'formattedAddress': ['136 McCaul St. (at Dundas St.)',\n",
       "         'Toronto ON M5T 1W2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65466135819523,\n",
       "          'lng': -79.39173728227614}],\n",
       "        'lat': 43.65466135819523,\n",
       "        'lng': -79.39173728227614,\n",
       "        'postalCode': 'M5T 1W2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Sin and Redemption',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5aff06ca6e4650002cc6286b-27',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/vegetarian_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1d3941735',\n",
       "         'name': 'Vegetarian / Vegan Restaurant',\n",
       "         'pluralName': 'Vegetarian / Vegan Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Vegetarian / Vegan'}],\n",
       "       'id': '5aff06ca6e4650002cc6286b',\n",
       "       'location': {'address': '133 Richmond St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 444,\n",
       "        'formattedAddress': ['133 Richmond St W',\n",
       "         'Toronto ON M5H 2L2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650252483069295,\n",
       "          'lng': -79.38515575620075}],\n",
       "        'lat': 43.650252483069295,\n",
       "        'lng': -79.38515575620075,\n",
       "        'postalCode': 'M5H 2L2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Rosalinda',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b68aed1f964a520de862be3-28',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/musicvenue_jazzclub_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e7931735',\n",
       "         'name': 'Jazz Club',\n",
       "         'pluralName': 'Jazz Clubs',\n",
       "         'primary': True,\n",
       "         'shortName': 'Jazz Club'}],\n",
       "       'id': '4b68aed1f964a520de862be3',\n",
       "       'location': {'address': '194 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Queen & St. Patrick',\n",
       "        'distance': 400,\n",
       "        'formattedAddress': ['194 Queen St W (Queen & St. Patrick)',\n",
       "         'Toronto ON M5V 1Z1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65050475544005,\n",
       "          'lng': -79.38857723389897}],\n",
       "        'lat': 43.65050475544005,\n",
       "        'lng': -79.38857723389897,\n",
       "        'postalCode': 'M5V 1Z1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'The Rex Hotel Jazz & Blues Bar',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '62225795'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-58e91d60e0adac258fcea481-29',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/asian_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d145941735',\n",
       "         'name': 'Chinese Restaurant',\n",
       "         'pluralName': 'Chinese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Chinese'}],\n",
       "       'id': '58e91d60e0adac258fcea481',\n",
       "       'location': {'address': '66 Edward Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Bay Street',\n",
       "        'distance': 389,\n",
       "        'formattedAddress': ['66 Edward Street (Bay Street)',\n",
       "         'Toronto ON M5G 1C9',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65643422548463,\n",
       "          'lng': -79.3837827356398}],\n",
       "        'lat': 43.65643422548463,\n",
       "        'lng': -79.3837827356398,\n",
       "        'postalCode': 'M5G 1C9',\n",
       "        'state': 'ON'},\n",
       "       'name': 'GB Hand-Pulled Noodles',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-54132b3b498ee9ca9332e189-30',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/coffeeshop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e0931735',\n",
       "         'name': 'Coffee Shop',\n",
       "         'pluralName': 'Coffee Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Coffee Shop'}],\n",
       "       'id': '54132b3b498ee9ca9332e189',\n",
       "       'location': {'address': 'C24 - 123 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 424,\n",
       "        'formattedAddress': ['C24 - 123 Queen St W', 'Toronto ON', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65121797253777,\n",
       "          'lng': -79.38355459932247}],\n",
       "        'lat': 43.65121797253777,\n",
       "        'lng': -79.38355459932247,\n",
       "        'state': 'ON'},\n",
       "       'name': 'M Square Coffee Co',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4abab954f964a520a08220e3-31',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d14e941735',\n",
       "         'name': 'American Restaurant',\n",
       "         'pluralName': 'American Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'American'}],\n",
       "       'id': '4abab954f964a520a08220e3',\n",
       "       'location': {'address': '180 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at University Ave.',\n",
       "        'distance': 391,\n",
       "        'formattedAddress': ['180 Queen St W (at University Ave.)',\n",
       "         'Toronto ON M5V 3X3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6505120350372,\n",
       "          'lng': -79.38813081159722}],\n",
       "        'lat': 43.6505120350372,\n",
       "        'lng': -79.38813081159722,\n",
       "        'postalCode': 'M5V 3X3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Nota Bene',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '45316474'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-509bb871e4b09c7ac93f6642-32',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/sushi_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1d2941735',\n",
       "         'name': 'Sushi Restaurant',\n",
       "         'pluralName': 'Sushi Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Sushi'}],\n",
       "       'id': '509bb871e4b09c7ac93f6642',\n",
       "       'location': {'address': '222 Richmond St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 481,\n",
       "        'formattedAddress': ['222 Richmond St W',\n",
       "         'Toronto ON M5V 1W4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.64968685893743,\n",
       "          'lng': -79.38809001547467}],\n",
       "        'lat': 43.64968685893743,\n",
       "        'lng': -79.38809001547467,\n",
       "        'postalCode': 'M5V 1W4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'JaBistro',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '148995303'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ab2b0b9f964a520e56b20e3-33',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/gastropub_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d155941735',\n",
       "         'name': 'Gastropub',\n",
       "         'pluralName': 'Gastropubs',\n",
       "         'primary': True,\n",
       "         'shortName': 'Gastropub'}],\n",
       "       'id': '4ab2b0b9f964a520e56b20e3',\n",
       "       'location': {'address': '35 Elm St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Bay St.',\n",
       "        'distance': 490,\n",
       "        'formattedAddress': ['35 Elm St. (at Bay St.)',\n",
       "         'Toronto ON M5G 1H1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65747228208784,\n",
       "          'lng': -79.38352412327917}],\n",
       "        'lat': 43.65747228208784,\n",
       "        'lng': -79.38352412327917,\n",
       "        'postalCode': 'M5G 1H1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'The Queen and Beaver Public House',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-57fe5f64498e08c9fc55cb87-34',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'primary': True,\n",
       "         'shortName': 'Café'}],\n",
       "       'id': '57fe5f64498e08c9fc55cb87',\n",
       "       'location': {'address': '166 McCaul Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 441,\n",
       "        'formattedAddress': ['166 McCaul Street',\n",
       "         'Toronto ON M5T 1J7',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65582710322224,\n",
       "          'lng': -79.39204216888555}],\n",
       "        'lat': 43.65582710322224,\n",
       "        'lng': -79.39204216888555,\n",
       "        'postalCode': 'M5T 1J7',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Jimmy's Coffee\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b8d5856f964a520f4f532e3-35',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/asian_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d142941735',\n",
       "         'name': 'Asian Restaurant',\n",
       "         'pluralName': 'Asian Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Asian'}],\n",
       "       'id': '4b8d5856f964a520f4f532e3',\n",
       "       'location': {'address': '123 Queen St. W.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': \"in Toronto's PATH Walkway\",\n",
       "        'distance': 418,\n",
       "        'formattedAddress': [\"123 Queen St. W. (in Toronto's PATH Walkway)\",\n",
       "         'Toronto ON M5H 3M9',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65170632794881,\n",
       "          'lng': -79.38304628912547}],\n",
       "        'lat': 43.65170632794881,\n",
       "        'lng': -79.38304628912547,\n",
       "        'postalCode': 'M5H 3M9',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Noodle King',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b11c75cf964a520728423e3-36',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/japanese_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d111941735',\n",
       "         'name': 'Japanese Restaurant',\n",
       "         'pluralName': 'Japanese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Japanese'}],\n",
       "       'id': '4b11c75cf964a520728423e3',\n",
       "       'location': {'address': '30 St. Patrick St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 343,\n",
       "        'formattedAddress': ['30 St. Patrick St.',\n",
       "         'Toronto ON M5T 1T4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65115644866129,\n",
       "          'lng': -79.38898951275146}],\n",
       "        'lat': 43.65115644866129,\n",
       "        'lng': -79.38898951275146,\n",
       "        'postalCode': 'M5T 1T4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Ematei 絵馬亭',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59e2064fdff815657b758cda-37',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/coffeeshop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e0931735',\n",
       "         'name': 'Coffee Shop',\n",
       "         'pluralName': 'Coffee Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Coffee Shop'}],\n",
       "       'id': '59e2064fdff815657b758cda',\n",
       "       'location': {'address': '298 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 336,\n",
       "        'formattedAddress': ['298 Dundas St W',\n",
       "         'Toronto ON M5T 1G2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654392,\n",
       "          'lng': -79.391343}],\n",
       "        'lat': 43.654392,\n",
       "        'lng': -79.391343,\n",
       "        'postalCode': 'M5T 1G2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Carafted Bean',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5aa824c2e075506bf4e2277b-38',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '56aa371be4b08b9a8d573532',\n",
       "         'name': 'Exhibit',\n",
       "         'pluralName': 'Exhibits',\n",
       "         'primary': True,\n",
       "         'shortName': 'Exhibit'}],\n",
       "       'id': '5aa824c2e075506bf4e2277b',\n",
       "       'location': {'address': '317 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 437,\n",
       "        'formattedAddress': ['317 Dundas St W',\n",
       "         'Toronto ON M5T 1G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.653222036008096,\n",
       "          'lng': -79.39253694347221}],\n",
       "        'lat': 43.653222036008096,\n",
       "        'lng': -79.39253694347221,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Yayoi Kusuma: Infinity Mirrors',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4e048b98315168be7fd7ee4d-39',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/greek_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d10e941735',\n",
       "         'name': 'Greek Restaurant',\n",
       "         'pluralName': 'Greek Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Greek'}],\n",
       "       'id': '4e048b98315168be7fd7ee4d',\n",
       "       'location': {'address': '133 Richmond St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at York St.',\n",
       "        'distance': 458,\n",
       "        'formattedAddress': ['133 Richmond St. W (at York St.)',\n",
       "         'Toronto ON M5H 2L3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65032912559998,\n",
       "          'lng': -79.38453301297716}],\n",
       "        'lat': 43.65032912559998,\n",
       "        'lng': -79.38453301297716,\n",
       "        'postalCode': 'M5H 2L3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Estiatorio Volos',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '75877391'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b19573bf964a52086db23e3-40',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/sushi_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1d2941735',\n",
       "         'name': 'Sushi Restaurant',\n",
       "         'pluralName': 'Sushi Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Sushi'}],\n",
       "       'id': '4b19573bf964a52086db23e3',\n",
       "       'location': {'address': '275 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 282,\n",
       "        'formattedAddress': ['275 Dundas Street West',\n",
       "         'Toronto ON M5T 3K1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6544805461278,\n",
       "          'lng': -79.39063459151606}],\n",
       "        'lat': 43.6544805461278,\n",
       "        'lng': -79.39063459151606,\n",
       "        'postalCode': 'M5T 3K1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Gallery Sushi',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b44bd18f964a520cafa25e3-41',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/salon_barber_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d110951735',\n",
       "         'name': 'Salon / Barbershop',\n",
       "         'pluralName': 'Salons / Barbershops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Salon / Barbershop'}],\n",
       "       'id': '4b44bd18f964a520cafa25e3',\n",
       "       'location': {'address': '269 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Duncan St.',\n",
       "        'distance': 473,\n",
       "        'formattedAddress': ['269 Queen St W (at Duncan St.)',\n",
       "         'Toronto ON',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6500197743058,\n",
       "          'lng': -79.38940017059696}],\n",
       "        'lat': 43.6500197743058,\n",
       "        'lng': -79.38940017059696,\n",
       "        'state': 'ON'},\n",
       "       'name': 'Civello Salon & Spa',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae60299f964a52003a421e3-42',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/coffeeshop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e0931735',\n",
       "         'name': 'Coffee Shop',\n",
       "         'pluralName': 'Coffee Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Coffee Shop'}],\n",
       "       'id': '4ae60299f964a52003a421e3',\n",
       "       'location': {'address': '180 Queen St W,Suite 102.3A',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Simcoe St.',\n",
       "        'distance': 362,\n",
       "        'formattedAddress': ['180 Queen St W,Suite 102.3A (at Simcoe St.)',\n",
       "         'Toronto ON M5V 3X3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65071767190139,\n",
       "          'lng': -79.3875952564609}],\n",
       "        'lat': 43.65071767190139,\n",
       "        'lng': -79.3875952564609,\n",
       "        'postalCode': 'M5V 3X3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Starbucks',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4b143319f964a520099f23e3-43',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/record_shop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d10d951735',\n",
       "         'name': 'Record Shop',\n",
       "         'pluralName': 'Record Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Record Shop'}],\n",
       "       'id': '4b143319f964a520099f23e3',\n",
       "       'location': {'address': '229 Queen St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'btwn St. Patrick St. & Simcoe St.',\n",
       "        'distance': 391,\n",
       "        'formattedAddress': ['229 Queen St. W (btwn St. Patrick St. & Simcoe St.)',\n",
       "         'Toronto ON M5V 1Z4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65051219841103,\n",
       "          'lng': -79.38812570541256}],\n",
       "        'lat': 43.65051219841103,\n",
       "        'lng': -79.38812570541256,\n",
       "        'postalCode': 'M5V 1Z4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Kops Records',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5548cfb6498ec3e4bdfde59a-44',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/juicebar_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d112941735',\n",
       "         'name': 'Juice Bar',\n",
       "         'pluralName': 'Juice Bars',\n",
       "         'primary': True,\n",
       "         'shortName': 'Juice Bar'}],\n",
       "       'id': '5548cfb6498ec3e4bdfde59a',\n",
       "       'location': {'address': '200 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at St. Patrick St',\n",
       "        'distance': 417,\n",
       "        'formattedAddress': ['200 Queen St W (at St. Patrick St)',\n",
       "         'Toronto ON M5V 1Z2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65038785952372,\n",
       "          'lng': -79.38879174332155}],\n",
       "        'lat': 43.65038785952372,\n",
       "        'lng': -79.38879174332155,\n",
       "        'postalCode': 'M5V 1Z2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Daily Press Juicery',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59f784dd28122f14f9d5d63d-45',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/coffeeshop_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e0931735',\n",
       "         'name': 'Coffee Shop',\n",
       "         'pluralName': 'Coffee Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Coffee Shop'}],\n",
       "       'id': '59f784dd28122f14f9d5d63d',\n",
       "       'location': {'address': '245 Queen Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 417,\n",
       "        'formattedAddress': ['245 Queen Street West',\n",
       "         'Toronto ON M5V 1Z4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65036434800487,\n",
       "          'lng': -79.38866907575726}],\n",
       "        'lat': 43.65036434800487,\n",
       "        'lng': -79.38866907575726,\n",
       "        'postalCode': 'M5V 1Z4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'HotBlack Coffee',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '463001529'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-55074b57498ef35eeeaafe29-46',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/dessert_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1d0941735',\n",
       "         'name': 'Dessert Shop',\n",
       "         'pluralName': 'Dessert Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Desserts'}],\n",
       "       'id': '55074b57498ef35eeeaafe29',\n",
       "       'location': {'address': '598 Bay St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St',\n",
       "        'distance': 366,\n",
       "        'formattedAddress': ['598 Bay St (at Dundas St)',\n",
       "         'Toronto ON M5G 1M5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65606287245643,\n",
       "          'lng': -79.38369472446465}],\n",
       "        'lat': 43.65606287245643,\n",
       "        'lng': -79.38369472446465,\n",
       "        'postalCode': 'M5G 1M5',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Uncle Tetsu's Cheesecake (Uncle Tetsu's Japanese Cheesecake)\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ba64e69f964a520794439e3-47',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/artgallery_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e2931735',\n",
       "         'name': 'Art Gallery',\n",
       "         'pluralName': 'Art Galleries',\n",
       "         'primary': True,\n",
       "         'shortName': 'Art Gallery'}],\n",
       "       'id': '4ba64e69f964a520794439e3',\n",
       "       'location': {'address': '317 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'AGO',\n",
       "        'distance': 430,\n",
       "        'formattedAddress': ['317 Dundas Street West (AGO)',\n",
       "         'Toronto ON M5T 1G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65278556636435,\n",
       "          'lng': -79.39229314655985}],\n",
       "        'lat': 43.65278556636435,\n",
       "        'lng': -79.39229314655985,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Norma Ridley Members’ Lounge',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '33853778'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-539c6f13498e06f4cc765165-48',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '52e81612bcbc57f1066b79f9',\n",
       "         'name': 'Modern European Restaurant',\n",
       "         'pluralName': 'Modern European Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Modern European'}],\n",
       "       'id': '539c6f13498e06f4cc765165',\n",
       "       'location': {'address': '43 Elm St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Bay',\n",
       "        'distance': 472,\n",
       "        'formattedAddress': ['43 Elm St (Bay)',\n",
       "         'Toronto ON M5G 1H1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65739749535259,\n",
       "          'lng': -79.38376054171513}],\n",
       "        'lat': 43.65739749535259,\n",
       "        'lng': -79.38376054171513,\n",
       "        'postalCode': 'M5G 1H1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'The Elm Tree Restaurant',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '88534436'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c05ef964a5208ef620e3-49',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/building/government_monument_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d12d941735',\n",
       "         'name': 'Monument / Landmark',\n",
       "         'pluralName': 'Monuments / Landmarks',\n",
       "         'primary': True,\n",
       "         'shortName': 'Landmark'}],\n",
       "       'id': '4ad4c05ef964a5208ef620e3',\n",
       "       'location': {'address': '60 Queen Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 490,\n",
       "        'formattedAddress': ['60 Queen Street West',\n",
       "         'Toronto ON M5H 1A1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.652008800876125,\n",
       "          'lng': -79.3817442232328}],\n",
       "        'lat': 43.652008800876125,\n",
       "        'lng': -79.3817442232328,\n",
       "        'postalCode': 'M5H 1A1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Old City Hall',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-50ca02c5245f2d4aa8c2c53d-50',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/steakhouse_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1cc941735',\n",
       "         'name': 'Steakhouse',\n",
       "         'pluralName': 'Steakhouses',\n",
       "         'primary': True,\n",
       "         'shortName': 'Steakhouse'}],\n",
       "       'id': '50ca02c5245f2d4aa8c2c53d',\n",
       "       'location': {'address': '145 Richmond St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at University Ave',\n",
       "        'distance': 465,\n",
       "        'formattedAddress': ['145 Richmond St W (at University Ave)',\n",
       "         'Toronto ON M5H 2L2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6499174,\n",
       "          'lng': -79.3857238}],\n",
       "        'lat': 43.6499174,\n",
       "        'lng': -79.3857238,\n",
       "        'postalCode': 'M5H 2L2',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Ruth's Chris Steak House\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5a32970da42362290203a9d6-51',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/food_foodcourt_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d120951735',\n",
       "         'name': 'Food Court',\n",
       "         'pluralName': 'Food Courts',\n",
       "         'primary': True,\n",
       "         'shortName': 'Food Court'}],\n",
       "       'id': '5a32970da42362290203a9d6',\n",
       "       'location': {'address': '111 Richmond St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'btwn York & Bay St',\n",
       "        'distance': 485,\n",
       "        'formattedAddress': ['111 Richmond St W (btwn York & Bay St)',\n",
       "         'Toronto ON M5H 2G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650578865093934,\n",
       "          'lng': -79.3834119303614}],\n",
       "        'lat': 43.650578865093934,\n",
       "        'lng': -79.3834119303614,\n",
       "        'neighborhood': 'Financial District',\n",
       "        'postalCode': 'M5H 2G4',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Assembly Chef's Hall\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4c3a8e78be4620a1c6180b13-52',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/breakfast_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d143941735',\n",
       "         'name': 'Breakfast Spot',\n",
       "         'pluralName': 'Breakfast Spots',\n",
       "         'primary': True,\n",
       "         'shortName': 'Breakfast'}],\n",
       "       'id': '4c3a8e78be4620a1c6180b13',\n",
       "       'location': {'address': '145 Richmond Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 416,\n",
       "        'formattedAddress': ['145 Richmond Street West',\n",
       "         'Toronto ON M5G 1Y1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650363125865155,\n",
       "          'lng': -79.38580184119992}],\n",
       "        'lat': 43.650363125865155,\n",
       "        'lng': -79.38580184119992,\n",
       "        'postalCode': 'M5G 1Y1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Hilton Toronto Executive Lounge',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-50885719498ea7b5aab3a74c-53',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/building/gym_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d176941735',\n",
       "         'name': 'Gym',\n",
       "         'pluralName': 'Gyms',\n",
       "         'primary': True,\n",
       "         'shortName': 'Gym'}],\n",
       "       'id': '50885719498ea7b5aab3a74c',\n",
       "       'location': {'address': '483 Bay St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 363,\n",
       "        'formattedAddress': ['483 Bay St', 'Toronto ON M5G 2C9', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65374320109676,\n",
       "          'lng': -79.3827049601948}],\n",
       "        'lat': 43.65374320109676,\n",
       "        'lng': -79.3827049601948,\n",
       "        'postalCode': 'M5G 2C9',\n",
       "        'state': 'ON'},\n",
       "       'name': 'GoodLife Fitness',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-5771c4be498e6c9fa7babc01-54',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/bubble_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '52e81612bcbc57f1066b7a0c',\n",
       "         'name': 'Bubble Tea Shop',\n",
       "         'pluralName': 'Bubble Tea Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Bubble Tea'}],\n",
       "       'id': '5771c4be498e6c9fa7babc01',\n",
       "       'location': {'address': '637B Bay St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 391,\n",
       "        'formattedAddress': ['637B Bay St', 'Toronto ON M5G 1M7', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.656707495984975,\n",
       "          'lng': -79.38416470657434}],\n",
       "        'lat': 43.656707495984975,\n",
       "        'lng': -79.38416470657434,\n",
       "        'postalCode': 'M5G 1M7',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Bubble Republic Tea House 奶茶黨部',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ab989ebf964a520cc7f20e3-55',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/thai_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d149941735',\n",
       "         'name': 'Thai Restaurant',\n",
       "         'pluralName': 'Thai Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Thai'}],\n",
       "       'id': '4ab989ebf964a520cc7f20e3',\n",
       "       'location': {'address': '208 Queen St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 426,\n",
       "        'formattedAddress': ['208 Queen St. W',\n",
       "         'Toronto ON M5V 1Z2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650401,\n",
       "          'lng': -79.389156}],\n",
       "        'lat': 43.650401,\n",
       "        'lng': -79.389156,\n",
       "        'postalCode': 'M5V 1Z2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Queen Mother Cafe',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4bdc626ac79cc9282d4a86e9-56',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/apparel_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d103951735',\n",
       "         'name': 'Clothing Store',\n",
       "         'pluralName': 'Clothing Stores',\n",
       "         'primary': True,\n",
       "         'shortName': 'Apparel'}],\n",
       "       'id': '4bdc626ac79cc9282d4a86e9',\n",
       "       'location': {'address': '253 Queen St. W.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 430,\n",
       "        'formattedAddress': ['253 Queen St. W.',\n",
       "         'Toronto ON M5V 1Z4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65030427070834,\n",
       "          'lng': -79.38892664709715}],\n",
       "        'lat': 43.65030427070834,\n",
       "        'lng': -79.38892664709715,\n",
       "        'postalCode': 'M5V 1Z4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Lavish & Squalor',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad8a5a7f964a5203c1321e3-57',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/indian_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d10f941735',\n",
       "         'name': 'Indian Restaurant',\n",
       "         'pluralName': 'Indian Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Indian'}],\n",
       "       'id': '4ad8a5a7f964a5203c1321e3',\n",
       "       'location': {'address': '255 Queen St. W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Queen and University',\n",
       "        'distance': 430,\n",
       "        'formattedAddress': ['255 Queen St. W (Queen and University)',\n",
       "         'Toronto ON M5V 1Z4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65031880877208,\n",
       "          'lng': -79.38899760320798}],\n",
       "        'lat': 43.65031880877208,\n",
       "        'lng': -79.38899760320798,\n",
       "        'postalCode': 'M5V 1Z4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Little India Restaurant',\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '57793907'}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59246b5aad1789316b35d66c-58',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1c4941735',\n",
       "         'name': 'Restaurant',\n",
       "         'pluralName': 'Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Restaurant'}],\n",
       "       'id': '59246b5aad1789316b35d66c',\n",
       "       'location': {'address': '1 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 454,\n",
       "        'formattedAddress': ['1 Dundas St W', 'Toronto ON M5G 1Z3', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65540379999999,\n",
       "          'lng': -79.38192889999999}],\n",
       "        'lat': 43.65540379999999,\n",
       "        'lng': -79.38192889999999,\n",
       "        'postalCode': 'M5G 1Z3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'JOEY Eaton Centre',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4a9d0a53f964a520d23720e3-59',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/travel/hotel_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1fa931735',\n",
       "         'name': 'Hotel',\n",
       "         'pluralName': 'Hotels',\n",
       "         'primary': True,\n",
       "         'shortName': 'Hotel'}],\n",
       "       'id': '4a9d0a53f964a520d23720e3',\n",
       "       'location': {'address': '145 Richmond St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at University Ave',\n",
       "        'distance': 476,\n",
       "        'formattedAddress': ['145 Richmond St W (at University Ave)',\n",
       "         'Toronto ON M5H 2L2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.64985232228859,\n",
       "          'lng': -79.38557624816895}],\n",
       "        'lat': 43.64985232228859,\n",
       "        'lng': -79.38557624816895,\n",
       "        'postalCode': 'M5H 2L2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Hilton Toronto',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-549dd93f498eec33464a5fd2-60',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/nightlife/pub_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d116941735',\n",
       "         'name': 'Bar',\n",
       "         'pluralName': 'Bars',\n",
       "         'primary': True,\n",
       "         'shortName': 'Bar'}],\n",
       "       'id': '549dd93f498eec33464a5fd2',\n",
       "       'location': {'address': '232 Queen St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'John St',\n",
       "        'distance': 496,\n",
       "        'formattedAddress': ['232 Queen St W (John St)',\n",
       "         'Toronto ON M5V 1Z6',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.650116540590425,\n",
       "          'lng': -79.3903160886256}],\n",
       "        'lat': 43.650116540590425,\n",
       "        'lng': -79.3903160886256,\n",
       "        'postalCode': 'M5V 1Z6',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Queen St. Warehouse',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-52473c1e11d23dc5a6c75c42-61',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/artgallery_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e2931735',\n",
       "         'name': 'Art Gallery',\n",
       "         'pluralName': 'Art Galleries',\n",
       "         'primary': True,\n",
       "         'shortName': 'Art Gallery'}],\n",
       "       'id': '52473c1e11d23dc5a6c75c42',\n",
       "       'location': {'address': '317 Dundas Street West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Dundas W. & McCaul',\n",
       "        'distance': 454,\n",
       "        'formattedAddress': ['317 Dundas Street West (Dundas W. & McCaul)',\n",
       "         'Toronto ON',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654018148167665,\n",
       "          'lng': -79.39284982483933}],\n",
       "        'lat': 43.654018148167665,\n",
       "        'lng': -79.39284982483933,\n",
       "        'state': 'ON'},\n",
       "       'name': 'AGO - David Bowie Is Exhibition',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4df909dfe4cd2129701c0690-62',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d14e941735',\n",
       "         'name': 'American Restaurant',\n",
       "         'pluralName': 'American Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'American'}],\n",
       "       'id': '4df909dfe4cd2129701c0690',\n",
       "       'location': {'address': '1 Dundas St West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 490,\n",
       "        'formattedAddress': ['1 Dundas St West',\n",
       "         'Toronto ON M5G 1Z3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6560936540828,\n",
       "          'lng': -79.38187792357716}],\n",
       "        'lat': 43.6560936540828,\n",
       "        'lng': -79.38187792357716,\n",
       "        'postalCode': 'M5G 1Z3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'JOEY',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae5df5af964a520c4a221e3-63',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/building/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d124941735',\n",
       "         'name': 'Office',\n",
       "         'pluralName': 'Offices',\n",
       "         'primary': True,\n",
       "         'shortName': 'Office'}],\n",
       "       'id': '4ae5df5af964a520c4a221e3',\n",
       "       'location': {'address': '483 Bay St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Albert St.',\n",
       "        'distance': 385,\n",
       "        'formattedAddress': ['483 Bay St. (at Albert St.)',\n",
       "         'Toronto ON M5G 2C9',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65347479872822,\n",
       "          'lng': -79.38246987630343}],\n",
       "        'lat': 43.65347479872822,\n",
       "        'lng': -79.38246987630343,\n",
       "        'postalCode': 'M5G 2C9',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Bell Trinity Square',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-52c1b80d11d28f9d514dcf50-64',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'primary': True,\n",
       "         'shortName': 'Café'}],\n",
       "       'id': '52c1b80d11d28f9d514dcf50',\n",
       "       'location': {'address': '29 McCaul Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 392,\n",
       "        'formattedAddress': ['29 McCaul Street',\n",
       "         'Toronto ON M5T 3A3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65114970183438,\n",
       "          'lng': -79.39014599464723}],\n",
       "        'lat': 43.65114970183438,\n",
       "        'lng': -79.39014599464723,\n",
       "        'postalCode': 'M5T 3A3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Red Eye Espresso',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-522a616311d2b982aa3b8111-65',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/toys_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1f3941735',\n",
       "         'name': 'Toy / Game Store',\n",
       "         'pluralName': 'Toy / Game Stores',\n",
       "         'primary': True,\n",
       "         'shortName': 'Toys & Games'}],\n",
       "       'id': '522a616311d2b982aa3b8111',\n",
       "       'location': {'address': '220 Yonge Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Eaton Centre',\n",
       "        'distance': 482,\n",
       "        'formattedAddress': ['220 Yonge Street (Eaton Centre)',\n",
       "         'Toronto ON M5B 2H1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654248,\n",
       "          'lng': -79.381232}],\n",
       "        'lat': 43.654248,\n",
       "        'lng': -79.381232,\n",
       "        'postalCode': 'M5B 2H1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Disney store',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-55305f67498ef64445c3b5fa-66',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/performingarts_dancestudio_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d134941735',\n",
       "         'name': 'Dance Studio',\n",
       "         'pluralName': 'Dance Studios',\n",
       "         'primary': True,\n",
       "         'shortName': 'Dance Studio'}],\n",
       "       'id': '55305f67498ef64445c3b5fa',\n",
       "       'location': {'cc': 'CA',\n",
       "        'country': 'Canada',\n",
       "        'distance': 474,\n",
       "        'formattedAddress': ['Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.64974018262459,\n",
       "          'lng': -79.38804462470118}],\n",
       "        'lat': 43.64974018262459,\n",
       "        'lng': -79.38804462470118},\n",
       "       'name': 'The Underground Dance Centre',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae47067f964a520989a21e3-67',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/artgallery_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d1e2931735',\n",
       "         'name': 'Art Gallery',\n",
       "         'pluralName': 'Art Galleries',\n",
       "         'primary': True,\n",
       "         'shortName': 'Art Gallery'}],\n",
       "       'id': '4ae47067f964a520989a21e3',\n",
       "       'location': {'address': '334 Dundas St West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 430,\n",
       "        'formattedAddress': ['334 Dundas St West',\n",
       "         'Toronto ON M5T 1G5',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65422714439051,\n",
       "          'lng': -79.39253595754614}],\n",
       "        'lat': 43.65422714439051,\n",
       "        'lng': -79.39253595754614,\n",
       "        'postalCode': 'M5T 1G5',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Art Square Gallery & Cafe',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae9f5b9f964a52002b821e3-68',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'primary': True,\n",
       "         'shortName': 'Café'}],\n",
       "       'id': '4ae9f5b9f964a52002b821e3',\n",
       "       'location': {'address': '317 Dundas St West',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 411,\n",
       "        'formattedAddress': ['317 Dundas St West', 'Toronto ON', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.6541461873951,\n",
       "          'lng': -79.39231147264867}],\n",
       "        'lat': 43.6541461873951,\n",
       "        'lng': -79.39231147264867,\n",
       "        'state': 'ON'},\n",
       "       'name': 'AGO Espresso Bar',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4e5cecc9fa76a4cf148bc565-69',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/donuts_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d148941735',\n",
       "         'name': 'Donut Shop',\n",
       "         'pluralName': 'Donut Shops',\n",
       "         'primary': True,\n",
       "         'shortName': 'Donuts'}],\n",
       "       'id': '4e5cecc9fa76a4cf148bc565',\n",
       "       'location': {'address': '162 McCaul St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': \"btwn D'Arcy & Baldwin\",\n",
       "        'distance': 434,\n",
       "        'formattedAddress': [\"162 McCaul St. (btwn D'Arcy & Baldwin)\",\n",
       "         'Toronto ON M5T 1W3',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65577205054815,\n",
       "          'lng': -79.391993340322}],\n",
       "        'lat': 43.65577205054815,\n",
       "        'lng': -79.391993340322,\n",
       "        'postalCode': 'M5T 1W3',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Krispy Kreme Doughnut Cafe',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c062f964a520bef720e3-70',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/movietheater_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d17f941735',\n",
       "         'name': 'Movie Theater',\n",
       "         'pluralName': 'Movie Theaters',\n",
       "         'primary': True,\n",
       "         'shortName': 'Movie Theater'}],\n",
       "       'id': '4ad4c062f964a520bef720e3',\n",
       "       'location': {'address': '317 Dundas St W',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'McCaul',\n",
       "        'distance': 362,\n",
       "        'formattedAddress': ['317 Dundas St W (McCaul)',\n",
       "         'Toronto ON M5T 1G4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65409020565421,\n",
       "          'lng': -79.39170490014942}],\n",
       "        'lat': 43.65409020565421,\n",
       "        'lng': -79.39170490014942,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Jackman Hall',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59ef681cfd16bb4a1ce11dcc-71',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/default_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '56aa371be4b08b9a8d573532',\n",
       "         'name': 'Exhibit',\n",
       "         'pluralName': 'Exhibits',\n",
       "         'primary': True,\n",
       "         'shortName': 'Exhibit'}],\n",
       "       'id': '59ef681cfd16bb4a1ce11dcc',\n",
       "       'location': {'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 388,\n",
       "        'formattedAddress': ['Toronto ON M5T 1G4', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.653686532126336,\n",
       "          'lng': -79.39201817613684}],\n",
       "        'lat': 43.653686532126336,\n",
       "        'lng': -79.39201817613684,\n",
       "        'postalCode': 'M5T 1G4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Guillermo del Toro: At Home With Monsters',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ba8f061f964a520e8fb39e3-72',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/french_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d10c941735',\n",
       "         'name': 'French Restaurant',\n",
       "         'pluralName': 'French Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'French'}],\n",
       "       'id': '4ba8f061f964a520e8fb39e3',\n",
       "       'location': {'address': '168 McCaul Street',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'Elm Street',\n",
       "        'distance': 447,\n",
       "        'formattedAddress': ['168 McCaul Street (Elm Street)',\n",
       "         'Toronto ON M5T 1W4',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65587131386703,\n",
       "          'lng': -79.39209126452964}],\n",
       "        'lat': 43.65587131386703,\n",
       "        'lng': -79.39209126452964,\n",
       "        'postalCode': 'M5T 1W4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Midi Bistro',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ae29039f964a520078f21e3-73',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/nightlife/pub_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d11b941735',\n",
       "         'name': 'Pub',\n",
       "         'pluralName': 'Pubs',\n",
       "         'primary': True,\n",
       "         'shortName': 'Pub'}],\n",
       "       'id': '4ae29039f964a520078f21e3',\n",
       "       'location': {'address': '134 McCaul St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Dundas St. W',\n",
       "        'distance': 358,\n",
       "        'formattedAddress': ['134 McCaul St. (at Dundas St. W)',\n",
       "         'Toronto ON M5T 1W2',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.654393552761775,\n",
       "          'lng': -79.39162194728851}],\n",
       "        'lat': 43.654393552761775,\n",
       "        'lng': -79.39162194728851,\n",
       "        'postalCode': 'M5T 1W2',\n",
       "        'state': 'ON'},\n",
       "       'name': 'The Village Idiot Pub',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-59f25bd825ecca5f1cf24d0c-74',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/japanese_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d111941735',\n",
       "         'name': 'Japanese Restaurant',\n",
       "         'pluralName': 'Japanese Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Japanese'}],\n",
       "       'id': '59f25bd825ecca5f1cf24d0c',\n",
       "       'location': {'address': '3 Baldwin St',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 482,\n",
       "        'formattedAddress': ['3 Baldwin St', 'Toronto ON M5T 1L1', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.656006,\n",
       "          'lng': -79.392494}],\n",
       "        'lat': 43.656006,\n",
       "        'lng': -79.392494,\n",
       "        'postalCode': 'M5T 1L1',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Omai',\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-552db032498e660b6506230c-75',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/korean_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d113941735',\n",
       "         'name': 'Korean Restaurant',\n",
       "         'pluralName': 'Korean Restaurants',\n",
       "         'primary': True,\n",
       "         'shortName': 'Korean'}],\n",
       "       'id': '552db032498e660b6506230c',\n",
       "       'location': {'address': '1 Baldwin St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'crossStreet': 'at Elm St.',\n",
       "        'distance': 475,\n",
       "        'formattedAddress': ['1 Baldwin St. (at Elm St.)',\n",
       "         'Toronto ON M5T 1L1',\n",
       "         'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65614757920083,\n",
       "          'lng': -79.39228230349781}],\n",
       "        'lat': 43.65614757920083,\n",
       "        'lng': -79.39228230349781,\n",
       "        'postalCode': 'M5T 1L1',\n",
       "        'state': 'ON'},\n",
       "       'name': \"Mo'Ramyun\",\n",
       "       'photos': {'count': 0, 'groups': []}}},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'reasonName': 'globalInteractionReason',\n",
       "         'summary': 'This spot is popular',\n",
       "         'type': 'general'}]},\n",
       "      'referralId': 'e-0-4ad4c05cf964a520fcf520e3-76',\n",
       "      'venue': {'categories': [{'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'primary': True,\n",
       "         'shortName': 'Café'}],\n",
       "       'id': '4ad4c05cf964a520fcf520e3',\n",
       "       'location': {'address': '166 Mccaul St.',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'country': 'Canada',\n",
       "        'distance': 443,\n",
       "        'formattedAddress': ['166 Mccaul St.', 'Toronto ON M5T 1W4', 'Canada'],\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.655838552521466,\n",
       "          'lng': -79.39206594138834}],\n",
       "        'lat': 43.655838552521466,\n",
       "        'lng': -79.39206594138834,\n",
       "        'postalCode': 'M5T 1W4',\n",
       "        'state': 'ON'},\n",
       "       'name': 'Sage Cafe & Catering',\n",
       "       'photos': {'count': 0, 'groups': []}}}],\n",
       "    'name': 'recommended',\n",
       "    'type': 'Recommended Places'}],\n",
       "  'headerFullLocation': 'Bay Street Corridor, Toronto',\n",
       "  'headerLocation': 'Bay Street Corridor',\n",
       "  'headerLocationGranularity': 'neighborhood',\n",
       "  'suggestedBounds': {'ne': {'lat': 43.6584630045, 'lng': -79.38099903084075},\n",
       "   'sw': {'lat': 43.649462995499995, 'lng': -79.39341496915925}},\n",
       "  'suggestedFilters': {'filters': [{'key': 'openNow', 'name': 'Open now'}],\n",
       "   'header': 'Tap to show:'},\n",
       "  'totalResults': 77}}"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results = requests.get(url).json()\n",
    "results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "# function that extracts the category of the venue\n",
    "def get_category_type(row):\n",
    "    try:\n",
    "        categories_list = row['categories']\n",
    "    except:\n",
    "        categories_list = row['venue.categories']\n",
    "        \n",
    "    if len(categories_list) == 0:\n",
    "        return None\n",
    "    else:\n",
    "        return categories_list[0]['name']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "import json\n",
    "from pandas.io.json import json_normalize "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>name</th>\n",
       "      <th>categories</th>\n",
       "      <th>lat</th>\n",
       "      <th>lng</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Neighborhood</td>\n",
       "      <td>43.653232</td>\n",
       "      <td>-79.385296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Textile Museum of Canada</td>\n",
       "      <td>Art Museum</td>\n",
       "      <td>43.654396</td>\n",
       "      <td>-79.386500</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Sansotei Ramen 三草亭</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>43.655157</td>\n",
       "      <td>-79.386501</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Cafe Plenty</td>\n",
       "      <td>Café</td>\n",
       "      <td>43.654571</td>\n",
       "      <td>-79.389450</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Japango</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>43.655268</td>\n",
       "      <td>-79.385165</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                       name        categories        lat        lng\n",
       "0          Downtown Toronto      Neighborhood  43.653232 -79.385296\n",
       "1  Textile Museum of Canada        Art Museum  43.654396 -79.386500\n",
       "2        Sansotei Ramen 三草亭  Ramen Restaurant  43.655157 -79.386501\n",
       "3               Cafe Plenty              Café  43.654571 -79.389450\n",
       "4                   Japango  Sushi Restaurant  43.655268 -79.385165"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "venues = results['response']['groups'][0]['items']\n",
    "    \n",
    "nearby_venues = json_normalize(venues) # flatten JSON\n",
    "\n",
    "# filter columns\n",
    "filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']\n",
    "nearby_venues =nearby_venues.loc[:, filtered_columns]\n",
    "\n",
    "# filter the category for each row\n",
    "nearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)\n",
    "\n",
    "# clean columns\n",
    "nearby_venues.columns = [col.split(\".\")[-1] for col in nearby_venues.columns]\n",
    "\n",
    "nearby_venues.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "77 venues were returned by Foursquare.\n"
     ]
    }
   ],
   "source": [
    "print('{} venues were returned by Foursquare.'.format(nearby_venues.shape[0]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [],
   "source": [
    "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n",
    "    \n",
    "    venues_list=[]\n",
    "    for name, lat, lng in zip(names, latitudes, longitudes):\n",
    "        print(name)\n",
    "            \n",
    "        # create the API request URL\n",
    "        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "            CLIENT_ID, \n",
    "            CLIENT_SECRET, \n",
    "            VERSION, \n",
    "            lat, \n",
    "            lng, \n",
    "            radius, \n",
    "            LIMIT)\n",
    "            \n",
    "        # make the GET request\n",
    "        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n",
    "        \n",
    "        # return only relevant information for each nearby venue\n",
    "        venues_list.append([(\n",
    "            name, \n",
    "            lat, \n",
    "            lng, \n",
    "            v['venue']['name'], \n",
    "            v['venue']['location']['lat'], \n",
    "            v['venue']['location']['lng'],  \n",
    "            v['venue']['categories'][0]['name']) for v in results])\n",
    "\n",
    "    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n",
    "    nearby_venues.columns = ['Neighborhood', \n",
    "                  'Neighborhood Latitude', \n",
    "                  'Neighborhood Longitude', \n",
    "                  'Venue', \n",
    "                  'Venue Latitude', \n",
    "                  'Venue Longitude', \n",
    "                  'Venue Category']\n",
    "    \n",
    "    return(nearby_venues)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Parkwoods\n",
      "Victoria Village\n",
      "Harbourfront,Regent Park\n",
      "Lawrence Heights,Lawrence Manor\n",
      "Queen's Park\n",
      "Islington Avenue\n",
      "Rouge,Malvern\n",
      "Don Mills North\n",
      "Woodbine Gardens,Parkview Hill\n",
      "Ryerson,Garden District\n",
      "Glencairn\n",
      "Cloverdale,Islington,Martin Grove,Princess Gardens,West Deane Park\n",
      "Highland Creek,Rouge Hill,Port Union\n",
      "Flemingdon Park,Don Mills South\n",
      "Woodbine Heights\n",
      "St. James Town\n",
      "Humewood-Cedarvale\n",
      "Bloordale Gardens,Eringate,Markland Wood,Old Burnhamthorpe\n",
      "Guildwood,Morningside,West Hill\n",
      "The Beaches\n",
      "Berczy Park\n",
      "Caledonia-Fairbanks\n",
      "Woburn\n",
      "Leaside\n",
      "Central Bay Street\n",
      "Christie\n",
      "Cedarbrae\n",
      "Hillcrest Village\n",
      "Bathurst Manor,Downsview North,Wilson Heights\n",
      "Thorncliffe Park\n",
      "Adelaide,King,Richmond\n",
      "Dovercourt Village,Dufferin\n",
      "Scarborough Village\n",
      "Fairview,Henry Farm,Oriole\n",
      "Northwood Park,York University\n",
      "East Toronto\n",
      "Harbourfront East,Toronto Islands,Union Station\n",
      "Little Portugal,Trinity\n",
      "East Birchmount Park,Ionview,Kennedy Park\n",
      "Bayview Village\n",
      "CFB Toronto,Downsview East\n",
      "The Danforth West,Riverdale\n",
      "Design Exchange,Toronto Dominion Centre\n",
      "Brockton,Exhibition Place,Parkdale Village\n",
      "Clairlea,Golden Mile,Oakridge\n",
      "Silver Hills,York Mills\n",
      "Downsview West\n",
      "The Beaches West,India Bazaar\n",
      "Commerce Court,Victoria Hotel\n",
      "Downsview,North Park,Upwood Park\n",
      "Humber Summit\n",
      "Cliffcrest,Cliffside,Scarborough Village West\n",
      "Newtonbrook,Willowdale\n",
      "Downsview Central\n",
      "Studio District\n",
      "Bedford Park,Lawrence Manor East\n",
      "Del Ray,Keelesdale,Mount Dennis,Silverthorn\n",
      "Emery,Humberlea\n",
      "Birch Cliff,Cliffside West\n",
      "Willowdale South\n",
      "Downsview Northwest\n",
      "Lawrence Park\n",
      "Roselawn\n",
      "The Junction North,Runnymede\n",
      "Weston\n",
      "Dorset Park,Scarborough Town Centre,Wexford Heights\n",
      "York Mills West\n",
      "Davisville North\n",
      "Forest Hill North,Forest Hill West\n",
      "High Park,The Junction South\n",
      "Westmount\n",
      "Maryvale,Wexford\n",
      "Willowdale West\n",
      "North Toronto West\n",
      "The Annex,North Midtown,Yorkville\n",
      "Parkdale,Roncesvalles\n",
      "Canada Post Gateway Processing Centre\n",
      "Kingsview Village,Martin Grove Gardens,Richview Gardens,St. Phillips\n",
      "Agincourt\n",
      "Davisville\n",
      "Harbord,University of Toronto\n",
      "Runnymede,Swansea\n",
      "Clarks Corners,Sullivan,Tam O'Shanter\n",
      "Moore Park,Summerhill East\n",
      "Chinatown,Grange Park,Kensington Market\n",
      "Agincourt North,L'Amoreaux East,Milliken,Steeles East\n",
      "Deer Park,Forest Hill SE,Rathnelly,South Hill,Summerhill West\n",
      "CN Tower,Bathurst Quay,Island airport,Harbourfront West,King and Spadina,Railway Lands,South Niagara\n",
      "Humber Bay Shores,Mimico South,New Toronto\n",
      "Albion Gardens,Beaumond Heights,Humbergate,Jamestown,Mount Olive,Silverstone,South Steeles,Thistletown\n",
      "L'Amoreaux West\n",
      "Rosedale\n",
      "Stn A PO Boxes 25 The Esplanade\n",
      "Alderwood,Long Branch\n",
      "Northwest\n",
      "Upper Rouge\n",
      "Cabbagetown,St. James Town\n",
      "First Canadian Place,Underground city\n",
      "The Kingsway,Montgomery Road,Old Mill North\n",
      "Church and Wellesley\n",
      "Business Reply Mail Processing Centre 969 Eastern\n",
      "Humber Bay,King's Mill Park,Kingsway Park South East,Mimico NE,Old Mill South,The Queensway East,Royal York South East,Sunnylea\n",
      "Kingsway Park South West,Mimico NW,The Queensway West,Royal York South West,South of Bloor\n"
     ]
    }
   ],
   "source": [
    "Toronto_venues = getNearbyVenues(names=neighborhoods['Neighbourhood'],\n",
    "                                   latitudes=neighborhoods['Latitude'],\n",
    "                                   longitudes=neighborhoods['Longitude']\n",
    "                                  )\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(3207, 7)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>Allwyn's Bakery</td>\n",
       "      <td>43.759840</td>\n",
       "      <td>-79.324719</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>Tim Hortons</td>\n",
       "      <td>43.760668</td>\n",
       "      <td>-79.326368</td>\n",
       "      <td>Café</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>A&amp;W Canada</td>\n",
       "      <td>43.760643</td>\n",
       "      <td>-79.326865</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>Food Basics</td>\n",
       "      <td>43.760865</td>\n",
       "      <td>-79.326015</td>\n",
       "      <td>Supermarket</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>Shoppers Drug Mart</td>\n",
       "      <td>43.760857</td>\n",
       "      <td>-79.324961</td>\n",
       "      <td>Pharmacy</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \\\n",
       "0    Parkwoods              43.761224              -79.323986   \n",
       "1    Parkwoods              43.761224              -79.323986   \n",
       "2    Parkwoods              43.761224              -79.323986   \n",
       "3    Parkwoods              43.761224              -79.323986   \n",
       "4    Parkwoods              43.761224              -79.323986   \n",
       "\n",
       "                Venue  Venue Latitude  Venue Longitude        Venue Category  \n",
       "0     Allwyn's Bakery       43.759840       -79.324719  Caribbean Restaurant  \n",
       "1         Tim Hortons       43.760668       -79.326368                  Café  \n",
       "2          A&W Canada       43.760643       -79.326865  Fast Food Restaurant  \n",
       "3         Food Basics       43.760865       -79.326015           Supermarket  \n",
       "4  Shoppers Drug Mart       43.760857       -79.324961              Pharmacy  "
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print(Toronto_venues.shape)\n",
    "Toronto_venues.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Neighborhood</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Adelaide,King,Richmond</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Agincourt</th>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Agincourt North,L'Amoreaux East,Milliken,Steeles East</th>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Albion Gardens,Beaumond Heights,Humbergate,Jamestown,Mount Olive,Silverstone,South Steeles,Thistletown</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Alderwood,Long Branch</th>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Bathurst Manor,Downsview North,Wilson Heights</th>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Bayview Village</th>\n",
       "      <td>15</td>\n",
       "      <td>15</td>\n",
       "      <td>15</td>\n",
       "      <td>15</td>\n",
       "      <td>15</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Bedford Park,Lawrence Manor East</th>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Berczy Park</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Birch Cliff,Cliffside West</th>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Bloordale Gardens,Eringate,Markland Wood,Old Burnhamthorpe</th>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Brockton,Exhibition Place,Parkdale Village</th>\n",
       "      <td>20</td>\n",
       "      <td>20</td>\n",
       "      <td>20</td>\n",
       "      <td>20</td>\n",
       "      <td>20</td>\n",
       "      <td>20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Business Reply Mail Processing Centre 969 Eastern</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>CFB Toronto,Downsview East</th>\n",
       "      <td>50</td>\n",
       "      <td>50</td>\n",
       "      <td>50</td>\n",
       "      <td>50</td>\n",
       "      <td>50</td>\n",
       "      <td>50</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>CN Tower,Bathurst Quay,Island airport,Harbourfront West,King and Spadina,Railway Lands,South Niagara</th>\n",
       "      <td>85</td>\n",
       "      <td>85</td>\n",
       "      <td>85</td>\n",
       "      <td>85</td>\n",
       "      <td>85</td>\n",
       "      <td>85</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cabbagetown,St. James Town</th>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "      <td>49</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Caledonia-Fairbanks</th>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Canada Post Gateway Processing Centre</th>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cedarbrae</th>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Central Bay Street</th>\n",
       "      <td>48</td>\n",
       "      <td>48</td>\n",
       "      <td>48</td>\n",
       "      <td>48</td>\n",
       "      <td>48</td>\n",
       "      <td>48</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Chinatown,Grange Park,Kensington Market</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Christie</th>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Church and Wellesley</th>\n",
       "      <td>92</td>\n",
       "      <td>92</td>\n",
       "      <td>92</td>\n",
       "      <td>92</td>\n",
       "      <td>92</td>\n",
       "      <td>92</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Clairlea,Golden Mile,Oakridge</th>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Clarks Corners,Sullivan,Tam O'Shanter</th>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cliffcrest,Cliffside,Scarborough Village West</th>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cloverdale,Islington,Martin Grove,Princess Gardens,West Deane Park</th>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Commerce Court,Victoria Hotel</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Davisville</th>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Davisville North</th>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Parkdale,Roncesvalles</th>\n",
       "      <td>39</td>\n",
       "      <td>39</td>\n",
       "      <td>39</td>\n",
       "      <td>39</td>\n",
       "      <td>39</td>\n",
       "      <td>39</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Parkwoods</th>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Queen's Park</th>\n",
       "      <td>69</td>\n",
       "      <td>69</td>\n",
       "      <td>69</td>\n",
       "      <td>69</td>\n",
       "      <td>69</td>\n",
       "      <td>69</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Rosedale</th>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Roselawn</th>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Rouge,Malvern</th>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Runnymede,Swansea</th>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ryerson,Garden District</th>\n",
       "      <td>14</td>\n",
       "      <td>14</td>\n",
       "      <td>14</td>\n",
       "      <td>14</td>\n",
       "      <td>14</td>\n",
       "      <td>14</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Scarborough Village</th>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Silver Hills,York Mills</th>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>St. James Town</th>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Stn A PO Boxes 25 The Esplanade</th>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "      <td>100</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Studio District</th>\n",
       "      <td>97</td>\n",
       "      <td>97</td>\n",
       "      <td>97</td>\n",
       "      <td>97</td>\n",
       "      <td>97</td>\n",
       "      <td>97</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Annex,North Midtown,Yorkville</th>\n",
       "      <td>44</td>\n",
       "      <td>44</td>\n",
       "      <td>44</td>\n",
       "      <td>44</td>\n",
       "      <td>44</td>\n",
       "      <td>44</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Beaches</th>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Beaches West,India Bazaar</th>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "      <td>47</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Danforth West,Riverdale</th>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "      <td>27</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Junction North,Runnymede</th>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "      <td>58</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>The Kingsway,Montgomery Road,Old Mill North</th>\n",
       "      <td>35</td>\n",
       "      <td>35</td>\n",
       "      <td>35</td>\n",
       "      <td>35</td>\n",
       "      <td>35</td>\n",
       "      <td>35</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Thorncliffe Park</th>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Upper Rouge</th>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Victoria Village</th>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Westmount</th>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Weston</th>\n",
       "      <td>17</td>\n",
       "      <td>17</td>\n",
       "      <td>17</td>\n",
       "      <td>17</td>\n",
       "      <td>17</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Willowdale South</th>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Willowdale West</th>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "      <td>59</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Woburn</th>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Woodbine Gardens,Parkview Hill</th>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Woodbine Heights</th>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>York Mills West</th>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>103 rows × 6 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                    Neighborhood Latitude  \\\n",
       "Neighborhood                                                                \n",
       "Adelaide,King,Richmond                                                100   \n",
       "Agincourt                                                              13   \n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...                     31   \n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...                    100   \n",
       "Alderwood,Long Branch                                                   9   \n",
       "Bathurst Manor,Downsview North,Wilson Heights                           4   \n",
       "Bayview Village                                                        15   \n",
       "Bedford Park,Lawrence Manor East                                        3   \n",
       "Berczy Park                                                           100   \n",
       "Birch Cliff,Cliffside West                                              4   \n",
       "Bloordale Gardens,Eringate,Markland Wood,Old Bu...                      8   \n",
       "Brockton,Exhibition Place,Parkdale Village                             20   \n",
       "Business Reply Mail Processing Centre 969 Eastern                       1   \n",
       "CFB Toronto,Downsview East                                             50   \n",
       "CN Tower,Bathurst Quay,Island airport,Harbourfr...                     85   \n",
       "Cabbagetown,St. James Town                                             49   \n",
       "Caledonia-Fairbanks                                                     6   \n",
       "Canada Post Gateway Processing Centre                                   4   \n",
       "Cedarbrae                                                              21   \n",
       "Central Bay Street                                                     48   \n",
       "Chinatown,Grange Park,Kensington Market                               100   \n",
       "Christie                                                               58   \n",
       "Church and Wellesley                                                   92   \n",
       "Clairlea,Golden Mile,Oakridge                                           8   \n",
       "Clarks Corners,Sullivan,Tam O'Shanter                                   2   \n",
       "Cliffcrest,Cliffside,Scarborough Village West                           7   \n",
       "Cloverdale,Islington,Martin Grove,Princess Gard...                     27   \n",
       "Commerce Court,Victoria Hotel                                         100   \n",
       "Davisville                                                             31   \n",
       "Davisville North                                                       31   \n",
       "...                                                                   ...   \n",
       "Parkdale,Roncesvalles                                                  39   \n",
       "Parkwoods                                                              13   \n",
       "Queen's Park                                                           69   \n",
       "Rosedale                                                                4   \n",
       "Roselawn                                                                5   \n",
       "Rouge,Malvern                                                           3   \n",
       "Runnymede,Swansea                                                      24   \n",
       "Ryerson,Garden District                                                14   \n",
       "Scarborough Village                                                     8   \n",
       "Silver Hills,York Mills                                                 3   \n",
       "St. James Town                                                         31   \n",
       "Stn A PO Boxes 25 The Esplanade                                       100   \n",
       "Studio District                                                        97   \n",
       "The Annex,North Midtown,Yorkville                                      44   \n",
       "The Beaches                                                            47   \n",
       "The Beaches West,India Bazaar                                          47   \n",
       "The Danforth West,Riverdale                                            27   \n",
       "The Junction North,Runnymede                                           58   \n",
       "The Kingsway,Montgomery Road,Old Mill North                            35   \n",
       "Thorncliffe Park                                                       24   \n",
       "Upper Rouge                                                             3   \n",
       "Victoria Village                                                        4   \n",
       "Westmount                                                               2   \n",
       "Weston                                                                 17   \n",
       "Willowdale South                                                       59   \n",
       "Willowdale West                                                        59   \n",
       "Woburn                                                                 21   \n",
       "Woodbine Gardens,Parkview Hill                                          6   \n",
       "Woodbine Heights                                                        8   \n",
       "York Mills West                                                        16   \n",
       "\n",
       "                                                    Neighborhood Longitude  \\\n",
       "Neighborhood                                                                 \n",
       "Adelaide,King,Richmond                                                 100   \n",
       "Agincourt                                                               13   \n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...                      31   \n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...                     100   \n",
       "Alderwood,Long Branch                                                    9   \n",
       "Bathurst Manor,Downsview North,Wilson Heights                            4   \n",
       "Bayview Village                                                         15   \n",
       "Bedford Park,Lawrence Manor East                                         3   \n",
       "Berczy Park                                                            100   \n",
       "Birch Cliff,Cliffside West                                               4   \n",
       "Bloordale Gardens,Eringate,Markland Wood,Old Bu...                       8   \n",
       "Brockton,Exhibition Place,Parkdale Village                              20   \n",
       "Business Reply Mail Processing Centre 969 Eastern                        1   \n",
       "CFB Toronto,Downsview East                                              50   \n",
       "CN Tower,Bathurst Quay,Island airport,Harbourfr...                      85   \n",
       "Cabbagetown,St. James Town                                              49   \n",
       "Caledonia-Fairbanks                                                      6   \n",
       "Canada Post Gateway Processing Centre                                    4   \n",
       "Cedarbrae                                                               21   \n",
       "Central Bay Street                                                      48   \n",
       "Chinatown,Grange Park,Kensington Market                                100   \n",
       "Christie                                                                58   \n",
       "Church and Wellesley                                                    92   \n",
       "Clairlea,Golden Mile,Oakridge                                            8   \n",
       "Clarks Corners,Sullivan,Tam O'Shanter                                    2   \n",
       "Cliffcrest,Cliffside,Scarborough Village West                            7   \n",
       "Cloverdale,Islington,Martin Grove,Princess Gard...                      27   \n",
       "Commerce Court,Victoria Hotel                                          100   \n",
       "Davisville                                                              31   \n",
       "Davisville North                                                        31   \n",
       "...                                                                    ...   \n",
       "Parkdale,Roncesvalles                                                   39   \n",
       "Parkwoods                                                               13   \n",
       "Queen's Park                                                            69   \n",
       "Rosedale                                                                 4   \n",
       "Roselawn                                                                 5   \n",
       "Rouge,Malvern                                                            3   \n",
       "Runnymede,Swansea                                                       24   \n",
       "Ryerson,Garden District                                                 14   \n",
       "Scarborough Village                                                      8   \n",
       "Silver Hills,York Mills                                                  3   \n",
       "St. James Town                                                          31   \n",
       "Stn A PO Boxes 25 The Esplanade                                        100   \n",
       "Studio District                                                         97   \n",
       "The Annex,North Midtown,Yorkville                                       44   \n",
       "The Beaches                                                             47   \n",
       "The Beaches West,India Bazaar                                           47   \n",
       "The Danforth West,Riverdale                                             27   \n",
       "The Junction North,Runnymede                                            58   \n",
       "The Kingsway,Montgomery Road,Old Mill North                             35   \n",
       "Thorncliffe Park                                                        24   \n",
       "Upper Rouge                                                              3   \n",
       "Victoria Village                                                         4   \n",
       "Westmount                                                                2   \n",
       "Weston                                                                  17   \n",
       "Willowdale South                                                        59   \n",
       "Willowdale West                                                         59   \n",
       "Woburn                                                                  21   \n",
       "Woodbine Gardens,Parkview Hill                                           6   \n",
       "Woodbine Heights                                                         8   \n",
       "York Mills West                                                         16   \n",
       "\n",
       "                                                    Venue  Venue Latitude  \\\n",
       "Neighborhood                                                                \n",
       "Adelaide,King,Richmond                                100             100   \n",
       "Agincourt                                              13              13   \n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...     31              31   \n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...    100             100   \n",
       "Alderwood,Long Branch                                   9               9   \n",
       "Bathurst Manor,Downsview North,Wilson Heights           4               4   \n",
       "Bayview Village                                        15              15   \n",
       "Bedford Park,Lawrence Manor East                        3               3   \n",
       "Berczy Park                                           100             100   \n",
       "Birch Cliff,Cliffside West                              4               4   \n",
       "Bloordale Gardens,Eringate,Markland Wood,Old Bu...      8               8   \n",
       "Brockton,Exhibition Place,Parkdale Village             20              20   \n",
       "Business Reply Mail Processing Centre 969 Eastern       1               1   \n",
       "CFB Toronto,Downsview East                             50              50   \n",
       "CN Tower,Bathurst Quay,Island airport,Harbourfr...     85              85   \n",
       "Cabbagetown,St. James Town                             49              49   \n",
       "Caledonia-Fairbanks                                     6               6   \n",
       "Canada Post Gateway Processing Centre                   4               4   \n",
       "Cedarbrae                                              21              21   \n",
       "Central Bay Street                                     48              48   \n",
       "Chinatown,Grange Park,Kensington Market               100             100   \n",
       "Christie                                               58              58   \n",
       "Church and Wellesley                                   92              92   \n",
       "Clairlea,Golden Mile,Oakridge                           8               8   \n",
       "Clarks Corners,Sullivan,Tam O'Shanter                   2               2   \n",
       "Cliffcrest,Cliffside,Scarborough Village West           7               7   \n",
       "Cloverdale,Islington,Martin Grove,Princess Gard...     27              27   \n",
       "Commerce Court,Victoria Hotel                         100             100   \n",
       "Davisville                                             31              31   \n",
       "Davisville North                                       31              31   \n",
       "...                                                   ...             ...   \n",
       "Parkdale,Roncesvalles                                  39              39   \n",
       "Parkwoods                                              13              13   \n",
       "Queen's Park                                           69              69   \n",
       "Rosedale                                                4               4   \n",
       "Roselawn                                                5               5   \n",
       "Rouge,Malvern                                           3               3   \n",
       "Runnymede,Swansea                                      24              24   \n",
       "Ryerson,Garden District                                14              14   \n",
       "Scarborough Village                                     8               8   \n",
       "Silver Hills,York Mills                                 3               3   \n",
       "St. James Town                                         31              31   \n",
       "Stn A PO Boxes 25 The Esplanade                       100             100   \n",
       "Studio District                                        97              97   \n",
       "The Annex,North Midtown,Yorkville                      44              44   \n",
       "The Beaches                                            47              47   \n",
       "The Beaches West,India Bazaar                          47              47   \n",
       "The Danforth West,Riverdale                            27              27   \n",
       "The Junction North,Runnymede                           58              58   \n",
       "The Kingsway,Montgomery Road,Old Mill North            35              35   \n",
       "Thorncliffe Park                                       24              24   \n",
       "Upper Rouge                                             3               3   \n",
       "Victoria Village                                        4               4   \n",
       "Westmount                                               2               2   \n",
       "Weston                                                 17              17   \n",
       "Willowdale South                                       59              59   \n",
       "Willowdale West                                        59              59   \n",
       "Woburn                                                 21              21   \n",
       "Woodbine Gardens,Parkview Hill                          6               6   \n",
       "Woodbine Heights                                        8               8   \n",
       "York Mills West                                        16              16   \n",
       "\n",
       "                                                    Venue Longitude  \\\n",
       "Neighborhood                                                          \n",
       "Adelaide,King,Richmond                                          100   \n",
       "Agincourt                                                        13   \n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...               31   \n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...              100   \n",
       "Alderwood,Long Branch                                             9   \n",
       "Bathurst Manor,Downsview North,Wilson Heights                     4   \n",
       "Bayview Village                                                  15   \n",
       "Bedford Park,Lawrence Manor East                                  3   \n",
       "Berczy Park                                                     100   \n",
       "Birch Cliff,Cliffside West                                        4   \n",
       "Bloordale Gardens,Eringate,Markland Wood,Old Bu...                8   \n",
       "Brockton,Exhibition Place,Parkdale Village                       20   \n",
       "Business Reply Mail Processing Centre 969 Eastern                 1   \n",
       "CFB Toronto,Downsview East                                       50   \n",
       "CN Tower,Bathurst Quay,Island airport,Harbourfr...               85   \n",
       "Cabbagetown,St. James Town                                       49   \n",
       "Caledonia-Fairbanks                                               6   \n",
       "Canada Post Gateway Processing Centre                             4   \n",
       "Cedarbrae                                                        21   \n",
       "Central Bay Street                                               48   \n",
       "Chinatown,Grange Park,Kensington Market                         100   \n",
       "Christie                                                         58   \n",
       "Church and Wellesley                                             92   \n",
       "Clairlea,Golden Mile,Oakridge                                     8   \n",
       "Clarks Corners,Sullivan,Tam O'Shanter                             2   \n",
       "Cliffcrest,Cliffside,Scarborough Village West                     7   \n",
       "Cloverdale,Islington,Martin Grove,Princess Gard...               27   \n",
       "Commerce Court,Victoria Hotel                                   100   \n",
       "Davisville                                                       31   \n",
       "Davisville North                                                 31   \n",
       "...                                                             ...   \n",
       "Parkdale,Roncesvalles                                            39   \n",
       "Parkwoods                                                        13   \n",
       "Queen's Park                                                     69   \n",
       "Rosedale                                                          4   \n",
       "Roselawn                                                          5   \n",
       "Rouge,Malvern                                                     3   \n",
       "Runnymede,Swansea                                                24   \n",
       "Ryerson,Garden District                                          14   \n",
       "Scarborough Village                                               8   \n",
       "Silver Hills,York Mills                                           3   \n",
       "St. James Town                                                   31   \n",
       "Stn A PO Boxes 25 The Esplanade                                 100   \n",
       "Studio District                                                  97   \n",
       "The Annex,North Midtown,Yorkville                                44   \n",
       "The Beaches                                                      47   \n",
       "The Beaches West,India Bazaar                                    47   \n",
       "The Danforth West,Riverdale                                      27   \n",
       "The Junction North,Runnymede                                     58   \n",
       "The Kingsway,Montgomery Road,Old Mill North                      35   \n",
       "Thorncliffe Park                                                 24   \n",
       "Upper Rouge                                                       3   \n",
       "Victoria Village                                                  4   \n",
       "Westmount                                                         2   \n",
       "Weston                                                           17   \n",
       "Willowdale South                                                 59   \n",
       "Willowdale West                                                  59   \n",
       "Woburn                                                           21   \n",
       "Woodbine Gardens,Parkview Hill                                    6   \n",
       "Woodbine Heights                                                  8   \n",
       "York Mills West                                                  16   \n",
       "\n",
       "                                                    Venue Category  \n",
       "Neighborhood                                                        \n",
       "Adelaide,King,Richmond                                         100  \n",
       "Agincourt                                                       13  \n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...              31  \n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...             100  \n",
       "Alderwood,Long Branch                                            9  \n",
       "Bathurst Manor,Downsview North,Wilson Heights                    4  \n",
       "Bayview Village                                                 15  \n",
       "Bedford Park,Lawrence Manor East                                 3  \n",
       "Berczy Park                                                    100  \n",
       "Birch Cliff,Cliffside West                                       4  \n",
       "Bloordale Gardens,Eringate,Markland Wood,Old Bu...               8  \n",
       "Brockton,Exhibition Place,Parkdale Village                      20  \n",
       "Business Reply Mail Processing Centre 969 Eastern                1  \n",
       "CFB Toronto,Downsview East                                      50  \n",
       "CN Tower,Bathurst Quay,Island airport,Harbourfr...              85  \n",
       "Cabbagetown,St. James Town                                      49  \n",
       "Caledonia-Fairbanks                                              6  \n",
       "Canada Post Gateway Processing Centre                            4  \n",
       "Cedarbrae                                                       21  \n",
       "Central Bay Street                                              48  \n",
       "Chinatown,Grange Park,Kensington Market                        100  \n",
       "Christie                                                        58  \n",
       "Church and Wellesley                                            92  \n",
       "Clairlea,Golden Mile,Oakridge                                    8  \n",
       "Clarks Corners,Sullivan,Tam O'Shanter                            2  \n",
       "Cliffcrest,Cliffside,Scarborough Village West                    7  \n",
       "Cloverdale,Islington,Martin Grove,Princess Gard...              27  \n",
       "Commerce Court,Victoria Hotel                                  100  \n",
       "Davisville                                                      31  \n",
       "Davisville North                                                31  \n",
       "...                                                            ...  \n",
       "Parkdale,Roncesvalles                                           39  \n",
       "Parkwoods                                                       13  \n",
       "Queen's Park                                                    69  \n",
       "Rosedale                                                         4  \n",
       "Roselawn                                                         5  \n",
       "Rouge,Malvern                                                    3  \n",
       "Runnymede,Swansea                                               24  \n",
       "Ryerson,Garden District                                         14  \n",
       "Scarborough Village                                              8  \n",
       "Silver Hills,York Mills                                          3  \n",
       "St. James Town                                                  31  \n",
       "Stn A PO Boxes 25 The Esplanade                                100  \n",
       "Studio District                                                 97  \n",
       "The Annex,North Midtown,Yorkville                               44  \n",
       "The Beaches                                                     47  \n",
       "The Beaches West,India Bazaar                                   47  \n",
       "The Danforth West,Riverdale                                     27  \n",
       "The Junction North,Runnymede                                    58  \n",
       "The Kingsway,Montgomery Road,Old Mill North                     35  \n",
       "Thorncliffe Park                                                24  \n",
       "Upper Rouge                                                      3  \n",
       "Victoria Village                                                 4  \n",
       "Westmount                                                        2  \n",
       "Weston                                                          17  \n",
       "Willowdale South                                                59  \n",
       "Willowdale West                                                 59  \n",
       "Woburn                                                          21  \n",
       "Woodbine Gardens,Parkview Hill                                   6  \n",
       "Woodbine Heights                                                 8  \n",
       "York Mills West                                                 16  \n",
       "\n",
       "[103 rows x 6 columns]"
      ]
     },
     "execution_count": 40,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_venues.groupby('Neighborhood').count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There are 272 uniques categories.\n"
     ]
    }
   ],
   "source": [
    "print('There are {} uniques categories.'.format(len(Toronto_venues['Venue Category'].unique())))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Zoo</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Adult Boutique</th>\n",
       "      <th>Afghan Restaurant</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Amphitheater</th>\n",
       "      <th>Antique Shop</th>\n",
       "      <th>Aquarium</th>\n",
       "      <th>Argentinian Restaurant</th>\n",
       "      <th>Art Gallery</th>\n",
       "      <th>...</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Warehouse Store</th>\n",
       "      <th>Whisky Bar</th>\n",
       "      <th>Wine Bar</th>\n",
       "      <th>Wine Shop</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 272 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   Zoo  Accessories Store  Adult Boutique  Afghan Restaurant  \\\n",
       "0    0                  0               0                  0   \n",
       "1    0                  0               0                  0   \n",
       "2    0                  0               0                  0   \n",
       "3    0                  0               0                  0   \n",
       "4    0                  0               0                  0   \n",
       "\n",
       "   American Restaurant  Amphitheater  Antique Shop  Aquarium  \\\n",
       "0                    0             0             0         0   \n",
       "1                    0             0             0         0   \n",
       "2                    0             0             0         0   \n",
       "3                    0             0             0         0   \n",
       "4                    0             0             0         0   \n",
       "\n",
       "   Argentinian Restaurant  Art Gallery     ...       Video Game Store  \\\n",
       "0                       0            0     ...                      0   \n",
       "1                       0            0     ...                      0   \n",
       "2                       0            0     ...                      0   \n",
       "3                       0            0     ...                      0   \n",
       "4                       0            0     ...                      0   \n",
       "\n",
       "   Video Store  Vietnamese Restaurant  Warehouse Store  Whisky Bar  Wine Bar  \\\n",
       "0            0                      0                0           0         0   \n",
       "1            0                      0                0           0         0   \n",
       "2            0                      0                0           0         0   \n",
       "3            0                      0                0           0         0   \n",
       "4            0                      0                0           0         0   \n",
       "\n",
       "   Wine Shop  Wings Joint  Women's Store  Yoga Studio  \n",
       "0          0            0              0            0  \n",
       "1          0            0              0            0  \n",
       "2          0            0              0            0  \n",
       "3          0            0              0            0  \n",
       "4          0            0              0            0  \n",
       "\n",
       "[5 rows x 272 columns]"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Analise each neighborhood\n",
    "\n",
    "# one hot encoding\n",
    "Toronto_onehot = pd.get_dummies(Toronto_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n",
    "\n",
    "# add neighborhood column back to dataframe\n",
    "Toronto_onehot['Neighborhood'] = Toronto_venues['Neighborhood'] \n",
    "\n",
    "# move neighborhood column to the first column\n",
    "fixed_columns = [Toronto_onehot.columns[-1]] + list(Toronto_onehot.columns[:-1])\n",
    "Toronto_onehot = Toronto_onehot[fixed_columns]\n",
    "\n",
    "Toronto_onehot.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Zoo</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Adult Boutique</th>\n",
       "      <th>Afghan Restaurant</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Amphitheater</th>\n",
       "      <th>Antique Shop</th>\n",
       "      <th>Aquarium</th>\n",
       "      <th>Argentinian Restaurant</th>\n",
       "      <th>...</th>\n",
       "      <th>Video Game Store</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Warehouse Store</th>\n",
       "      <th>Whisky Bar</th>\n",
       "      <th>Wine Bar</th>\n",
       "      <th>Wine Shop</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Adelaide,King,Richmond</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.01</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.030000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Agincourt</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.076923</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Agincourt North,L'Amoreaux East,Milliken,Steel...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.032258</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Albion Gardens,Beaumond Heights,Humbergate,Jam...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.040000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Alderwood,Long Branch</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Bathurst Manor,Downsview North,Wilson Heights</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Bedford Park,Lawrence Manor East</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Berczy Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Birch Cliff,Cliffside West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Bloordale Gardens,Eringate,Markland Wood,Old B...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Brockton,Exhibition Place,Parkdale Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.150000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>CFB Toronto,Downsview East</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>CN Tower,Bathurst Quay,Island airport,Harbourf...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.011765</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047059</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.011765</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.011765</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Cabbagetown,St. James Town</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020408</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>Caledonia-Fairbanks</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Canada Post Gateway Processing Centre</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.250000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Central Bay Street</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.020833</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.020833</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020833</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.020833</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>Chinatown,Grange Park,Kensington Market</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.030000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>Christie</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>Church and Wellesley</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.010870</td>\n",
       "      <td>0.010870</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.010870</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010870</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010870</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>Clairlea,Golden Mile,Oakridge</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>Clarks Corners,Sullivan,Tam O'Shanter</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Cliffcrest,Cliffside,Scarborough Village West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>Cloverdale,Islington,Martin Grove,Princess Gar...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.037037</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>Commerce Court,Victoria Hotel</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.040000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.010000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>Davisville</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>Davisville North</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>Parkdale,Roncesvalles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.025641</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>Rosedale</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77</th>\n",
       "      <td>Roselawn</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>78</th>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79</th>\n",
       "      <td>Runnymede,Swansea</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.041667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.041667</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>80</th>\n",
       "      <td>Ryerson,Garden District</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.071429</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>Scarborough Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>Silver Hills,York Mills</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>83</th>\n",
       "      <td>St. James Town</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>84</th>\n",
       "      <td>Stn A PO Boxes 25 The Esplanade</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.030000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>Studio District</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.010309</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.041237</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.010309</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>The Annex,North Midtown,Yorkville</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.022727</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>87</th>\n",
       "      <td>The Beaches</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>88</th>\n",
       "      <td>The Beaches West,India Bazaar</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>The Danforth West,Riverdale</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>90</th>\n",
       "      <td>The Junction North,Runnymede</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.034483</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.017241</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.017241</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>91</th>\n",
       "      <td>The Kingsway,Montgomery Road,Old Mill North</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>92</th>\n",
       "      <td>Thorncliffe Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.083333</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.041667</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.041667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>93</th>\n",
       "      <td>Upper Rouge</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>94</th>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>Westmount</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>Weston</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.050847</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.033898</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.050847</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.033898</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>99</th>\n",
       "      <td>Woburn</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.047619</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>100</th>\n",
       "      <td>Woodbine Gardens,Parkview Hill</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>101</th>\n",
       "      <td>Woodbine Heights</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>102</th>\n",
       "      <td>York Mills West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>103 rows × 272 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                          Neighborhood  Zoo  \\\n",
       "0                               Adelaide,King,Richmond  0.0   \n",
       "1                                            Agincourt  0.0   \n",
       "2    Agincourt North,L'Amoreaux East,Milliken,Steel...  0.0   \n",
       "3    Albion Gardens,Beaumond Heights,Humbergate,Jam...  0.0   \n",
       "4                                Alderwood,Long Branch  0.0   \n",
       "5        Bathurst Manor,Downsview North,Wilson Heights  0.0   \n",
       "6                                      Bayview Village  0.0   \n",
       "7                     Bedford Park,Lawrence Manor East  0.0   \n",
       "8                                          Berczy Park  0.0   \n",
       "9                           Birch Cliff,Cliffside West  0.0   \n",
       "10   Bloordale Gardens,Eringate,Markland Wood,Old B...  0.0   \n",
       "11          Brockton,Exhibition Place,Parkdale Village  0.0   \n",
       "12   Business Reply Mail Processing Centre 969 Eastern  0.0   \n",
       "13                          CFB Toronto,Downsview East  0.0   \n",
       "14   CN Tower,Bathurst Quay,Island airport,Harbourf...  0.0   \n",
       "15                          Cabbagetown,St. James Town  0.0   \n",
       "16                                 Caledonia-Fairbanks  0.0   \n",
       "17               Canada Post Gateway Processing Centre  0.0   \n",
       "18                                           Cedarbrae  0.0   \n",
       "19                                  Central Bay Street  0.0   \n",
       "20             Chinatown,Grange Park,Kensington Market  0.0   \n",
       "21                                            Christie  0.0   \n",
       "22                                Church and Wellesley  0.0   \n",
       "23                       Clairlea,Golden Mile,Oakridge  0.0   \n",
       "24               Clarks Corners,Sullivan,Tam O'Shanter  0.0   \n",
       "25       Cliffcrest,Cliffside,Scarborough Village West  0.0   \n",
       "26   Cloverdale,Islington,Martin Grove,Princess Gar...  0.0   \n",
       "27                       Commerce Court,Victoria Hotel  0.0   \n",
       "28                                          Davisville  0.0   \n",
       "29                                    Davisville North  0.0   \n",
       "..                                                 ...  ...   \n",
       "73                               Parkdale,Roncesvalles  0.0   \n",
       "74                                           Parkwoods  0.0   \n",
       "75                                        Queen's Park  0.0   \n",
       "76                                            Rosedale  0.0   \n",
       "77                                            Roselawn  0.0   \n",
       "78                                       Rouge,Malvern  0.0   \n",
       "79                                   Runnymede,Swansea  0.0   \n",
       "80                             Ryerson,Garden District  0.0   \n",
       "81                                 Scarborough Village  0.0   \n",
       "82                             Silver Hills,York Mills  0.0   \n",
       "83                                      St. James Town  0.0   \n",
       "84                     Stn A PO Boxes 25 The Esplanade  0.0   \n",
       "85                                     Studio District  0.0   \n",
       "86                   The Annex,North Midtown,Yorkville  0.0   \n",
       "87                                         The Beaches  0.0   \n",
       "88                       The Beaches West,India Bazaar  0.0   \n",
       "89                         The Danforth West,Riverdale  0.0   \n",
       "90                        The Junction North,Runnymede  0.0   \n",
       "91         The Kingsway,Montgomery Road,Old Mill North  0.0   \n",
       "92                                    Thorncliffe Park  0.0   \n",
       "93                                         Upper Rouge  0.0   \n",
       "94                                    Victoria Village  0.0   \n",
       "95                                           Westmount  0.0   \n",
       "96                                              Weston  0.0   \n",
       "97                                    Willowdale South  0.0   \n",
       "98                                     Willowdale West  0.0   \n",
       "99                                              Woburn  0.0   \n",
       "100                     Woodbine Gardens,Parkview Hill  0.0   \n",
       "101                                   Woodbine Heights  0.0   \n",
       "102                                    York Mills West  0.0   \n",
       "\n",
       "     Accessories Store  Adult Boutique  Afghan Restaurant  \\\n",
       "0                 0.01        0.000000           0.000000   \n",
       "1                 0.00        0.000000           0.000000   \n",
       "2                 0.00        0.000000           0.000000   \n",
       "3                 0.00        0.000000           0.000000   \n",
       "4                 0.00        0.000000           0.000000   \n",
       "5                 0.00        0.000000           0.000000   \n",
       "6                 0.00        0.000000           0.000000   \n",
       "7                 0.00        0.000000           0.000000   \n",
       "8                 0.00        0.000000           0.000000   \n",
       "9                 0.00        0.000000           0.000000   \n",
       "10                0.00        0.000000           0.000000   \n",
       "11                0.00        0.000000           0.000000   \n",
       "12                0.00        0.000000           0.000000   \n",
       "13                0.00        0.000000           0.000000   \n",
       "14                0.00        0.000000           0.000000   \n",
       "15                0.00        0.000000           0.000000   \n",
       "16                0.00        0.000000           0.000000   \n",
       "17                0.00        0.000000           0.000000   \n",
       "18                0.00        0.000000           0.000000   \n",
       "19                0.00        0.020833           0.000000   \n",
       "20                0.00        0.000000           0.000000   \n",
       "21                0.00        0.000000           0.000000   \n",
       "22                0.00        0.010870           0.010870   \n",
       "23                0.00        0.000000           0.000000   \n",
       "24                0.00        0.000000           0.000000   \n",
       "25                0.00        0.000000           0.000000   \n",
       "26                0.00        0.000000           0.000000   \n",
       "27                0.00        0.000000           0.000000   \n",
       "28                0.00        0.000000           0.000000   \n",
       "29                0.00        0.000000           0.000000   \n",
       "..                 ...             ...                ...   \n",
       "73                0.00        0.000000           0.000000   \n",
       "74                0.00        0.000000           0.000000   \n",
       "75                0.00        0.000000           0.000000   \n",
       "76                0.00        0.000000           0.000000   \n",
       "77                0.00        0.000000           0.000000   \n",
       "78                0.00        0.000000           0.000000   \n",
       "79                0.00        0.000000           0.000000   \n",
       "80                0.00        0.000000           0.000000   \n",
       "81                0.00        0.000000           0.000000   \n",
       "82                0.00        0.000000           0.000000   \n",
       "83                0.00        0.000000           0.000000   \n",
       "84                0.00        0.000000           0.000000   \n",
       "85                0.00        0.000000           0.000000   \n",
       "86                0.00        0.000000           0.000000   \n",
       "87                0.00        0.000000           0.000000   \n",
       "88                0.00        0.000000           0.000000   \n",
       "89                0.00        0.000000           0.000000   \n",
       "90                0.00        0.000000           0.000000   \n",
       "91                0.00        0.000000           0.000000   \n",
       "92                0.00        0.000000           0.083333   \n",
       "93                0.00        0.000000           0.000000   \n",
       "94                0.00        0.000000           0.000000   \n",
       "95                0.00        0.000000           0.000000   \n",
       "96                0.00        0.000000           0.000000   \n",
       "97                0.00        0.000000           0.000000   \n",
       "98                0.00        0.000000           0.000000   \n",
       "99                0.00        0.000000           0.000000   \n",
       "100               0.00        0.000000           0.000000   \n",
       "101               0.00        0.000000           0.000000   \n",
       "102               0.00        0.000000           0.000000   \n",
       "\n",
       "     American Restaurant  Amphitheater  Antique Shop  Aquarium  \\\n",
       "0               0.030000           0.0      0.000000  0.000000   \n",
       "1               0.000000           0.0      0.000000  0.000000   \n",
       "2               0.000000           0.0      0.000000  0.000000   \n",
       "3               0.020000           0.0      0.000000  0.040000   \n",
       "4               0.000000           0.0      0.000000  0.000000   \n",
       "5               0.000000           0.0      0.000000  0.000000   \n",
       "6               0.000000           0.0      0.000000  0.000000   \n",
       "7               0.000000           0.0      0.000000  0.000000   \n",
       "8               0.000000           0.0      0.000000  0.000000   \n",
       "9               0.000000           0.0      0.000000  0.000000   \n",
       "10              0.000000           0.0      0.000000  0.000000   \n",
       "11              0.000000           0.0      0.000000  0.000000   \n",
       "12              0.000000           0.0      0.000000  0.000000   \n",
       "13              0.020000           0.0      0.000000  0.000000   \n",
       "14              0.011765           0.0      0.000000  0.047059   \n",
       "15              0.020408           0.0      0.000000  0.000000   \n",
       "16              0.000000           0.0      0.000000  0.000000   \n",
       "17              0.000000           0.0      0.000000  0.250000   \n",
       "18              0.000000           0.0      0.000000  0.000000   \n",
       "19              0.000000           0.0      0.000000  0.000000   \n",
       "20              0.000000           0.0      0.000000  0.000000   \n",
       "21              0.017241           0.0      0.000000  0.000000   \n",
       "22              0.000000           0.0      0.000000  0.000000   \n",
       "23              0.000000           0.0      0.000000  0.000000   \n",
       "24              0.000000           0.0      0.000000  0.000000   \n",
       "25              0.000000           0.0      0.000000  0.000000   \n",
       "26              0.000000           0.0      0.000000  0.000000   \n",
       "27              0.040000           0.0      0.000000  0.000000   \n",
       "28              0.000000           0.0      0.000000  0.000000   \n",
       "29              0.000000           0.0      0.000000  0.000000   \n",
       "..                   ...           ...           ...       ...   \n",
       "73              0.025641           0.0      0.000000  0.000000   \n",
       "74              0.000000           0.0      0.000000  0.000000   \n",
       "75              0.000000           0.0      0.000000  0.000000   \n",
       "76              0.000000           0.0      0.000000  0.000000   \n",
       "77              0.000000           0.0      0.000000  0.000000   \n",
       "78              0.000000           0.0      0.000000  0.000000   \n",
       "79              0.000000           0.0      0.000000  0.000000   \n",
       "80              0.000000           0.0      0.000000  0.000000   \n",
       "81              0.000000           0.0      0.000000  0.000000   \n",
       "82              0.000000           0.0      0.000000  0.000000   \n",
       "83              0.000000           0.0      0.000000  0.000000   \n",
       "84              0.030000           0.0      0.000000  0.000000   \n",
       "85              0.010309           0.0      0.000000  0.041237   \n",
       "86              0.000000           0.0      0.000000  0.000000   \n",
       "87              0.000000           0.0      0.000000  0.000000   \n",
       "88              0.000000           0.0      0.000000  0.000000   \n",
       "89              0.000000           0.0      0.000000  0.000000   \n",
       "90              0.000000           0.0      0.034483  0.000000   \n",
       "91              0.000000           0.0      0.000000  0.000000   \n",
       "92              0.000000           0.0      0.000000  0.000000   \n",
       "93              0.000000           0.0      0.000000  0.000000   \n",
       "94              0.000000           0.0      0.000000  0.000000   \n",
       "95              0.000000           0.0      0.000000  0.000000   \n",
       "96              0.000000           0.0      0.000000  0.000000   \n",
       "97              0.000000           0.0      0.000000  0.000000   \n",
       "98              0.000000           0.0      0.000000  0.000000   \n",
       "99              0.000000           0.0      0.000000  0.000000   \n",
       "100             0.000000           0.0      0.000000  0.000000   \n",
       "101             0.000000           0.0      0.000000  0.000000   \n",
       "102             0.000000           0.0      0.000000  0.000000   \n",
       "\n",
       "     Argentinian Restaurant     ...       Video Game Store  Video Store  \\\n",
       "0                       0.0     ...               0.000000     0.000000   \n",
       "1                       0.0     ...               0.000000     0.000000   \n",
       "2                       0.0     ...               0.032258     0.000000   \n",
       "3                       0.0     ...               0.000000     0.000000   \n",
       "4                       0.0     ...               0.000000     0.000000   \n",
       "5                       0.0     ...               0.000000     0.000000   \n",
       "6                       0.0     ...               0.000000     0.000000   \n",
       "7                       0.0     ...               0.000000     0.000000   \n",
       "8                       0.0     ...               0.000000     0.000000   \n",
       "9                       0.0     ...               0.000000     0.000000   \n",
       "10                      0.0     ...               0.000000     0.000000   \n",
       "11                      0.0     ...               0.000000     0.000000   \n",
       "12                      0.0     ...               0.000000     0.000000   \n",
       "13                      0.0     ...               0.000000     0.000000   \n",
       "14                      0.0     ...               0.000000     0.000000   \n",
       "15                      0.0     ...               0.000000     0.000000   \n",
       "16                      0.0     ...               0.000000     0.000000   \n",
       "17                      0.0     ...               0.000000     0.000000   \n",
       "18                      0.0     ...               0.047619     0.000000   \n",
       "19                      0.0     ...               0.000000     0.000000   \n",
       "20                      0.0     ...               0.010000     0.000000   \n",
       "21                      0.0     ...               0.000000     0.017241   \n",
       "22                      0.0     ...               0.010870     0.000000   \n",
       "23                      0.0     ...               0.000000     0.000000   \n",
       "24                      0.0     ...               0.000000     0.000000   \n",
       "25                      0.0     ...               0.000000     0.000000   \n",
       "26                      0.0     ...               0.000000     0.000000   \n",
       "27                      0.0     ...               0.000000     0.000000   \n",
       "28                      0.0     ...               0.000000     0.000000   \n",
       "29                      0.0     ...               0.000000     0.000000   \n",
       "..                      ...     ...                    ...          ...   \n",
       "73                      0.0     ...               0.000000     0.000000   \n",
       "74                      0.0     ...               0.000000     0.000000   \n",
       "75                      0.0     ...               0.000000     0.000000   \n",
       "76                      0.0     ...               0.000000     0.000000   \n",
       "77                      0.0     ...               0.000000     0.000000   \n",
       "78                      0.0     ...               0.000000     0.000000   \n",
       "79                      0.0     ...               0.041667     0.000000   \n",
       "80                      0.0     ...               0.000000     0.000000   \n",
       "81                      0.0     ...               0.000000     0.000000   \n",
       "82                      0.0     ...               0.000000     0.000000   \n",
       "83                      0.0     ...               0.000000     0.000000   \n",
       "84                      0.0     ...               0.000000     0.000000   \n",
       "85                      0.0     ...               0.000000     0.000000   \n",
       "86                      0.0     ...               0.000000     0.000000   \n",
       "87                      0.0     ...               0.000000     0.000000   \n",
       "88                      0.0     ...               0.000000     0.000000   \n",
       "89                      0.0     ...               0.000000     0.000000   \n",
       "90                      0.0     ...               0.000000     0.017241   \n",
       "91                      0.0     ...               0.000000     0.000000   \n",
       "92                      0.0     ...               0.000000     0.000000   \n",
       "93                      0.0     ...               0.000000     0.000000   \n",
       "94                      0.0     ...               0.000000     0.000000   \n",
       "95                      0.0     ...               0.000000     0.000000   \n",
       "96                      0.0     ...               0.000000     0.000000   \n",
       "97                      0.0     ...               0.000000     0.000000   \n",
       "98                      0.0     ...               0.000000     0.000000   \n",
       "99                      0.0     ...               0.000000     0.000000   \n",
       "100                     0.0     ...               0.000000     0.000000   \n",
       "101                     0.0     ...               0.000000     0.000000   \n",
       "102                     0.0     ...               0.000000     0.000000   \n",
       "\n",
       "     Vietnamese Restaurant  Warehouse Store  Whisky Bar  Wine Bar  Wine Shop  \\\n",
       "0                 0.000000         0.000000         0.0  0.010000   0.000000   \n",
       "1                 0.076923         0.000000         0.0  0.000000   0.000000   \n",
       "2                 0.032258         0.000000         0.0  0.000000   0.000000   \n",
       "3                 0.000000         0.000000         0.0  0.010000   0.000000   \n",
       "4                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "5                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "6                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "7                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "8                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "9                 0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "10                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "11                0.150000         0.000000         0.0  0.000000   0.000000   \n",
       "12                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "13                0.020000         0.000000         0.0  0.000000   0.000000   \n",
       "14                0.000000         0.000000         0.0  0.011765   0.000000   \n",
       "15                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "16                0.000000         0.000000         0.0  0.000000   0.166667   \n",
       "17                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "18                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "19                0.000000         0.000000         0.0  0.020833   0.000000   \n",
       "20                0.030000         0.000000         0.0  0.010000   0.000000   \n",
       "21                0.017241         0.000000         0.0  0.017241   0.000000   \n",
       "22                0.010870         0.000000         0.0  0.000000   0.000000   \n",
       "23                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "24                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "25                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "26                0.037037         0.000000         0.0  0.000000   0.000000   \n",
       "27                0.000000         0.000000         0.0  0.010000   0.000000   \n",
       "28                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "29                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "..                     ...              ...         ...       ...        ...   \n",
       "73                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "74                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "75                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "76                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "77                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "78                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "79                0.041667         0.000000         0.0  0.000000   0.000000   \n",
       "80                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "81                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "82                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "83                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "84                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "85                0.000000         0.000000         0.0  0.010309   0.000000   \n",
       "86                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "87                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "88                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "89                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "90                0.017241         0.000000         0.0  0.000000   0.000000   \n",
       "91                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "92                0.000000         0.041667         0.0  0.000000   0.000000   \n",
       "93                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "94                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "95                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "96                0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "97                0.050847         0.000000         0.0  0.000000   0.000000   \n",
       "98                0.050847         0.000000         0.0  0.000000   0.000000   \n",
       "99                0.047619         0.000000         0.0  0.000000   0.000000   \n",
       "100               0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "101               0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "102               0.000000         0.000000         0.0  0.000000   0.000000   \n",
       "\n",
       "     Wings Joint  Women's Store  Yoga Studio  \n",
       "0       0.000000       0.010000     0.000000  \n",
       "1       0.000000       0.000000     0.000000  \n",
       "2       0.032258       0.000000     0.000000  \n",
       "3       0.000000       0.000000     0.000000  \n",
       "4       0.000000       0.000000     0.000000  \n",
       "5       0.000000       0.000000     0.000000  \n",
       "6       0.000000       0.000000     0.000000  \n",
       "7       0.000000       0.000000     0.000000  \n",
       "8       0.000000       0.000000     0.000000  \n",
       "9       0.000000       0.000000     0.000000  \n",
       "10      0.000000       0.000000     0.000000  \n",
       "11      0.000000       0.000000     0.000000  \n",
       "12      0.000000       0.000000     0.000000  \n",
       "13      0.000000       0.000000     0.000000  \n",
       "14      0.000000       0.000000     0.011765  \n",
       "15      0.000000       0.000000     0.000000  \n",
       "16      0.000000       0.000000     0.000000  \n",
       "17      0.000000       0.000000     0.000000  \n",
       "18      0.000000       0.000000     0.000000  \n",
       "19      0.020833       0.000000     0.020833  \n",
       "20      0.000000       0.000000     0.000000  \n",
       "21      0.000000       0.000000     0.000000  \n",
       "22      0.010870       0.000000     0.010870  \n",
       "23      0.000000       0.000000     0.000000  \n",
       "24      0.000000       0.000000     0.000000  \n",
       "25      0.000000       0.000000     0.000000  \n",
       "26      0.000000       0.000000     0.000000  \n",
       "27      0.000000       0.000000     0.000000  \n",
       "28      0.000000       0.000000     0.000000  \n",
       "29      0.000000       0.000000     0.000000  \n",
       "..           ...            ...          ...  \n",
       "73      0.000000       0.000000     0.000000  \n",
       "74      0.000000       0.000000     0.000000  \n",
       "75      0.000000       0.000000     0.000000  \n",
       "76      0.000000       0.000000     0.000000  \n",
       "77      0.000000       0.000000     0.000000  \n",
       "78      0.000000       0.000000     0.000000  \n",
       "79      0.000000       0.000000     0.000000  \n",
       "80      0.000000       0.071429     0.000000  \n",
       "81      0.000000       0.000000     0.000000  \n",
       "82      0.000000       0.000000     0.000000  \n",
       "83      0.000000       0.000000     0.000000  \n",
       "84      0.000000       0.000000     0.000000  \n",
       "85      0.000000       0.000000     0.000000  \n",
       "86      0.022727       0.000000     0.000000  \n",
       "87      0.000000       0.000000     0.000000  \n",
       "88      0.000000       0.000000     0.000000  \n",
       "89      0.000000       0.000000     0.000000  \n",
       "90      0.000000       0.000000     0.017241  \n",
       "91      0.000000       0.000000     0.000000  \n",
       "92      0.000000       0.000000     0.041667  \n",
       "93      0.000000       0.000000     0.000000  \n",
       "94      0.000000       0.000000     0.000000  \n",
       "95      0.000000       0.000000     0.000000  \n",
       "96      0.000000       0.000000     0.000000  \n",
       "97      0.033898       0.000000     0.000000  \n",
       "98      0.033898       0.000000     0.000000  \n",
       "99      0.000000       0.000000     0.000000  \n",
       "100     0.000000       0.000000     0.000000  \n",
       "101     0.000000       0.000000     0.000000  \n",
       "102     0.000000       0.000000     0.000000  \n",
       "\n",
       "[103 rows x 272 columns]"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Group by neighborhood and see the frequency\n",
    "\n",
    "Toronto_grouped = Toronto_onehot.groupby('Neighborhood').mean().reset_index()\n",
    "Toronto_grouped"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "\n",
    "def return_most_common_venues(row, num_top_venues):\n",
    "    row_categories = row.iloc[1:]\n",
    "    row_categories_sorted = row_categories.sort_values(ascending=False)\n",
    "    \n",
    "    return row_categories_sorted.index.values[0:num_top_venues]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Adelaide,King,Richmond</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Salad Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>American Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Agincourt</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Cantonese Restaurant</td>\n",
       "      <td>Hong Kong Restaurant</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Train Station</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Agincourt North,L'Amoreaux East,Milliken,Steel...</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Taco Place</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Spa</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Albion Gardens,Beaumond Heights,Humbergate,Jam...</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Aquarium</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Scenic Lookout</td>\n",
       "      <td>Salad Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Alderwood,Long Branch</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                        Neighborhood 1st Most Common Venue  \\\n",
       "0                             Adelaide,King,Richmond           Coffee Shop   \n",
       "1                                          Agincourt    Chinese Restaurant   \n",
       "2  Agincourt North,L'Amoreaux East,Milliken,Steel...    Chinese Restaurant   \n",
       "3  Albion Gardens,Beaumond Heights,Humbergate,Jam...           Coffee Shop   \n",
       "4                              Alderwood,Long Branch           Pizza Place   \n",
       "\n",
       "  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n",
       "0                  Café                 Hotel            Restaurant   \n",
       "1      Asian Restaurant           Coffee Shop  Cantonese Restaurant   \n",
       "2        Ice Cream Shop                Bakery  Fast Food Restaurant   \n",
       "3                  Café                 Hotel         Deli / Bodega   \n",
       "4                  Pool           Coffee Shop              Pharmacy   \n",
       "\n",
       "  5th Most Common Venue 6th Most Common Venue  7th Most Common Venue  \\\n",
       "0             Gastropub         Deli / Bodega    Japanese Restaurant   \n",
       "1  Hong Kong Restaurant     Korean Restaurant  Vietnamese Restaurant   \n",
       "2            Beer Store   Sporting Goods Shop            Supermarket   \n",
       "3            Restaurant    Italian Restaurant               Aquarium   \n",
       "4                   Pub        Sandwich Place           Skating Rink   \n",
       "\n",
       "  8th Most Common Venue        9th Most Common Venue 10th Most Common Venue  \n",
       "0           Salad Place           Italian Restaurant    American Restaurant  \n",
       "1            Restaurant          Rental Car Location          Train Station  \n",
       "2            Taco Place               Clothing Store                    Spa  \n",
       "3                Bakery               Scenic Lookout            Salad Place  \n",
       "4                   Gym  Eastern European Restaurant      Electronics Store  "
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#10 most common venues per neghborhood\n",
    "\n",
    "num_top_venues = 10\n",
    "\n",
    "indicators = ['st', 'nd', 'rd']\n",
    "\n",
    "# create columns according to number of top venues\n",
    "columns = ['Neighborhood']\n",
    "for ind in np.arange(num_top_venues):\n",
    "    try:\n",
    "        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n",
    "    except:\n",
    "        columns.append('{}th Most Common Venue'.format(ind+1))\n",
    "\n",
    "# create a new dataframe\n",
    "neighborhoods_venues_sorted = pd.DataFrame(columns=columns)\n",
    "neighborhoods_venues_sorted['Neighborhood'] = Toronto_grouped['Neighborhood']\n",
    "\n",
    "for ind in np.arange(Toronto_grouped.shape[0]):\n",
    "    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(Toronto_grouped.iloc[ind, :], num_top_venues)\n",
    "\n",
    "neighborhoods_venues_sorted.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now clusters by K-Means"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([3, 3, 3, 3, 3, 0, 3, 3, 3, 2], dtype=int32)"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Cluster with k-means\n",
    "\n",
    "# set number of clusters\n",
    "kclusters = 5\n",
    "\n",
    "Toronto_grouped_clustering = Toronto_grouped.drop('Neighborhood', 1)\n",
    "\n",
    "# run k-means clustering\n",
    "kmeans = KMeans(n_clusters=kclusters, random_state=0).fit(Toronto_grouped_clustering)\n",
    "\n",
    "# check cluster labels generated for each row in the dataframe\n",
    "kmeans.labels_[0:10] "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postcode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighbourhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>43.761224</td>\n",
       "      <td>-79.323986</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Laundry Service</td>\n",
       "      <td>Café</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>43.732658</td>\n",
       "      <td>-79.311189</td>\n",
       "      <td>3</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront,Regent Park</td>\n",
       "      <td>43.640080</td>\n",
       "      <td>-79.380150</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Music Venue</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights,Lawrence Manor</td>\n",
       "      <td>43.722778</td>\n",
       "      <td>-79.450933</td>\n",
       "      <td>3</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Men's Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Toy / Game Store</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>43.659980</td>\n",
       "      <td>-79.390369</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postcode           Borough                    Neighbourhood   Latitude  \\\n",
       "0      M3A        North York                        Parkwoods  43.761224   \n",
       "1      M4A        North York                 Victoria Village  43.732658   \n",
       "2      M5A  Downtown Toronto         Harbourfront,Regent Park  43.640080   \n",
       "3      M6A        North York  Lawrence Heights,Lawrence Manor  43.722778   \n",
       "4      M7A      Queen's Park                     Queen's Park  43.659980   \n",
       "\n",
       "   Longitude  Cluster Labels      1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0 -79.323986               3                Pizza Place           Supermarket   \n",
       "1 -79.311189               3  Middle Eastern Restaurant       Thai Restaurant   \n",
       "2 -79.380150               3                Coffee Shop                  Café   \n",
       "3 -79.450933               3             Clothing Store           Coffee Shop   \n",
       "4 -79.390369               3                Coffee Shop                  Café   \n",
       "\n",
       "      3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0           Laundry Service                  Café         Shopping Mall   \n",
       "1  Mediterranean Restaurant              Bus Line     Fish & Chips Shop   \n",
       "2                     Hotel            Restaurant           Pizza Place   \n",
       "3       American Restaurant        Cosmetics Shop           Men's Store   \n",
       "4            Sandwich Place    Italian Restaurant                  Park   \n",
       "\n",
       "      6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0               Coffee Shop          Skating Rink        Discount Store   \n",
       "1                   Exhibit    Falafel Restaurant        Farmers Market   \n",
       "2        Italian Restaurant      Sushi Restaurant           Music Venue   \n",
       "3      Fast Food Restaurant   Sporting Goods Shop      Toy / Game Store   \n",
       "4  Mediterranean Restaurant       Bubble Tea Shop        Ice Cream Shop   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "0  Caribbean Restaurant     Chinese Restaurant  \n",
       "1  Fast Food Restaurant    Filipino Restaurant  \n",
       "2    Chinese Restaurant             Steakhouse  \n",
       "3         Women's Store               Pharmacy  \n",
       "4     Indian Restaurant             Restaurant  "
      ]
     },
     "execution_count": 58,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Data frame with venues\n",
    "# add clustering labels\n",
    "#neighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n",
    "\n",
    "Toronto_merged = neighborhoods\n",
    "\n",
    "# merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood\n",
    "Toronto_merged = Toronto_merged.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='Neighbourhood')\n",
    "\n",
    "Toronto_merged.head() # check the last columns!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTYzLC03OS4zODcyMDddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzk5MWYzMTQ0ZTY1ZDQ2NzFiNGUxYzA3ZjdhOTA2YzM0ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYWMxNDMxYjBmNGU0YTM0ODg2MWM1MjMyMzYxZmY3NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTIyMzksLTc5LjMyMzk4NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTI2MWU2NjM5OWYxNDMxYzkwYWUyZDVlYTc4NzAxMGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWJmMmUzYmNkZWRmNDk1MGEwY2ExYzY3ZDAzNDI4MjYgPSAkKCc8ZGl2IGlkPSJodG1sXzliZjJlM2JjZGVkZjQ5NTBhMGNhMWM2N2QwMzQyODI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrd29vZHMgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MjYxZTY2Mzk5ZjE0MzFjOTBhZTJkNWVhNzg3MDEwYS5zZXRDb250ZW50KGh0bWxfOWJmMmUzYmNkZWRmNDk1MGEwY2ExYzY3ZDAzNDI4MjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmFjMTQzMWIwZjRlNGEzNDg4NjFjNTIzMjM2MWZmNzQuYmluZFBvcHVwKHBvcHVwXzUyNjFlNjYzOTlmMTQzMWM5MGFlMmQ1ZWE3ODcwMTBhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VkMGVjMjY5OTQ2NTRmNjdhMTU2NjY1NDU4MDZjMDZhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzMyNjU4LC03OS4zMTExODkyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5M2VmMjhmY2ZiYzQ3ZTJiMWI1Yjg2ZDI1OTY0ZTJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FhOWZjYzc4YmQyNTQyZGZiNzA4YjhhMTRkODMyNjFhID0gJCgnPGRpdiBpZD0iaHRtbF9hYTlmY2M3OGJkMjU0MmRmYjcwOGI4YTE0ZDgzMjYxYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdG9yaWEgVmlsbGFnZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA5M2VmMjhmY2ZiYzQ3ZTJiMWI1Yjg2ZDI1OTY0ZTJlLnNldENvbnRlbnQoaHRtbF9hYTlmY2M3OGJkMjU0MmRmYjcwOGI4YTE0ZDgzMjYxYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZDBlYzI2OTk0NjU0ZjY3YTE1NjY2NTQ1ODA2YzA2YS5iaW5kUG9wdXAocG9wdXBfMDkzZWYyOGZjZmJjNDdlMmIxYjViODZkMjU5NjRlMmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTlhNTE4ZTNkMTkwNGMzZmJiMWE2NWUwMjZlNTk1MWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDAwODAxLC03OS4zODAxNDk1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRhZDJiNTU2NGQ0OTQ2NWJhMzY2MjJjNTUxZjliODA0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ4ODc2YWIwZGQwMjQxNDBhMmM2Y2MxZjA4YjNmOGI5ID0gJCgnPGRpdiBpZD0iaHRtbF80ODg3NmFiMGRkMDI0MTQwYTJjNmNjMWYwOGIzZjhiOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250LFJlZ2VudCBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGFkMmI1NTY0ZDQ5NDY1YmEzNjYyMmM1NTFmOWI4MDQuc2V0Q29udGVudChodG1sXzQ4ODc2YWIwZGQwMjQxNDBhMmM2Y2MxZjA4YjNmOGI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU5YTUxOGUzZDE5MDRjM2ZiYjFhNjVlMDI2ZTU5NTFjLmJpbmRQb3B1cChwb3B1cF80YWQyYjU1NjRkNDk0NjViYTM2NjIyYzU1MWY5YjgwNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZWYwN2VkMjg2NzY0ODk0YTJlODEyMTYyMjc0MTY0ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyMjc3ODQsLTc5LjQ1MDkzMzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzBhMzA0ZGVhMzk4NDlmYzg3MjIwYTZkOGE2YTlkMGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDRiYTI5M2U2NDVhNDdjOGJiMjkzYjI5MGY4MWI5NDAgPSAkKCc8ZGl2IGlkPSJodG1sXzA0YmEyOTNlNjQ1YTQ3YzhiYjI5M2IyOTBmODFiOTQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBIZWlnaHRzLExhd3JlbmNlIE1hbm9yIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzBhMzA0ZGVhMzk4NDlmYzg3MjIwYTZkOGE2YTlkMGUuc2V0Q29udGVudChodG1sXzA0YmEyOTNlNjQ1YTQ3YzhiYjI5M2IyOTBmODFiOTQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RlZjA3ZWQyODY3NjQ4OTRhMmU4MTIxNjIyNzQxNjRlLmJpbmRQb3B1cChwb3B1cF83MGEzMDRkZWEzOTg0OWZjODcyMjBhNmQ4YTZhOWQwZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MTk1ZTgwNThjMmQ0MmZkOTI5YWE3OTRjYmE3Nzc5OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1OTk4MDMsLTc5LjM5MDM2ODZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzFhYTBiZmJhMmQxNDllODgzNjc4ZDdkNzk0NDNjZWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTI1MzI5ZWU4OTkzNDQ5MGE2ZTVlYThhNzkwMmM2MjcgPSAkKCc8ZGl2IGlkPSJodG1sX2UyNTMyOWVlODk5MzQ0OTBhNmU1ZWE4YTc5MDJjNjI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5RdWVlbiYjMzk7cyBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzFhYTBiZmJhMmQxNDllODgzNjc4ZDdkNzk0NDNjZWUuc2V0Q29udGVudChodG1sX2UyNTMyOWVlODk5MzQ0OTBhNmU1ZWE4YTc5MDJjNjI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgxOTVlODA1OGMyZDQyZmQ5MjlhYTc5NGNiYTc3Nzk5LmJpbmRQb3B1cChwb3B1cF83MWFhMGJmYmEyZDE0OWU4ODM2NzhkN2Q3OTQ0M2NlZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZGZhZmRhMjZkY2I0OTIxODlhYzUwZWVlNWYwOTg4MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwMzkwOTIsLTc5LjU0OTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FiNGNiNGQ3N2Q5YTQ4NjU5YjcwNDMzMzVjOGEwMzc4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1ZGM0MWQ4NTcyNjRhYWViNmM0NDIyOWUwMWRiYjg0ID0gJCgnPGRpdiBpZD0iaHRtbF9iNWRjNDFkODU3MjY0YWFlYjZjNDQyMjllMDFkYmI4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SXNsaW5ndG9uIEF2ZW51ZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FiNGNiNGQ3N2Q5YTQ4NjU5YjcwNDMzMzVjOGEwMzc4LnNldENvbnRlbnQoaHRtbF9iNWRjNDFkODU3MjY0YWFlYjZjNDQyMjllMDFkYmI4NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZGZhZmRhMjZkY2I0OTIxODlhYzUwZWVlNWYwOTg4Mi5iaW5kUG9wdXAocG9wdXBfYWI0Y2I0ZDc3ZDlhNDg2NTliNzA0MzMzNWM4YTAzNzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTRjNmQyNTY1ZjNkNGY4NDg3MGZkMjYwODQ0NTBjNDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDQ5MzA0LC03OS4xNjU4Mzc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYwYTVmOTQ0MjFmZTRjYzdiNmZkZDY0MTI3M2YxMTM2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZmNmZiNmM0MGYzMzRkYWNiYzEyMTY2ZmJmYzQxNDY2ID0gJCgnPGRpdiBpZD0iaHRtbF82ZjZmYjZjNDBmMzM0ZGFjYmMxMjE2NmZiZmM0MTQ2NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um91Z2UsTWFsdmVybiBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwYTVmOTQ0MjFmZTRjYzdiNmZkZDY0MTI3M2YxMTM2LnNldENvbnRlbnQoaHRtbF82ZjZmYjZjNDBmMzM0ZGFjYmMxMjE2NmZiZmM0MTQ2Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNGM2ZDI1NjVmM2Q0Zjg0ODcwZmQyNjA4NDQ1MGM0Ni5iaW5kUG9wdXAocG9wdXBfNjBhNWY5NDQyMWZlNGNjN2I2ZmRkNjQxMjczZjExMzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGY1NjE2YTE1ZTBhNDFiYTg2YmY4OTA2YWMwYWU3MDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzcxNzgsLTc5LjM0MzQ1MTRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzNjN2NjNDAxMGRjNDMwMjg5NzBlYTNkZThjZDA1ZTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDI5YWUzODM2NDc2NDdjNGE5NjBmODlkZjI0NDVmMjIgPSAkKCc8ZGl2IGlkPSJodG1sX2QyOWFlMzgzNjQ3NjQ3YzRhOTYwZjg5ZGYyNDQ1ZjIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb24gTWlsbHMgTm9ydGggQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jM2M3Y2M0MDEwZGM0MzAyODk3MGVhM2RlOGNkMDVlMC5zZXRDb250ZW50KGh0bWxfZDI5YWUzODM2NDc2NDdjNGE5NjBmODlkZjI0NDVmMjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGY1NjE2YTE1ZTBhNDFiYTg2YmY4OTA2YWMwYWU3MDcuYmluZFBvcHVwKHBvcHVwX2MzYzdjYzQwMTBkYzQzMDI4OTcwZWEzZGU4Y2QwNWUwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFlYTllMWI3NDEzZTQxOWZhNWNhMWQ4MTFhNDJiNzljID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEyMDc4NSwtNzkuMzAyNTY3M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZGU4MDVlOGZkM2Y0NTk0YmI2ZmQwMmIzNjA0M2I0ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xOGEzOWVlODNhNDE0M2E3YTliZWRkYzIzMGY3MTJiNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMThhMzllZTgzYTQxNDNhN2E5YmVkZGMyMzBmNzEyYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEdhcmRlbnMsUGFya3ZpZXcgSGlsbCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJkZTgwNWU4ZmQzZjQ1OTRiYjZmZDAyYjM2MDQzYjRlLnNldENvbnRlbnQoaHRtbF8xOGEzOWVlODNhNDE0M2E3YTliZWRkYzIzMGY3MTJiNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZWE5ZTFiNzQxM2U0MTlmYTVjYTFkODExYTQyYjc5Yy5iaW5kUG9wdXAocG9wdXBfMmRlODA1ZThmZDNmNDU5NGJiNmZkMDJiMzYwNDNiNGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTRhODYxOTljMmRiNDE5NGI1NjczNDc1OGUxZjg3MGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MjE1NzMzNSwtNzkuNTU5MTMwMDY3MjgyMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YjY5MWQ4MjkwNWU0NDc4YWQwMzM0NmUyMTA4YjAyZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83Y2U3MWI2Y2UyNDI0NDIyYTI2ZGQ0ZjYyMzc3MmZlMSA9ICQoJzxkaXYgaWQ9Imh0bWxfN2NlNzFiNmNlMjQyNDQyMmEyNmRkNGY2MjM3NzJmZTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ5ZXJzb24sR2FyZGVuIERpc3RyaWN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmI2OTFkODI5MDVlNDQ3OGFkMDMzNDZlMjEwOGIwMmYuc2V0Q29udGVudChodG1sXzdjZTcxYjZjZTI0MjQ0MjJhMjZkZDRmNjIzNzcyZmUxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzk0YTg2MTk5YzJkYjQxOTRiNTY3MzQ3NThlMWY4NzBlLmJpbmRQb3B1cChwb3B1cF82YjY5MWQ4MjkwNWU0NDc4YWQwMzM0NmUyMTA4YjAyZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82YTdiMDhlZjI1ZmI0OTE2OTA2OTg2NzI5NzQ5ODU2MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwODcxMTcsLTc5LjQ0MDY4NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWYwNzkzYjRkMDA5NDg1N2EzOWJkZDc4NThhYTM1M2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjU0NTdlZjY1YzA5NGRhMjg3MTAzMzI1MDE5NTYxM2EgPSAkKCc8ZGl2IGlkPSJodG1sX2I1NDU3ZWY2NWMwOTRkYTI4NzEwMzMyNTAxOTU2MTNhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm4gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZjA3OTNiNGQwMDk0ODU3YTM5YmRkNzg1OGFhMzUzYi5zZXRDb250ZW50KGh0bWxfYjU0NTdlZjY1YzA5NGRhMjg3MTAzMzI1MDE5NTYxM2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmE3YjA4ZWYyNWZiNDkxNjkwNjk4NjcyOTc0OTg1NjAuYmluZFBvcHVwKHBvcHVwXzFmMDc5M2I0ZDAwOTQ4NTdhMzliZGQ3ODU4YWEzNTNiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM5YjBjYTRjYmRjMDRmODc4OWY5NjRjNDBhNmJmMzY1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjMzNjM3LC03OS41NDk3NDQ3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBmN2E4MDMzNjlkNDQxYTQ5NDg4NWZmY2EzNTJiODE4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhmYzBiMDAwZjZlZDQ5NzFiNjkzMDczMGJkMzViMjE1ID0gJCgnPGRpdiBpZD0iaHRtbF84ZmMwYjAwMGY2ZWQ0OTcxYjY5MzA3MzBiZDM1YjIxNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xvdmVyZGFsZSxJc2xpbmd0b24sTWFydGluIEdyb3ZlLFByaW5jZXNzIEdhcmRlbnMsV2VzdCBEZWFuZSBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGY3YTgwMzM2OWQ0NDFhNDk0ODg1ZmZjYTM1MmI4MTguc2V0Q29udGVudChodG1sXzhmYzBiMDAwZjZlZDQ5NzFiNjkzMDczMGJkMzViMjE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM5YjBjYTRjYmRjMDRmODc4OWY5NjRjNDBhNmJmMzY1LmJpbmRQb3B1cChwb3B1cF8wZjdhODAzMzY5ZDQ0MWE0OTQ4ODVmZmNhMzUyYjgxOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNjU0MGIwNGE3ZDU0YjViYWNlZTRmODE2NzE5NTIzZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5MDExNzIsLTc5LjE3MzMzNDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjI2ZTY1OGYxNjIzNGI1ZTlkMDUyYmZmZTMwNGY0YTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODdiOThmZmZlNzNjNDdjZThhZmNkYzMxMGViNGYxM2EgPSAkKCc8ZGl2IGlkPSJodG1sXzg3Yjk4ZmZmZTczYzQ3Y2U4YWZjZGMzMTBlYjRmMTNhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWdobGFuZCBDcmVlayxSb3VnZSBIaWxsLFBvcnQgVW5pb24gQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MjZlNjU4ZjE2MjM0YjVlOWQwNTJiZmZlMzA0ZjRhOC5zZXRDb250ZW50KGh0bWxfODdiOThmZmZlNzNjNDdjZThhZmNkYzMxMGViNGYxM2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTY1NDBiMDRhN2Q1NGI1YmFjZWU0ZjgxNjcxOTUyM2YuYmluZFBvcHVwKHBvcHVwXzYyNmU2NThmMTYyMzRiNWU5ZDA1MmJmZmUzMDRmNGE4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYyZjQ1NzdkYzQ2MTRkMmRiYmUyN2M2OThmODYxM2EwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE4NDMxNSwtNzkuMzMzMjA0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk2MmFkZDg4MmRlMzQ5M2M5NmI1YWUxODRlNWJhMzNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZhMzM4MGRhMTVkMzQzNjU4MWI1MWI4ZGI3MWFlNzcxID0gJCgnPGRpdiBpZD0iaHRtbF82YTMzODBkYTE1ZDM0MzY1ODFiNTFiOGRiNzFhZTc3MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmxlbWluZ2RvbiBQYXJrLERvbiBNaWxscyBTb3V0aCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk2MmFkZDg4MmRlMzQ5M2M5NmI1YWUxODRlNWJhMzNmLnNldENvbnRlbnQoaHRtbF82YTMzODBkYTE1ZDM0MzY1ODFiNTFiOGRiNzFhZTc3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MmY0NTc3ZGM0NjE0ZDJkYmJlMjdjNjk4Zjg2MTNhMC5iaW5kUG9wdXAocG9wdXBfOTYyYWRkODgyZGUzNDkzYzk2YjVhZTE4NGU1YmEzM2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjVhMDFmOTFmOTZiNGEwZGI2YjZhMzRkNjY5M2U5YjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTk5MzAyLC03OS4zMTkxMzE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcwMDdlYjczZDQzMDQ5NjBhYmVlM2M3OGY5ODIzMTk3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA3MTk2NjYxMTZhYTQ1M2U4YTA5NjA5NmY5NTEzNDNmID0gJCgnPGRpdiBpZD0iaHRtbF8wNzE5NjY2MTE2YWE0NTNlOGEwOTYwOTZmOTUxMzQzZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V29vZGJpbmUgSGVpZ2h0cyBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcwMDdlYjczZDQzMDQ5NjBhYmVlM2M3OGY5ODIzMTk3LnNldENvbnRlbnQoaHRtbF8wNzE5NjY2MTE2YWE0NTNlOGEwOTYwOTZmOTUxMzQzZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNWEwMWY5MWY5NmI0YTBkYjZiNmEzNGQ2NjkzZTliMy5iaW5kUG9wdXAocG9wdXBfNzAwN2ViNzNkNDMwNDk2MGFiZWUzYzc4Zjk4MjMxOTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmM1NmMwMmQyODc1NDlkZThmNGFlYTAzNzc0ZDUwZjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njk0MDMyLC03OS4zNzI3MDQxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg1OGY2MDVmMmZkYTRhNmY5NTBiYjBhODg1YmVkYzllID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YxYmQ3OWNjNTNiOTRhNzRhN2I1ODk1MDM5ODg4ZDA3ID0gJCgnPGRpdiBpZD0iaHRtbF9mMWJkNzljYzUzYjk0YTc0YTdiNTg5NTAzOTg4OGQwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NThmNjA1ZjJmZGE0YTZmOTUwYmIwYTg4NWJlZGM5ZS5zZXRDb250ZW50KGh0bWxfZjFiZDc5Y2M1M2I5NGE3NGE3YjU4OTUwMzk4ODhkMDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmM1NmMwMmQyODc1NDlkZThmNGFlYTAzNzc0ZDUwZjIuYmluZFBvcHVwKHBvcHVwXzg1OGY2MDVmMmZkYTRhNmY5NTBiYjBhODg1YmVkYzllKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllZjk2NzliOGRmZjQ5M2Q5MThmNmU5NTkxNTlmMTgxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5NjE5MSwtNzkuNDc5MTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJhY2VlZjQwOTRlYzQ2YTFiNzkyZGJkYzYzOTRhMjAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EyMjQwZmFiOGM2ZDQ0YTRhNWZhMDdjOWFiZjk1MTYzID0gJCgnPGRpdiBpZD0iaHRtbF9hMjI0MGZhYjhjNmQ0NGE0YTVmYTA3YzlhYmY5NTE2MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtZXdvb2QtQ2VkYXJ2YWxlIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmFjZWVmNDA5NGVjNDZhMWI3OTJkYmRjNjM5NGEyMDAuc2V0Q29udGVudChodG1sX2EyMjQwZmFiOGM2ZDQ0YTRhNWZhMDdjOWFiZjk1MTYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzllZjk2NzliOGRmZjQ5M2Q5MThmNmU5NTkxNTlmMTgxLmJpbmRQb3B1cChwb3B1cF8yYWNlZWY0MDk0ZWM0NmExYjc5MmRiZGM2Mzk0YTIwMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mYzJhY2UyNGYwYWY0MTM0YmMyNzQ5YmE0YzFiMzAyMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNTMxNjksLTc5LjU2MzY3NDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODNhOTY0OWE0ZjE2NDliMTg4OWRkZGZjODg5MTdjOTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTQ0YTdlZTQ1OGJhNDNhYmFiNGE1MzFjYzBjYTE5MGIgPSAkKCc8ZGl2IGlkPSJodG1sXzE0NGE3ZWU0NThiYTQzYWJhYjRhNTMxY2MwY2ExOTBiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CbG9vcmRhbGUgR2FyZGVucyxFcmluZ2F0ZSxNYXJrbGFuZCBXb29kLE9sZCBCdXJuaGFtdGhvcnBlIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODNhOTY0OWE0ZjE2NDliMTg4OWRkZGZjODg5MTdjOTIuc2V0Q29udGVudChodG1sXzE0NGE3ZWU0NThiYTQzYWJhYjRhNTMxY2MwY2ExOTBiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZjMmFjZTI0ZjBhZjQxMzRiYzI3NDliYTRjMWIzMDIwLmJpbmRQb3B1cChwb3B1cF84M2E5NjQ5YTRmMTY0OWIxODg5ZGRkZmM4ODkxN2M5Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NGUyYmUyYjhkYzI0N2MwYmFkMGY1ZWQ2MDA3NDRjOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDg5ODUsLTc5LjE5Nzc3NTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODY1OTNlMGE2YmU4NDE4MThiM2M3ZGE1ZWM4NjA0MGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODNmN2FjZDVlYmQyNDdjM2E1ZDM5OTJlNjUwZWI5NTUgPSAkKCc8ZGl2IGlkPSJodG1sXzgzZjdhY2Q1ZWJkMjQ3YzNhNWQzOTkyZTY1MGViOTU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HdWlsZHdvb2QsTW9ybmluZ3NpZGUsV2VzdCBIaWxsIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODY1OTNlMGE2YmU4NDE4MThiM2M3ZGE1ZWM4NjA0MGIuc2V0Q29udGVudChodG1sXzgzZjdhY2Q1ZWJkMjQ3YzNhNWQzOTkyZTY1MGViOTU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg0ZTJiZTJiOGRjMjQ3YzBiYWQwZjVlZDYwMDc0NGM5LmJpbmRQb3B1cChwb3B1cF84NjU5M2UwYTZiZTg0MTgxOGIzYzdkYTVlYzg2MDQwYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMGMxZjMzOWIzMzI0NzJlOTkzMGZhOTA3NWE5N2YwYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MTAyNDQsLTc5LjI5NjcxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OWI4NjgzNzdjNTU0ZjEyOGE5ZWI0NmY0MTliNmExNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NWEwNTEyZjJjOTA0MmUxYTJmMGM5YjkzMTM0NzA2YyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjVhMDUxMmYyYzkwNDJlMWEyZjBjOWI5MzEzNDcwNmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTliODY4Mzc3YzU1NGYxMjhhOWViNDZmNDE5YjZhMTQuc2V0Q29udGVudChodG1sXzY1YTA1MTJmMmM5MDQyZTFhMmYwYzliOTMxMzQ3MDZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MwYzFmMzM5YjMzMjQ3MmU5OTMwZmE5MDc1YTk3ZjBjLmJpbmRQb3B1cChwb3B1cF85OWI4NjgzNzdjNTU0ZjEyOGE5ZWI0NmY0MTliNmExNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZmQwZDNlOGJlZWU0MTg3Yjk0ZWNiYjFlZTM4YTE3OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0Nzk4ODcsLTc5LjM3NTM5MjcyNjAxNzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWJiNWE1MzM2ZTE4NGI3NGFmNDAwOGQ0ZjExYjczNTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTBiNDM3YjVhYzM5NGM4ZGE1Mjg4YTRhYmU1ZmYyMTQgPSAkKCc8ZGl2IGlkPSJodG1sX2EwYjQzN2I1YWMzOTRjOGRhNTI4OGE0YWJlNWZmMjE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZXJjenkgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFiYjVhNTMzNmUxODRiNzRhZjQwMDhkNGYxMWI3MzU3LnNldENvbnRlbnQoaHRtbF9hMGI0MzdiNWFjMzk0YzhkYTUyODhhNGFiZTVmZjIxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZmQwZDNlOGJlZWU0MTg3Yjk0ZWNiYjFlZTM4YTE3OC5iaW5kUG9wdXAocG9wdXBfMWJiNWE1MzM2ZTE4NGI3NGFmNDAwOGQ0ZjExYjczNTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDI4ZWM1YTQ3NGVmNDIyYmJhMzlkNDEyMmNkZmU2OTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk2MTkxLC03OS40NzkxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODczNTk3ZTk3NTgxNDQ4NTlhMWEzNzMyZWExNTIwMmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWM2MDg0NmVjMGU0NGZjOTlkMWMxMjFhZTNjODhlOTggPSAkKCc8ZGl2IGlkPSJodG1sXzljNjA4NDZlYzBlNDRmYzk5ZDFjMTIxYWUzYzg4ZTk4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWxlZG9uaWEtRmFpcmJhbmtzIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODczNTk3ZTk3NTgxNDQ4NTlhMWEzNzMyZWExNTIwMmMuc2V0Q29udGVudChodG1sXzljNjA4NDZlYzBlNDRmYzk5ZDFjMTIxYWUzYzg4ZTk4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAyOGVjNWE0NzRlZjQyMmJiYTM5ZDQxMjJjZGZlNjk0LmJpbmRQb3B1cChwb3B1cF84NzM1OTdlOTc1ODE0NDg1OWExYTM3MzJlYTE1MjAyYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMzVjZTFjMGUyNTY0OGFmOWE0Nzc2ZjM5MWY4ODgxNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1OTgyNDMsLTc5LjIyNTI5MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODZmNTA1MDdjNTY1NGViMDg2MTMzMzhiYjg2NmVkMWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGZjZTBmMjFiYzBiNDk5MDg1NjdkMmMyYzU1M2M5YTkgPSAkKCc8ZGl2IGlkPSJodG1sX2RmY2UwZjIxYmMwYjQ5OTA4NTY3ZDJjMmM1NTNjOWE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb2J1cm4gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NmY1MDUwN2M1NjU0ZWIwODYxMzMzOGJiODY2ZWQxZi5zZXRDb250ZW50KGh0bWxfZGZjZTBmMjFiYzBiNDk5MDg1NjdkMmMyYzU1M2M5YTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDM1Y2UxYzBlMjU2NDhhZjlhNDc3NmYzOTFmODg4MTcuYmluZFBvcHVwKHBvcHVwXzg2ZjUwNTA3YzU2NTRlYjA4NjEzMzM4YmI4NjZlZDFmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg4OWI2ODE5MzE4ZTQxOWM4ZDc1ZjI0ODQ2N2IwZWQyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0Nzk4MywtNzkuMzY4MDkwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MzI1NDcwZTM0Yzc0NTFmYWI1MjM4MGY0Mjg1YTgxMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZmU1M2FhYmExZmU0MjY4YmM4MDQ1ZGYyMjA5YTM5OSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWZlNTNhYWJhMWZlNDI2OGJjODA0NWRmMjIwOWEzOTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxlYXNpZGUgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MzI1NDcwZTM0Yzc0NTFmYWI1MjM4MGY0Mjg1YTgxMC5zZXRDb250ZW50KGh0bWxfYWZlNTNhYWJhMWZlNDI2OGJjODA0NWRmMjIwOWEzOTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODg5YjY4MTkzMThlNDE5YzhkNzVmMjQ4NDY3YjBlZDIuYmluZFBvcHVwKHBvcHVwXzUzMjU0NzBlMzRjNzQ1MWZhYjUyMzgwZjQyODVhODEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZmMmFhODE2NGRhYjRjYmZhZmYzYzRlNjQ4MjA0YzA1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYxOTM2OSwtNzkuMzg2MTI4NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iN2Q5NTE4YWIzYjA0MWRkYjBmNjU2MzFiYmY4OGQ1NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMjQ5MzEwN2M5Mzc0ZWIwODMxYWFjZjdlYzI0MDhiZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZTI0OTMxMDdjOTM3NGViMDgzMWFhY2Y3ZWMyNDA4YmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3ZDk1MThhYjNiMDQxZGRiMGY2NTYzMWJiZjg4ZDU1LnNldENvbnRlbnQoaHRtbF9lMjQ5MzEwN2M5Mzc0ZWIwODMxYWFjZjdlYzI0MDhiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZjJhYTgxNjRkYWI0Y2JmYWZmM2M0ZTY0ODIwNGMwNS5iaW5kUG9wdXAocG9wdXBfYjdkOTUxOGFiM2IwNDFkZGIwZjY1NjMxYmJmODhkNTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzRiNjNhMjAxYjk1NGQ5NGJkMzEzZTUzMDlmYjczMWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjQxMTA2LC03OS40MTg0MDUxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiYzc2YTdjZTk4NTRhOThhNzA2YjE1ODM5YTAxOTUzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY1Y2U2MjdhMWE5NTRlNDhhY2E1MzUxNjY2NmM2YjBlID0gJCgnPGRpdiBpZD0iaHRtbF82NWNlNjI3YTFhOTU0ZTQ4YWNhNTM1MTY2NjZjNmIwZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hyaXN0aWUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wYmM3NmE3Y2U5ODU0YTk4YTcwNmIxNTgzOWEwMTk1My5zZXRDb250ZW50KGh0bWxfNjVjZTYyN2ExYTk1NGU0OGFjYTUzNTE2NjY2YzZiMGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzRiNjNhMjAxYjk1NGQ5NGJkMzEzZTUzMDlmYjczMWEuYmluZFBvcHVwKHBvcHVwXzBiYzc2YTdjZTk4NTRhOThhNzA2YjE1ODM5YTAxOTUzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MxMWI3YTkzMWQwOTQ4ZDViMDIzYTA2MWY5NTM0MTVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU2NDY2NTUsLTc5LjIyNjY5MjQ0MjU4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZGJlOWYwMjdiNGU0ODY3YjdjMzAzYjc1YmFiMjdjYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYjg5N2MxNzkyZjQ0NjNjYTQ5MjIzMmNiMWYxZWYwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGI4OTdjMTc5MmY0NDYzY2E0OTIyMzJjYjFmMWVmMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VkYmU5ZjAyN2I0ZTQ4NjdiN2MzMDNiNzViYWIyN2NjLnNldENvbnRlbnQoaHRtbF8wYjg5N2MxNzkyZjQ0NjNjYTQ5MjIzMmNiMWYxZWYwOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jMTFiN2E5MzFkMDk0OGQ1YjAyM2EwNjFmOTUzNDE1ZS5iaW5kUG9wdXAocG9wdXBfZWRiZTlmMDI3YjRlNDg2N2I3YzMwM2I3NWJhYjI3Y2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWZkYzEyYTYwYmRhNDJkNTgxNDkzOWY4ZjI3OTRiOTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTk2NjM3LC03OS4zNjUwMTg5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzczMTViN2ZmMzA3YTRjMzM4OTkyY2ZhOGE5N2UyYzk4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVhZWI0OTlhYzJkYTRiZmJiNjAyNWE1OWJhNjI5ZDI3ID0gJCgnPGRpdiBpZD0iaHRtbF81YWViNDk5YWMyZGE0YmZiYjYwMjVhNTliYTYyOWQyNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlsbGNyZXN0IFZpbGxhZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MzE1YjdmZjMwN2E0YzMzODk5MmNmYThhOTdlMmM5OC5zZXRDb250ZW50KGh0bWxfNWFlYjQ5OWFjMmRhNGJmYmI2MDI1YTU5YmE2MjlkMjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWZkYzEyYTYwYmRhNDJkNTgxNDkzOWY4ZjI3OTRiOTcuYmluZFBvcHVwKHBvcHVwXzczMTViN2ZmMzA3YTRjMzM4OTkyY2ZhOGE5N2UyYzk4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MxYzdiNGNiMWJjMzQ0OGM5ZWNiM2Y0NWVjN2EyNzI4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzODkyOTUsLTc5LjQ1NjM2NjkzNzEwOTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjU3YThhMGI4MTZlNDE1OGE3NTQ5ZjZjNGZjZWUzZmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmE4MGM5ZjU1YTE5NDQyZWE3MDg5M2ZmZmY1NmVmYTggPSAkKCc8ZGl2IGlkPSJodG1sXzZhODBjOWY1NWExOTQ0MmVhNzA4OTNmZmZmNTZlZmE4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXRodXJzdCBNYW5vcixEb3duc3ZpZXcgTm9ydGgsV2lsc29uIEhlaWdodHMgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNTdhOGEwYjgxNmU0MTU4YTc1NDlmNmM0ZmNlZTNmYi5zZXRDb250ZW50KGh0bWxfNmE4MGM5ZjU1YTE5NDQyZWE3MDg5M2ZmZmY1NmVmYTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzFjN2I0Y2IxYmMzNDQ4YzllY2IzZjQ1ZWM3YTI3MjguYmluZFBvcHVwKHBvcHVwXzI1N2E4YTBiODE2ZTQxNThhNzU0OWY2YzRmY2VlM2ZiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyODliZjc3MzI4NjRhYTlhNWE0ZDMxMmM4YTk5NTFmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0NTUzLC03OS4zNDU0MDc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmMWQwZDJhMTFmNjQ1Zjk4OGIyZTYwNzVlNDgwNDJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgwNDZiZTFkYjUwYTQ2M2E4NmNiNDAxYzE1ZWZhNjhjID0gJCgnPGRpdiBpZD0iaHRtbF84MDQ2YmUxZGI1MGE0NjNhODZjYjQwMWMxNWVmYTY4YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhvcm5jbGlmZmUgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmMWQwZDJhMTFmNjQ1Zjk4OGIyZTYwNzVlNDgwNDJjLnNldENvbnRlbnQoaHRtbF84MDQ2YmUxZGI1MGE0NjNhODZjYjQwMWMxNWVmYTY4Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMjg5YmY3NzMyODY0YWE5YTVhNGQzMTJjOGE5OTUxZi5iaW5kUG9wdXAocG9wdXBfZmYxZDBkMmExMWY2NDVmOTg4YjJlNjA3NWU0ODA0MmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGVmZWNmNjJlOWQxNDg4NGJmZDJkY2EyOGY0YWIyNTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTAyOTgwNSwtNzkuMzgwNDc3MjQ3NzkwOV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZmUxYWRmZjQ3MTg0YzNhYTZmNGZhNWZiZTRlY2U1NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMDBmYTk3YWIxMjk0ZmNmYTk2MjM3ZWFlYTQwMmRjNCA9ICQoJzxkaXYgaWQ9Imh0bWxfMDAwZmE5N2FiMTI5NGZjZmE5NjIzN2VhZWE0MDJkYzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFkZWxhaWRlLEtpbmcsUmljaG1vbmQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZmUxYWRmZjQ3MTg0YzNhYTZmNGZhNWZiZTRlY2U1Ni5zZXRDb250ZW50KGh0bWxfMDAwZmE5N2FiMTI5NGZjZmE5NjIzN2VhZWE0MDJkYzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGVmZWNmNjJlOWQxNDg4NGJmZDJkY2EyOGY0YWIyNTguYmluZFBvcHVwKHBvcHVwXzZmZTFhZGZmNDcxODRjM2FhNmY0ZmE1ZmJlNGVjZTU2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlmMmU3NmI1NjU2OTQ3MTY5MjkzODdhNjEwZGMzYTZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1MzA2OSwtNzkuNDMyNjM2Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MzYzZDkzZGI5NWQ0YTM2OWQ1ODU1YmI3MDg5NDIzNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MDBmOTIzZGQ0MTQ0NDg3YjY5MzllOWJlY2NjN2JkMyA9ICQoJzxkaXYgaWQ9Imh0bWxfODAwZjkyM2RkNDE0NDQ4N2I2OTM5ZTliZWNjYzdiZDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvdmVyY291cnQgVmlsbGFnZSxEdWZmZXJpbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUzNjNkOTNkYjk1ZDRhMzY5ZDU4NTViYjcwODk0MjM3LnNldENvbnRlbnQoaHRtbF84MDBmOTIzZGQ0MTQ0NDg3YjY5MzllOWJlY2NjN2JkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZjJlNzZiNTY1Njk0NzE2OTI5Mzg3YTYxMGRjM2E2ZC5iaW5kUG9wdXAocG9wdXBfNTM2M2Q5M2RiOTVkNGEzNjlkNTg1NWJiNzA4OTQyMzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjRiMjAyOTk1MGNiNDFmMmIwODVmNGVhNGZlMDMzMzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDM3NDIyLC03OS4yMTE2MzI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I1MjY0MWZlOTUzYTQxYTBhMmI3ZjhlNjhlM2Y2MTExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U5YmY5MzQ1YzEzNDRkZTc4N2NjOGZhYWI4YTM5OWQyID0gJCgnPGRpdiBpZD0iaHRtbF9lOWJmOTM0NWMxMzQ0ZGU3ODdjYzhmYWFiOGEzOTlkMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2ggVmlsbGFnZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1MjY0MWZlOTUzYTQxYTBhMmI3ZjhlNjhlM2Y2MTExLnNldENvbnRlbnQoaHRtbF9lOWJmOTM0NWMxMzQ0ZGU3ODdjYzhmYWFiOGEzOTlkMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNGIyMDI5OTUwY2I0MWYyYjA4NWY0ZWE0ZmUwMzMzNy5iaW5kUG9wdXAocG9wdXBfYjUyNjQxZmU5NTNhNDFhMGEyYjdmOGU2OGUzZjYxMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWM3ZGQyZjcxM2NjNDk4MTk4OTAxYWY4MTBmNjg0MDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM5NjMsLTc5LjM4NzIwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZGI4MWY2MWZlZGM0ZjFjODViNDFlNzZhY2IwZGRmOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81YTgwNDIwOTJjNjQ0NjNiYjk1OWQ1NjRlYmMzZGUxYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWE4MDQyMDkyYzY0NDYzYmI5NTlkNTY0ZWJjM2RlMWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LEhlbnJ5IEZhcm0sT3Jpb2xlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGRiODFmNjFmZWRjNGYxYzg1YjQxZTc2YWNiMGRkZjguc2V0Q29udGVudChodG1sXzVhODA0MjA5MmM2NDQ2M2JiOTU5ZDU2NGViYzNkZTFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VjN2RkMmY3MTNjYzQ5ODE5ODkwMWFmODEwZjY4NDA4LmJpbmRQb3B1cChwb3B1cF8wZGI4MWY2MWZlZGM0ZjFjODViNDFlNzZhY2IwZGRmOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZjI4ZDU3MTIyN2U0NTE2ODFmNTY3ZTYzOGIyOTc5NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDEzNTEsLTc5LjUwNDQ4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VkZmM3MDVkNjUxYjRkYWY5YmEzOGNjOTU4NTEzZTE2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY3OWRkZWJhMmZkMzRmYjU5MjAxOGNlYzI2ODlhMDcwID0gJCgnPGRpdiBpZD0iaHRtbF82NzlkZGViYTJmZDM0ZmI1OTIwMThjZWMyNjg5YTA3MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3b29kIFBhcmssWW9yayBVbml2ZXJzaXR5IENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWRmYzcwNWQ2NTFiNGRhZjliYTM4Y2M5NTg1MTNlMTYuc2V0Q29udGVudChodG1sXzY3OWRkZWJhMmZkMzRmYjU5MjAxOGNlYzI2ODlhMDcwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdmMjhkNTcxMjI3ZTQ1MTY4MWY1NjdlNjM4YjI5Nzk1LmJpbmRQb3B1cChwb3B1cF9lZGZjNzA1ZDY1MWI0ZGFmOWJhMzhjYzk1ODUxM2UxNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82Y2EyYzczZWNkYjQ0YjYwODYxNzgzMjdkYzQ0ZDAxYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyNjI0MywtNzkuMzk2OTYyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZjOWYzMWJmMWUwYTQyYzk4NmIyNmZmMWRlMjg3OGE5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQxNDU0YWNkZjUzYTQ5NmJhZmRiODRjMDE1NzcxNmYwID0gJCgnPGRpdiBpZD0iaHRtbF80MTQ1NGFjZGY1M2E0OTZiYWZkYjg0YzAxNTc3MTZmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBUb3JvbnRvIENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmM5ZjMxYmYxZTBhNDJjOTg2YjI2ZmYxZGUyODc4YTkuc2V0Q29udGVudChodG1sXzQxNDU0YWNkZjUzYTQ5NmJhZmRiODRjMDE1NzcxNmYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZjYTJjNzNlY2RiNDRiNjA4NjE3ODMyN2RjNDRkMDFjLmJpbmRQb3B1cChwb3B1cF82YzlmMzFiZjFlMGE0MmM5ODZiMjZmZjFkZTI4NzhhOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hMDc4MWEyMDAzZGY0Y2QzOGI3ZjQ4Yjk1NzA3MWM4ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDA4MDEsLTc5LjM4MDE0OTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTEzYTU0MzcxMmQzNDNhNGFkNzU1ZjE3MzdjZjE3ZTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODg5MmNhY2IxMTBmNDM1MjljODRhOWJmODAyMTg3NDcgPSAkKCc8ZGl2IGlkPSJodG1sXzg4OTJjYWNiMTEwZjQzNTI5Yzg0YTliZjgwMjE4NzQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3VyZnJvbnQgRWFzdCxUb3JvbnRvIElzbGFuZHMsVW5pb24gU3RhdGlvbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UxM2E1NDM3MTJkMzQzYTRhZDc1NWYxNzM3Y2YxN2U4LnNldENvbnRlbnQoaHRtbF84ODkyY2FjYjExMGY0MzUyOWM4NGE5YmY4MDIxODc0Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hMDc4MWEyMDAzZGY0Y2QzOGI3ZjQ4Yjk1NzA3MWM4ZC5iaW5kUG9wdXAocG9wdXBfZTEzYTU0MzcxMmQzNDNhNGFkNzU1ZjE3MzdjZjE3ZTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODgxMTZjYjRjZmUxNGNmMmE1MjIyNjUwYzM5NTQxMmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc0MTMyNSwtNzkuNDMxMTE2MzI1NDYwNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNmU4MmQzMzQxNDU0OWY5OTQ0YjYxY2ViZDA0NjhkMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZDRkNjEyMWZhMTE0MzE0YTE2NWZiYTY0MGQwZTZjYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNmQ0ZDYxMjFmYTExNDMxNGExNjVmYmE2NDBkMGU2Y2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBQb3J0dWdhbCxUcmluaXR5IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTZlODJkMzM0MTQ1NDlmOTk0NGI2MWNlYmQwNDY4ZDMuc2V0Q29udGVudChodG1sXzZkNGQ2MTIxZmExMTQzMTRhMTY1ZmJhNjQwZDBlNmNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg4MTE2Y2I0Y2ZlMTRjZjJhNTIyMjY1MGMzOTU0MTJmLmJpbmRQb3B1cChwb3B1cF9lNmU4MmQzMzQxNDU0OWY5OTQ0YjYxY2ViZDA0NjhkMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMDExN2M4NjczNWU0Zjg2YTg3YjEwOTgwNTU0YTE1MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxNDE2NzIsLTc5LjI3MTEwOV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84N2NlYTM4MzFjZjQ0NDIxOWFhNmZmNWQyYTY0ZmMwNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMjViZGIzMTUzNzU0ZWQ4YjIwZjhkN2ZiNTY1NzUwZSA9ICQoJzxkaXYgaWQ9Imh0bWxfYzI1YmRiMzE1Mzc1NGVkOGIyMGY4ZDdmYjU2NTc1MGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgQmlyY2htb3VudCBQYXJrLElvbnZpZXcsS2VubmVkeSBQYXJrIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODdjZWEzODMxY2Y0NDQyMTlhYTZmZjVkMmE2NGZjMDYuc2V0Q29udGVudChodG1sX2MyNWJkYjMxNTM3NTRlZDhiMjBmOGQ3ZmI1NjU3NTBlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwMTE3Yzg2NzM1ZTRmODZhODdiMTA5ODA1NTRhMTUyLmJpbmRQb3B1cChwb3B1cF84N2NlYTM4MzFjZjQ0NDIxOWFhNmZmNWQyYTY0ZmMwNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzE2NTQzZDQwNDU0ZDUyODVhMDNhODE3MTQ1OWUzYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2OTE5NjYsLTc5LjM3NjY2MTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2E5MTAyNDIyN2M2NDJkMmJjNzQxNDg2YTNjNjc3ZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWM0ZTE5NmVkNDEwNGM1NTk4MjZlODI3OWM5ZjVmNTAgPSAkKCc8ZGl2IGlkPSJodG1sX2FjNGUxOTZlZDQxMDRjNTU5ODI2ZTgyNzljOWY1ZjUwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXl2aWV3IFZpbGxhZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jYTkxMDI0MjI3YzY0MmQyYmM3NDE0ODZhM2M2NzdmMC5zZXRDb250ZW50KGh0bWxfYWM0ZTE5NmVkNDEwNGM1NTk4MjZlODI3OWM5ZjVmNTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzMxNjU0M2Q0MDQ1NGQ1Mjg1YTAzYTgxNzE0NTllM2MuYmluZFBvcHVwKHBvcHVwX2NhOTEwMjQyMjdjNjQyZDJiYzc0MTQ4NmEzYzY3N2YwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM1OTI2ZDAwMTNmNzQyMjM5MjMzZWI4ZjllMGVhNDZmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwODE3NSwtNzkuNDEzMjk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYjk1NjlmY2FkM2E0MDU0ODQyMTJiMWRmNDQ1OGFhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZjExNDI5MWM0NmY0NWI4YWFlMWI4ZTQwNzE3OTFmOSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2YxMTQyOTFjNDZmNDViOGFhZTFiOGU0MDcxNzkxZjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNGQiBUb3JvbnRvLERvd25zdmlldyBFYXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2I5NTY5ZmNhZDNhNDA1NDg0MjEyYjFkZjQ0NThhYWMuc2V0Q29udGVudChodG1sX2NmMTE0MjkxYzQ2ZjQ1YjhhYWUxYjhlNDA3MTc5MWY5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM1OTI2ZDAwMTNmNzQyMjM5MjMzZWI4ZjllMGVhNDZmLmJpbmRQb3B1cChwb3B1cF8zYjk1NjlmY2FkM2E0MDU0ODQyMTJiMWRmNDQ1OGFhYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZTY0MmE1YzJmMmY0ODIyODkxYzM0YTI2MTJjOTc5OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjM1OTgsLTc5LjMwMDMxNThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjI5ZjQwMzE4NWM1NDFhZGI3Y2ZhNjNiYTZhY2MwZmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYThkOTlmNDlhMmExNDkwYmFhYWIwYWFkZGE3MzQzYzIgPSAkKCc8ZGl2IGlkPSJodG1sX2E4ZDk5ZjQ5YTJhMTQ5MGJhYWFiMGFhZGRhNzM0M2MyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCxSaXZlcmRhbGUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMjlmNDAzMTg1YzU0MWFkYjdjZmE2M2JhNmFjYzBmYy5zZXRDb250ZW50KGh0bWxfYThkOTlmNDlhMmExNDkwYmFhYWIwYWFkZGE3MzQzYzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmU2NDJhNWMyZjJmNDgyMjg5MWMzNGEyNjEyYzk3OTguYmluZFBvcHVwKHBvcHVwX2IyOWY0MDMxODVjNTQxYWRiN2NmYTYzYmE2YWNjMGZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M3MmU5ODZhODY1YjQzYTdhYzE4YjdjNmQwYzdjNjc5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3NzQxMiwtNzkuMzgwMTE0NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wOTE4YzE0ZjA5NTM0MmVhOGM4YjZhZGYzYTg2ZmE1MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84OTNmMDE0MTE5Njk0NDI4OGUyZTU1YWY2YzcxZTIzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfODkzZjAxNDExOTY5NDQyODhlMmU1NWFmNmM3MWUyMzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlc2lnbiBFeGNoYW5nZSxUb3JvbnRvIERvbWluaW9uIENlbnRyZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA5MThjMTRmMDk1MzQyZWE4YzhiNmFkZjNhODZmYTUxLnNldENvbnRlbnQoaHRtbF84OTNmMDE0MTE5Njk0NDI4OGUyZTU1YWY2YzcxZTIzOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jNzJlOTg2YTg2NWI0M2E3YWMxOGI3YzZkMGM3YzY3OS5iaW5kUG9wdXAocG9wdXBfMDkxOGMxNGYwOTUzNDJlYThjOGI2YWRmM2E4NmZhNTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmFiY2RkNjYxMjZlNDU2MmI3MjVlZDllYzdlZTg5ODYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTA5MTczLC03OS40NDAwMjE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VhMGRjNjQxYWMzNTRkZmFiMDhiZWNhYzk0NzJlZWU5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc3OTRkMmRkMDc1ODRmYjliOGM2YTA3NjE2MGFhYjQ5ID0gJCgnPGRpdiBpZD0iaHRtbF83Nzk0ZDJkZDA3NTg0ZmI5YjhjNmEwNzYxNjBhYWI0OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnJvY2t0b24sRXhoaWJpdGlvbiBQbGFjZSxQYXJrZGFsZSBWaWxsYWdlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWEwZGM2NDFhYzM1NGRmYWIwOGJlY2FjOTQ3MmVlZTkuc2V0Q29udGVudChodG1sXzc3OTRkMmRkMDc1ODRmYjliOGM2YTA3NjE2MGFhYjQ5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZhYmNkZDY2MTI2ZTQ1NjJiNzI1ZWQ5ZWM3ZWU4OTg2LmJpbmRQb3B1cChwb3B1cF9lYTBkYzY0MWFjMzU0ZGZhYjA4YmVjYWM5NDcyZWVlOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNzA5ZWU3NGE3NjE0Nzc0YTcwZjk5YjA4MmE0NzQ0NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwODgyMzEsLTc5LjI5NTk4NTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzBkODk5OWIyNDM4NDMyNzkyNGMwMWE3MzEwZGUwMGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDY2ZjVlZDYwZTg3NGQ4YzlkMjFmNjdhODQ3MGI1MDMgPSAkKCc8ZGl2IGlkPSJodG1sX2Q2NmY1ZWQ2MGU4NzRkOGM5ZDIxZjY3YTg0NzBiNTAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFpcmxlYSxHb2xkZW4gTWlsZSxPYWtyaWRnZSBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MwZDg5OTliMjQzODQzMjc5MjRjMDFhNzMxMGRlMDBmLnNldENvbnRlbnQoaHRtbF9kNjZmNWVkNjBlODc0ZDhjOWQyMWY2N2E4NDcwYjUwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNzA5ZWU3NGE3NjE0Nzc0YTcwZjk5YjA4MmE0NzQ0NC5iaW5kUG9wdXAocG9wdXBfYzBkODk5OWIyNDM4NDMyNzkyNGMwMWE3MzEwZGUwMGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjljODE2NDRmOTUyNDEyYjlkZjViY2IxYjgzNzA2ZjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjEyMjI0LC03OS4zNjgzODE4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJiZjNjOTA3MTY4ODQ0MTI5ZjdhZDQyNDlkMDhmMjA4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmOWJjNDY3M2U2YzQwYWViYjkyNzgxYWFjOWM2NWEwID0gJCgnPGRpdiBpZD0iaHRtbF8yZjliYzQ2NzNlNmM0MGFlYmI5Mjc4MWFhYzljNjVhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2lsdmVyIEhpbGxzLFlvcmsgTWlsbHMgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yYmYzYzkwNzE2ODg0NDEyOWY3YWQ0MjQ5ZDA4ZjIwOC5zZXRDb250ZW50KGh0bWxfMmY5YmM0NjczZTZjNDBhZWJiOTI3ODFhYWM5YzY1YTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjljODE2NDRmOTUyNDEyYjlkZjViY2IxYjgzNzA2ZjUuYmluZFBvcHVwKHBvcHVwXzJiZjNjOTA3MTY4ODQ0MTI5ZjdhZDQyNDlkMDhmMjA4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2YyZDQzYWMwY2E0MTQ3ZGU4ZGFhYTllYjkxMjEyMjk3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ5Mjk4OCwtNzkuNDYyMjQ4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIzMjI0MGJmZWM0NTQ3ZmU5MzFkYzU1NGRjM2I3MmIyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA2YjE1NTRiOWRmMDRmOTA5NGUyMTZiMDZiNDhjZjExID0gJCgnPGRpdiBpZD0iaHRtbF8wNmIxNTU0YjlkZjA0ZjkwOTRlMjE2YjA2YjQ4Y2YxMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMzIyNDBiZmVjNDU0N2ZlOTMxZGM1NTRkYzNiNzJiMi5zZXRDb250ZW50KGh0bWxfMDZiMTU1NGI5ZGYwNGY5MDk0ZTIxNmIwNmI0OGNmMTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjJkNDNhYzBjYTQxNDdkZThkYWFhOWViOTEyMTIyOTcuYmluZFBvcHVwKHBvcHVwXzIzMjI0MGJmZWM0NTQ3ZmU5MzFkYzU1NGRjM2I3MmIyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY5ZTI0YzczMjY3MDQ3N2JhZWY1ZjVlMWVmNjVhYWY1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcxMDI0NCwtNzkuMjk2NzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QzZDM1ZjU4ODMyMDQ5MzQ4NDUwNDRiMTk3MjYyY2EwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RhNjAyYTAyN2VlMjQ5OGVhMzRlZmU5NjAxNGViNTVmID0gJCgnPGRpdiBpZD0iaHRtbF9kYTYwMmEwMjdlZTI0OThlYTM0ZWZlOTYwMTRlYjU1ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEJlYWNoZXMgV2VzdCxJbmRpYSBCYXphYXIgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kM2QzNWY1ODgzMjA0OTM0ODQ1MDQ0YjE5NzI2MmNhMC5zZXRDb250ZW50KGh0bWxfZGE2MDJhMDI3ZWUyNDk4ZWEzNGVmZTk2MDE0ZWI1NWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjllMjRjNzMyNjcwNDc3YmFlZjVmNWUxZWY2NWFhZjUuYmluZFBvcHVwKHBvcHVwX2QzZDM1ZjU4ODMyMDQ5MzQ4NDUwNDRiMTk3MjYyY2EwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyZTY1YzM2ODczMzRhZGI5ZGMzMWFjOTBjMWI0MTVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MDk1MTUsLTc5LjM3OTAyMDcyMDQ3MzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmNjOWE0MTdiMWJmNDE5ZGJjNmVmZGZiOWJkZGE2YzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODUxNTVhZDVmMDhhNGRiM2I3YzdjOGM0MTgxMzJlNWIgPSAkKCc8ZGl2IGlkPSJodG1sXzg1MTU1YWQ1ZjA4YTRkYjNiN2M3YzhjNDE4MTMyZTViIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCxWaWN0b3JpYSBIb3RlbCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZjYzlhNDE3YjFiZjQxOWRiYzZlZmRmYjliZGRhNmM0LnNldENvbnRlbnQoaHRtbF84NTE1NWFkNWYwOGE0ZGIzYjdjN2M4YzQxODEzMmU1Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMmU2NWMzNjg3MzM0YWRiOWRjMzFhYzkwYzFiNDE1Zi5iaW5kUG9wdXAocG9wdXBfNmNjOWE0MTdiMWJmNDE5ZGJjNmVmZGZiOWJkZGE2YzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDYxZDE5NTJiZjMzNDJkYzhlZmVmZjNjMTc0Y2IyNGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDkyOTg4LC03OS40NjIyNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODM5MmI3Zjg0NWMwNDk4MGExODA2ZTRiMDQ5M2ExYjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGRhNTVjOTk2MDc0NDVjMmI5Y2JkODZhMjE4Y2E4YmQgPSAkKCc8ZGl2IGlkPSJodG1sX2RkYTU1Yzk5NjA3NDQ1YzJiOWNiZDg2YTIxOGNhOGJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcsTm9ydGggUGFyayxVcHdvb2QgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgzOTJiN2Y4NDVjMDQ5ODBhMTgwNmU0YjA0OTNhMWI4LnNldENvbnRlbnQoaHRtbF9kZGE1NWM5OTYwNzQ0NWMyYjljYmQ4NmEyMThjYThiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kNjFkMTk1MmJmMzM0MmRjOGVmZWZmM2MxNzRjYjI0YS5iaW5kUG9wdXAocG9wdXBfODM5MmI3Zjg0NWMwNDk4MGExODA2ZTRiMDQ5M2ExYjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmI2ZmI4NDE4OGJiNDBjYThmYzM3NjUzNzlhMDM0ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjAwNzc4LC03OS41NzE3NTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y1MDQ0ZmQzMzQ0ODQ2Zjg4MDQwNmVmYzJmNDBiMTBlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I0MzdiZjRlZDQyMDRhYzE5MzdjNjRlMTcyOTZjMzU4ID0gJCgnPGRpdiBpZD0iaHRtbF9iNDM3YmY0ZWQ0MjA0YWMxOTM3YzY0ZTE3Mjk2YzM1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIFN1bW1pdCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y1MDQ0ZmQzMzQ0ODQ2Zjg4MDQwNmVmYzJmNDBiMTBlLnNldENvbnRlbnQoaHRtbF9iNDM3YmY0ZWQ0MjA0YWMxOTM3YzY0ZTE3Mjk2YzM1OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYjZmYjg0MTg4YmI0MGNhOGZjMzc2NTM3OWEwMzRlMi5iaW5kUG9wdXAocG9wdXBfZjUwNDRmZDMzNDQ4NDZmODgwNDA2ZWZjMmY0MGIxMGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzRkOTdmMDg3N2YwNDU0MWFlOTVjNTBmYzQ4NjhhM2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjE5Mzg3LC03OS4yMzYyMzI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgwYWRmN2E5MzQ0YzQ2Mjc5ZjhkMDM3ZDFjNmE0NjI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JhZjM3N2EwMTIwNzQ0YTRiZmIxMTJiOTM0OTBiYWI4ID0gJCgnPGRpdiBpZD0iaHRtbF9iYWYzNzdhMDEyMDc0NGE0YmZiMTEyYjkzNDkwYmFiOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xpZmZjcmVzdCxDbGlmZnNpZGUsU2NhcmJvcm91Z2ggVmlsbGFnZSBXZXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODBhZGY3YTkzNDRjNDYyNzlmOGQwMzdkMWM2YTQ2MjQuc2V0Q29udGVudChodG1sX2JhZjM3N2EwMTIwNzQ0YTRiZmIxMTJiOTM0OTBiYWI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M0ZDk3ZjA4NzdmMDQ1NDFhZTk1YzUwZmM0ODY4YTNkLmJpbmRQb3B1cChwb3B1cF84MGFkZjdhOTM0NGM0NjI3OWY4ZDAzN2QxYzZhNDYyNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNTRlNWI2NTk2ZmI0NzI1ODNlZGZlOTkwNjE4MjRhMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5Mzg4NjMsLTc5LjQyNTY3OTAyMzAxMDVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTk4ZGYzZDRhMzhiNGJmY2I2NDdjZGZkNWNmMWRkOWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmJmOThhNjEwMjc1NDBkN2FlODcxNmVmYzU1Y2IyOTIgPSAkKCc8ZGl2IGlkPSJodG1sX2JiZjk4YTYxMDI3NTQwZDdhZTg3MTZlZmM1NWNiMjkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OZXd0b25icm9vayxXaWxsb3dkYWxlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTk4ZGYzZDRhMzhiNGJmY2I2NDdjZGZkNWNmMWRkOWEuc2V0Q29udGVudChodG1sX2JiZjk4YTYxMDI3NTQwZDdhZTg3MTZlZmM1NWNiMjkyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI1NGU1YjY1OTZmYjQ3MjU4M2VkZmU5OTA2MTgyNGEwLmJpbmRQb3B1cChwb3B1cF81OThkZjNkNGEzOGI0YmZjYjY0N2NkZmQ1Y2YxZGQ5YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MGNjMTE1M2Q2MWM0NDYyOWE3YjNjOTA0Yjk1MzJjZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0OTI5ODgsLTc5LjQ2MjI0OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85YjI0OWNhOGM0MWU0NDFkODJjNDZhNjFiMGVjMDY5MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNmFkNjIyODIwOWQ0Y2U0YWZmZmUwMzExMGNkNjc5OSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTZhZDYyMjgyMDlkNGNlNGFmZmZlMDMxMTBjZDY3OTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDZW50cmFsIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWIyNDljYThjNDFlNDQxZDgyYzQ2YTYxYjBlYzA2OTAuc2V0Q29udGVudChodG1sX2U2YWQ2MjI4MjA5ZDRjZTRhZmZmZTAzMTEwY2Q2Nzk5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcwY2MxMTUzZDYxYzQ0NjI5YTdiM2M5MDRiOTUzMmNmLmJpbmRQb3B1cChwb3B1cF85YjI0OWNhOGM0MWU0NDFkODJjNDZhNjFiMGVjMDY5MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNTc1YjUyYWY5Mzc0OWI4OWE0Y2QxZjBhYjIzOWFmOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDQwMjksLTc5LjM4Nzg5MDddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGM2MzZiYTdkNjMxNDJiZjhjZjYzNGEzNzlmYTA1YTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTk4OWZjZmViMzhkNDEwZjg5MDAwOWUyOWM1MThhYTYgPSAkKCc8ZGl2IGlkPSJodG1sXzE5ODlmY2ZlYjM4ZDQxMGY4OTAwMDllMjljNTE4YWE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdHVkaW8gRGlzdHJpY3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84YzYzNmJhN2Q2MzE0MmJmOGNmNjM0YTM3OWZhMDVhMC5zZXRDb250ZW50KGh0bWxfMTk4OWZjZmViMzhkNDEwZjg5MDAwOWUyOWM1MThhYTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzU3NWI1MmFmOTM3NDliODlhNGNkMWYwYWIyMzlhZjkuYmluZFBvcHVwKHBvcHVwXzhjNjM2YmE3ZDYzMTQyYmY4Y2Y2MzRhMzc5ZmEwNWEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyZmVlYzNjZTA2MjRmYzlhYzQ3ODg1MWI2ODU2MDcxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3Mzg3NiwtNzkuNDEwOTI1M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iY2Y0NDJiZGIyMmQ0MjdhYjBlNzMxMDM5OTk4NGZhYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MzQyYTMzZDc3NmM0MjE3YWEyZjViYjlmMTMxYmU3OCA9ICQoJzxkaXYgaWQ9Imh0bWxfODM0MmEzM2Q3NzZjNDIxN2FhMmY1YmI5ZjEzMWJlNzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlZGZvcmQgUGFyayxMYXdyZW5jZSBNYW5vciBFYXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmNmNDQyYmRiMjJkNDI3YWIwZTczMTAzOTk5ODRmYWIuc2V0Q29udGVudChodG1sXzgzNDJhMzNkNzc2YzQyMTdhYTJmNWJiOWYxMzFiZTc4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAyZmVlYzNjZTA2MjRmYzlhYzQ3ODg1MWI2ODU2MDcxLmJpbmRQb3B1cChwb3B1cF9iY2Y0NDJiZGIyMmQ0MjdhYjBlNzMxMDM5OTk4NGZhYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OTNjODI2M2MxZmU0OTFjOGNjNDdkYWYzNjNhODdhNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTYxOTEsLTc5LjQ3OTE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81N2UyZTM2OWRlODE0NzIyODQ3NjA3ZTNlYjBhZjdkYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NTZhZjhkYWM4MWY0MmI4OTk4NzEzZWRjMjdiODZjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzU2YWY4ZGFjODFmNDJiODk5ODcxM2VkYzI3Yjg2YzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlbCBSYXksS2VlbGVzZGFsZSxNb3VudCBEZW5uaXMsU2lsdmVydGhvcm4gQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81N2UyZTM2OWRlODE0NzIyODQ3NjA3ZTNlYjBhZjdkYi5zZXRDb250ZW50KGh0bWxfNzU2YWY4ZGFjODFmNDJiODk5ODcxM2VkYzI3Yjg2YzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTkzYzgyNjNjMWZlNDkxYzhjYzQ3ZGFmMzYzYTg3YTUuYmluZFBvcHVwKHBvcHVwXzU3ZTJlMzY5ZGU4MTQ3MjI4NDc2MDdlM2ViMGFmN2RiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIzMGFmYTQyZTBmZTQzOTJhYWVmMTZmOGNhNWViNzM0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyMDc0NCwtNzkuNTQyMzY1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NjNhZjVmMjM5MWE0MjljYjA0MTMxOTA0ZDFjOTk0ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YmJjNzc2ODA4ZWY0OWI3YTcwOWVhNmY0YjM5ZTNmZCA9ICQoJzxkaXYgaWQ9Imh0bWxfNmJiYzc3NjgwOGVmNDliN2E3MDllYTZmNGIzOWUzZmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVtZXJ5LEh1bWJlcmxlYSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU2M2FmNWYyMzkxYTQyOWNiMDQxMzE5MDRkMWM5OTRlLnNldENvbnRlbnQoaHRtbF82YmJjNzc2ODA4ZWY0OWI3YTcwOWVhNmY0YjM5ZTNmZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMzBhZmE0MmUwZmU0MzkyYWFlZjE2ZjhjYTVlYjczNC5iaW5kUG9wdXAocG9wdXBfNTYzYWY1ZjIzOTFhNDI5Y2IwNDEzMTkwNGQxYzk5NGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGFhMWZhZGQyOWRmNDk2YmFkZWNkOTc3YzgwN2Y0YjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDIxMTIxNSwtNzkuMjYwMDkwNTMwMTU2OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNjIyNDlhNDM5NWQ0Y2YyYjQ3MTllZTVmMjE1YjE4YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82Mjg0ZDYxOGNkMzM0MmQ3YWU4YTMzOTE5MzcwOGQyMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjI4NGQ2MThjZDMzNDJkN2FlOGEzMzkxOTM3MDhkMjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJpcmNoIENsaWZmLENsaWZmc2lkZSBXZXN0IENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTYyMjQ5YTQzOTVkNGNmMmI0NzE5ZWU1ZjIxNWIxOGMuc2V0Q29udGVudChodG1sXzYyODRkNjE4Y2QzMzQyZDdhZThhMzM5MTkzNzA4ZDIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBhYTFmYWRkMjlkZjQ5NmJhZGVjZDk3N2M4MDdmNGIzLmJpbmRQb3B1cChwb3B1cF8xNjIyNDlhNDM5NWQ0Y2YyYjQ3MTllZTVmMjE1YjE4Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMDU0NzI5OWVlYmU0ZGVhYjA1ZTBlZDMxOTQzOTQ5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NTM1NTgsLTc5LjQxNjY4NTk4MjM5MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmY4YjkyNWY4NmI1NGIxYjk0ZTU4MDViMTIyOTVkMzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODc1OTgyYmEzNzM5NGZlZGFmM2JjOTY0NWYzNjllOTggPSAkKCc8ZGl2IGlkPSJodG1sXzg3NTk4MmJhMzczOTRmZWRhZjNiYzk2NDVmMzY5ZTk4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlIFNvdXRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmY4YjkyNWY4NmI1NGIxYjk0ZTU4MDViMTIyOTVkMzkuc2V0Q29udGVudChodG1sXzg3NTk4MmJhMzczOTRmZWRhZjNiYzk2NDVmMzY5ZTk4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MwNTQ3Mjk5ZWViZTRkZWFiMDVlMGVkMzE5NDM5NDk2LmJpbmRQb3B1cChwb3B1cF9mZjhiOTI1Zjg2YjU0YjFiOTRlNTgwNWIxMjI5NWQzOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYTgwYmQ3YTNmMmM0MmI2OWZmYjVkZThmZDRiMDJlZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0OTI5ODgsLTc5LjQ2MjI0OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZDAzODMyN2ZiYzg0YWIzYWU5ZjQ0NDllZWNlN2I0MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZDE5MTU4Yjk5Zjc0MDQxODBmNjkwZjQ1ZTE2ODg4ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZmQxOTE1OGI5OWY3NDA0MTgwZjY5MGY0NWUxNjg4OGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBOb3J0aHdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZDAzODMyN2ZiYzg0YWIzYWU5ZjQ0NDllZWNlN2I0MC5zZXRDb250ZW50KGh0bWxfZmQxOTE1OGI5OWY3NDA0MTgwZjY5MGY0NWUxNjg4OGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGE4MGJkN2EzZjJjNDJiNjlmZmI1ZGU4ZmQ0YjAyZWYuYmluZFBvcHVwKHBvcHVwXzFkMDM4MzI3ZmJjODRhYjNhZTlmNDQ0OWVlY2U3YjQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdkMmU5NGZhN2Q5MjQ4ZjE5NWM2NjY4MGUyZTU3Y2MwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI5MTk5LC03OS40MDMyNTI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQzZGNkMGVjMGE2MTQ3NjM5ZGEyODlmYTgzMzgyMDNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNmNGVkMmU2NGJmYjQwZTZhNjlkYmI1OWE0ODY0NTRlID0gJCgnPGRpdiBpZD0iaHRtbF8zZjRlZDJlNjRiZmI0MGU2YTY5ZGJiNTlhNDg2NDU0ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQzZGNkMGVjMGE2MTQ3NjM5ZGEyODlmYTgzMzgyMDNmLnNldENvbnRlbnQoaHRtbF8zZjRlZDJlNjRiZmI0MGU2YTY5ZGJiNTlhNDg2NDU0ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZDJlOTRmYTdkOTI0OGYxOTVjNjY2ODBlMmU1N2NjMC5iaW5kUG9wdXAocG9wdXBfNDNkY2QwZWMwYTYxNDc2MzlkYTI4OWZhODMzODIwM2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzM5YWNmZDZiMTBiNDlkMjg2Njk3MjBiZGJlYmQxYWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY5ODA1LC03OS40MTc5NDE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1ZDJjNjdlZjM4ZjRiNGI4ZWE1MzM0N2JhYmJiYmUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhZWUxNDBhZDEzYzRiMmFhYzAxMmYxZDViZmMxMmQ0ID0gJCgnPGRpdiBpZD0iaHRtbF9jYWVlMTQwYWQxM2M0YjJhYWMwMTJmMWQ1YmZjMTJkNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWxhd24gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNWQyYzY3ZWYzOGY0YjRiOGVhNTMzNDdiYWJiYmJlMi5zZXRDb250ZW50KGh0bWxfY2FlZTE0MGFkMTNjNGIyYWFjMDEyZjFkNWJmYzEyZDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzM5YWNmZDZiMTBiNDlkMjg2Njk3MjBiZGJlYmQxYWMuYmluZFBvcHVwKHBvcHVwXzI1ZDJjNjdlZjM4ZjRiNGI4ZWE1MzM0N2JhYmJiYmUyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZlYTM3ZGJlYWUyMzRjYTZiMmZjYzhmNGEwZjk2NWZmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1NDc3NSwtNzkuNDcwMzUyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3Y2ZhOThmNTJhMDRkMTZhOGRhMWM0MjgxZmJmNzcwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU5ZDA1M2UwYmZkNzQ5OTI4NmIxYjRjYWI0M2UzMzM0ID0gJCgnPGRpdiBpZD0iaHRtbF81OWQwNTNlMGJmZDc0OTkyODZiMWI0Y2FiNDNlMzMzNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEp1bmN0aW9uIE5vcnRoLFJ1bm55bWVkZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ3Y2ZhOThmNTJhMDRkMTZhOGRhMWM0MjgxZmJmNzcwLnNldENvbnRlbnQoaHRtbF81OWQwNTNlMGJmZDc0OTkyODZiMWI0Y2FiNDNlMzMzNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZWEzN2RiZWFlMjM0Y2E2YjJmY2M4ZjRhMGY5NjVmZi5iaW5kUG9wdXAocG9wdXBfNDdjZmE5OGY1MmEwNGQxNmE4ZGExYzQyODFmYmY3NzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTE4YTdkODczMjBmNDAxMGExZGI2MDQ4Yjc0M2QyYzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDAxNjA4LC03OS41MTYyNDc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkwNzYyMjIxZDdkYzRjYjM5OTczZWQ5ZjM3MWQ2Mzg3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IxZjgxYTY3MjQ2MDQ5ZDNhNzZmNWJmOThjMjgzNzA1ID0gJCgnPGRpdiBpZD0iaHRtbF9iMWY4MWE2NzI0NjA0OWQzYTc2ZjViZjk4YzI4MzcwNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG9uIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTA3NjIyMjFkN2RjNGNiMzk5NzNlZDlmMzcxZDYzODcuc2V0Q29udGVudChodG1sX2IxZjgxYTY3MjQ2MDQ5ZDNhNzZmNWJmOThjMjgzNzA1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzExOGE3ZDg3MzIwZjQwMTBhMWRiNjA0OGI3NDNkMmM3LmJpbmRQb3B1cChwb3B1cF85MDc2MjIyMWQ3ZGM0Y2IzOTk3M2VkOWYzNzFkNjM4Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNzk5ODhhYzE0YjM0ODI5OTBmZjA2ODlkYTVkYTgzYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjg0NjcsLTc5LjI4MjA2N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YmQ0ZWJiNWMzMmE0YzE4YWZkYWM5ZWY0NGI3NzVmOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZjVmYzZjYmQ2Mjg0ZDQ4YjIxNzZmNGNlNWM0YTM3MSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWY1ZmM2Y2JkNjI4NGQ0OGIyMTc2ZjRjZTVjNGEzNzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvcnNldCBQYXJrLFNjYXJib3JvdWdoIFRvd24gQ2VudHJlLFdleGZvcmQgSGVpZ2h0cyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzViZDRlYmI1YzMyYTRjMThhZmRhYzllZjQ0Yjc3NWY4LnNldENvbnRlbnQoaHRtbF9hZjVmYzZjYmQ2Mjg0ZDQ4YjIxNzZmNGNlNWM0YTM3MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lNzk5ODhhYzE0YjM0ODI5OTBmZjA2ODlkYTVkYTgzYS5iaW5kUG9wdXAocG9wdXBfNWJkNGViYjVjMzJhNGMxOGFmZGFjOWVmNDRiNzc1ZjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjFiNmMwN2Q0ODQ1NDEyNGJkNzMzN2ZlN2EyZGNmYjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQwMzkxLC03OS40MDY2NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2RkNmFkYTYyODg4NDAwNzg5YmE0NGUxMGM5NmU1OTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzIzNGM4OThmMzgxNDM0ZTg4ZmMxMjMwOGFmYmMyOTYgPSAkKCc8ZGl2IGlkPSJodG1sXzMyMzRjODk4ZjM4MTQzNGU4OGZjMTIzMDhhZmJjMjk2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZGQ2YWRhNjI4ODg0MDA3ODliYTQ0ZTEwYzk2ZTU5OC5zZXRDb250ZW50KGh0bWxfMzIzNGM4OThmMzgxNDM0ZTg4ZmMxMjMwOGFmYmMyOTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjFiNmMwN2Q0ODQ1NDEyNGJkNzMzN2ZlN2EyZGNmYjkuYmluZFBvcHVwKHBvcHVwXzNkZDZhZGE2Mjg4ODQwMDc4OWJhNDRlMTBjOTZlNTk4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I3MTU4NWU3MGVhZDQxNDg5MDAxNWVjOWM3ZDVhNjYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0MzEyMywtNzkuMzg4NTE2OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MDljMTM4YmY2Mzc0OGRmYjUzY2M2ZTdhMGZhYWJjOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MzUzYWYwMzkzNmI0OWFjOTYwMDYxOGM3NDhlOWEyZCA9ICQoJzxkaXYgaWQ9Imh0bWxfODM1M2FmMDM5MzZiNDlhYzk2MDA2MThjNzQ4ZTlhMmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgTm9ydGggQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MDljMTM4YmY2Mzc0OGRmYjUzY2M2ZTdhMGZhYWJjOC5zZXRDb250ZW50KGh0bWxfODM1M2FmMDM5MzZiNDlhYzk2MDA2MThjNzQ4ZTlhMmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjcxNTg1ZTcwZWFkNDE0ODkwMDE1ZWM5YzdkNWE2NjEuYmluZFBvcHVwKHBvcHVwXzYwOWMxMzhiZjYzNzQ4ZGZiNTNjYzZlN2EwZmFhYmM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhjM2M2NDZiMzZmZTRlNzY5ZTY0NDdmOTNlNWE5ZDBjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNTU4NiwtNzkuNDEzOTAyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNGVmNmYzMzY4MDc0ZDdjOGE3YTIyYzA0ZThlYmY0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNTIzMGI3NmM0MGE0MDZiOGM0YWFmMTM0NzIwMzM5YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMTUyMzBiNzZjNDBhNDA2YjhjNGFhZjEzNDcyMDMzOWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZvcmVzdCBIaWxsIE5vcnRoLEZvcmVzdCBIaWxsIFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNGVmNmYzMzY4MDc0ZDdjOGE3YTIyYzA0ZThlYmY0My5zZXRDb250ZW50KGh0bWxfMTUyMzBiNzZjNDBhNDA2YjhjNGFhZjEzNDcyMDMzOWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGMzYzY0NmIzNmZlNGU3NjllNjQ0N2Y5M2U1YTlkMGMuYmluZFBvcHVwKHBvcHVwX2E0ZWY2ZjMzNjgwNzRkN2M4YTdhMjJjMDRlOGViZjQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhiYzIyODA4ZjkyYTQ0N2Y4OTBiNmRiMGI4ODBmZDdiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2MjgxMzUsLTc5LjQ2MzgyMTM4MTE5NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjA2NzMyZjNhNWJhNDNkMjg1Y2Q1MDgzY2Y1YTY4ZDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzVmZmZiYzU5MWU1NGYyOWIzOTdhYTNkMjBmMTBkMjYgPSAkKCc8ZGl2IGlkPSJodG1sXzM1ZmZmYmM1OTFlNTRmMjliMzk3YWEzZDIwZjEwZDI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWdoIFBhcmssVGhlIEp1bmN0aW9uIFNvdXRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjA2NzMyZjNhNWJhNDNkMjg1Y2Q1MDgzY2Y1YTY4ZDcuc2V0Q29udGVudChodG1sXzM1ZmZmYmM1OTFlNTRmMjliMzk3YWEzZDIwZjEwZDI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhiYzIyODA4ZjkyYTQ0N2Y4OTBiNmRiMGI4ODBmZDdiLmJpbmRQb3B1cChwb3B1cF9mMDY3MzJmM2E1YmE0M2QyODVjZDUwODNjZjVhNjhkNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOTZlYWNiOWJkYjY0NWRhYjE4ZGI5OWE2ZDBiZWE3NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MzYzOTksLTc5LjUyMTA0MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjU5ZjQ5ZWQ4ODA4NDkzN2ExM2ZlYTNmZjFmN2UzZmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTY5YTlkNWQ5NjhhNGNmMDliNDc3MmNiYzJiNTk1NzQgPSAkKCc8ZGl2IGlkPSJodG1sX2E2OWE5ZDVkOTY4YTRjZjA5YjQ3NzJjYmMyYjU5NTc0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0bW91bnQgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNTlmNDllZDg4MDg0OTM3YTEzZmVhM2ZmMWY3ZTNmZC5zZXRDb250ZW50KGh0bWxfYTY5YTlkNWQ5NjhhNGNmMDliNDc3MmNiYzJiNTk1NzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjk2ZWFjYjliZGI2NDVkYWIxOGRiOTlhNmQwYmVhNzYuYmluZFBvcHVwKHBvcHVwXzI1OWY0OWVkODgwODQ5MzdhMTNmZWEzZmYxZjdlM2ZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU5NWE1YjViODMxZDQ0ODg5ZWVkNDYxMThmOGUzY2E4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU5MDUwOCwtNzkuMzEwMjI5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYzY1NDdlYTVkMTg0YTFjODBkOWZjMDg4ZTM1ZTk3YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZWRlMjMzMGM1NmY0NzY2OTA0NjM1MGJmNzkxZjBiNyA9ICQoJzxkaXYgaWQ9Imh0bWxfM2VkZTIzMzBjNTZmNDc2NjkwNDYzNTBiZjc5MWYwYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hcnl2YWxlLFdleGZvcmQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYzY1NDdlYTVkMTg0YTFjODBkOWZjMDg4ZTM1ZTk3Yy5zZXRDb250ZW50KGh0bWxfM2VkZTIzMzBjNTZmNDc2NjkwNDYzNTBiZjc5MWYwYjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTk1YTViNWI4MzFkNDQ4ODllZWQ0NjExOGY4ZTNjYTguYmluZFBvcHVwKHBvcHVwX2VjNjU0N2VhNWQxODRhMWM4MGQ5ZmMwODhlMzVlOTdjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhiNmY4MWVjMzZlNTQ1NmU5MDc5NzQwMDRiYWFlNzRjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc1MzU1OCwtNzkuNDE2Njg1OTgyMzkyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ZmI5OTlkMDZmYTk0ODNmODhmNWEwNGMwOGMwOGE5YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MmFkYWY2OGMyMDE0MGVmYTAwZTEwZTAwMmRkYTJhNSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTJhZGFmNjhjMjAxNDBlZmEwMGUxMGUwMDJkZGEyYTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlmYjk5OWQwNmZhOTQ4M2Y4OGY1YTA0YzA4YzA4YTljLnNldENvbnRlbnQoaHRtbF85MmFkYWY2OGMyMDE0MGVmYTAwZTEwZTAwMmRkYTJhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YjZmODFlYzM2ZTU0NTZlOTA3OTc0MDA0YmFhZTc0Yy5iaW5kUG9wdXAocG9wdXBfOWZiOTk5ZDA2ZmE5NDgzZjg4ZjVhMDRjMDhjMDhhOWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGRjY2QxMTk3YzAyNDRkMjk4MWJmNTQ1ZmM5ZDE5ZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDY1NDY2LC03OS40MTk1MjYzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I1YTM2YjAzOTcwZTQwZjdhYjQ5ODBlYWE2NmM0NTJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRkMjRkMTBkOGNlZDQ4YzA5OGE4YjkyMWViNDljYWVkID0gJCgnPGRpdiBpZD0iaHRtbF80ZDI0ZDEwZDhjZWQ0OGMwOThhOGI5MjFlYjQ5Y2FlZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggVG9yb250byBXZXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjVhMzZiMDM5NzBlNDBmN2FiNDk4MGVhYTY2YzQ1MmUuc2V0Q29udGVudChodG1sXzRkMjRkMTBkOGNlZDQ4YzA5OGE4YjkyMWViNDljYWVkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkY2NkMTE5N2MwMjQ0ZDI5ODFiZjU0NWZjOWQxOWYxLmJpbmRQb3B1cChwb3B1cF9iNWEzNmIwMzk3MGU0MGY3YWI0OTgwZWFhNjZjNDUyZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NmM3ODY0MDIyODM0MjgzYWM1ZmExYTUzYWFlYTExZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MDMzNzcsLTc5LjQwNzExN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYTQ3ZmU1Nzk2MzM0NDEyYmMxN2Q5NDU0ZGRjZjQxYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NDNmZmIzY2E1ZGY0M2I5YWQ5NzFhNzcxNzhjYTlmNiA9ICQoJzxkaXYgaWQ9Imh0bWxfNDQzZmZiM2NhNWRmNDNiOWFkOTcxYTc3MTc4Y2E5ZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBBbm5leCxOb3J0aCBNaWR0b3duLFlvcmt2aWxsZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhNDdmZTU3OTYzMzQ0MTJiYzE3ZDk0NTRkZGNmNDFjLnNldENvbnRlbnQoaHRtbF80NDNmZmIzY2E1ZGY0M2I5YWQ5NzFhNzcxNzhjYTlmNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NmM3ODY0MDIyODM0MjgzYWM1ZmExYTUzYWFlYTExZi5iaW5kUG9wdXAocG9wdXBfZmE0N2ZlNTc5NjMzNDQxMmJjMTdkOTQ1NGRkY2Y0MWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGQ1MjFhZjkzNmQwNDI5NDlmN2VmMjljM2YxZjdiM2YgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzcxNzc3LC03OS40MzYwMDQ1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5YWQxYzYxYzFjZTRhNzhiNjA3Yzk1ZGRiNDQ2ZWZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBiNDhkMzFkOGEzMzQ1ODk5MmI0MjljYTIxNzA4MWE2ID0gJCgnPGRpdiBpZD0iaHRtbF8wYjQ4ZDMxZDhhMzM0NTg5OTJiNDI5Y2EyMTcwODFhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya2RhbGUsUm9uY2VzdmFsbGVzIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDlhZDFjNjFjMWNlNGE3OGI2MDdjOTVkZGI0NDZlZmQuc2V0Q29udGVudChodG1sXzBiNDhkMzFkOGEzMzQ1ODk5MmI0MjljYTIxNzA4MWE2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBkNTIxYWY5MzZkMDQyOTQ5ZjdlZjI5YzNmMWY3YjNmLmJpbmRQb3B1cChwb3B1cF8wOWFkMWM2MWMxY2U0YTc4YjYwN2M5NWRkYjQ0NmVmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNDQzYmI5MDI3MWY0ZDkxYTc3NTk5YjlmNDYyYjUwMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2ODIxMTIsLTc5LjU4NzIzMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzdjYjJiMjU0ZWUzNDViNjk1Y2Y4ZjAzYWU3ODk3ODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDI5ZGY5YjQwZGVkNDg3Y2E5MmZjMzQwODJlOTM4ZTcgPSAkKCc8ZGl2IGlkPSJodG1sXzAyOWRmOWI0MGRlZDQ4N2NhOTJmYzM0MDgyZTkzOGU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYW5hZGEgUG9zdCBHYXRld2F5IFByb2Nlc3NpbmcgQ2VudHJlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzdjYjJiMjU0ZWUzNDViNjk1Y2Y4ZjAzYWU3ODk3ODUuc2V0Q29udGVudChodG1sXzAyOWRmOWI0MGRlZDQ4N2NhOTJmYzM0MDgyZTkzOGU3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U0NDNiYjkwMjcxZjRkOTFhNzc1OTliOWY0NjJiNTAzLmJpbmRQb3B1cChwb3B1cF8zN2NiMmIyNTRlZTM0NWI2OTVjZjhmMDNhZTc4OTc4NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNjhiNDkzNGQ3NWM0YTIyYjI3MDA0YmJjYmExYmVhMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5OTUzOTEsLTc5LjU1NjM0NTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjU5YTk1MDE1Y2UxNDY5OGJjMmU4MjljY2Q3ZmQ5NzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmIyMGUzYzliY2RlNDlkNDliMTkxMjgyYTZhOGMyNTggPSAkKCc8ZGl2IGlkPSJodG1sX2ZiMjBlM2M5YmNkZTQ5ZDQ5YjE5MTI4MmE2YThjMjU4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LaW5nc3ZpZXcgVmlsbGFnZSxNYXJ0aW4gR3JvdmUgR2FyZGVucyxSaWNodmlldyBHYXJkZW5zLFN0LiBQaGlsbGlwcyBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1OWE5NTAxNWNlMTQ2OThiYzJlODI5Y2NkN2ZkOTcwLnNldENvbnRlbnQoaHRtbF9mYjIwZTNjOWJjZGU0OWQ0OWIxOTEyODJhNmE4YzI1OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNjhiNDkzNGQ3NWM0YTIyYjI3MDA0YmJjYmExYmVhMS5iaW5kUG9wdXAocG9wdXBfMjU5YTk1MDE1Y2UxNDY5OGJjMmU4MjljY2Q3ZmQ5NzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDlkNmE4ZWZkNDdkNDU1ZWEwZGRjZTNkNjY1Njg2ZjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODUzNTMxLC03OS4yNzg1NDk0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJjYWRmNDJjMTA1NjQ3OTBhMTg0ZGY3NGI4ZDM1YjYzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUzMmJkZTlhZTE0MjRkNTFiMjM1MTc0NjIyMDdkZWI1ID0gJCgnPGRpdiBpZD0iaHRtbF81MzJiZGU5YWUxNDI0ZDUxYjIzNTE3NDYyMjA3ZGViNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmNhZGY0MmMxMDU2NDc5MGExODRkZjc0YjhkMzViNjMuc2V0Q29udGVudChodG1sXzUzMmJkZTlhZTE0MjRkNTFiMjM1MTc0NjIyMDdkZWI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q5ZDZhOGVmZDQ3ZDQ1NWVhMGRkY2UzZDY2NTY4NmY5LmJpbmRQb3B1cChwb3B1cF8yY2FkZjQyYzEwNTY0NzkwYTE4NGRmNzRiOGQzNWI2Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZDdjMmE3MDc2MDU0M2E1YWZlY2ZlMDk4ZWFlOGJiOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNDMxMjMsLTc5LjM4ODUxNjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjlmODVhOTViOWFmNGIxZDlmYTE3M2VkMmUyZDE2NDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTY4MmQ4Mjg4MmEwNDAwZDlmMTk0MzUyZmIyN2MxZjMgPSAkKCc8ZGl2IGlkPSJodG1sXzU2ODJkODI4ODJhMDQwMGQ5ZjE5NDM1MmZiMjdjMWYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjlmODVhOTViOWFmNGIxZDlmYTE3M2VkMmUyZDE2NDcuc2V0Q29udGVudChodG1sXzU2ODJkODI4ODJhMDQwMGQ5ZjE5NDM1MmZiMjdjMWYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZkN2MyYTcwNzYwNTQzYTVhZmVjZmUwOThlYWU4YmI4LmJpbmRQb3B1cChwb3B1cF9mOWY4NWE5NWI5YWY0YjFkOWZhMTczZWQyZTJkMTY0Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NDlkNTRjMDZiYjY0MDU1ODQxMzU5NzRiM2ZlZDVmOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MTUyMjUsLTc5LjQwOTc0NDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWVkOTVkM2I1N2UxNDYzOGJiNWMzODQ0OWEyYTBmNWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmVkZjQ5MDhkMTZlNDJiOWI1ZDc4YWM0ZjJiNWMwNmQgPSAkKCc8ZGl2IGlkPSJodG1sX2ZlZGY0OTA4ZDE2ZTQyYjliNWQ3OGFjNGYyYjVjMDZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3JkLFVuaXZlcnNpdHkgb2YgVG9yb250byBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzllZDk1ZDNiNTdlMTQ2MzhiYjVjMzg0NDlhMmEwZjVjLnNldENvbnRlbnQoaHRtbF9mZWRmNDkwOGQxNmU0MmI5YjVkNzhhYzRmMmI1YzA2ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NDlkNTRjMDZiYjY0MDU1ODQxMzU5NzRiM2ZlZDVmOC5iaW5kUG9wdXAocG9wdXBfOWVkOTVkM2I1N2UxNDYzOGJiNWMzODQ0OWEyYTBmNWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmU5ZDZiNDQ0MWJhNDNhZWJkYTQ3ZDcyMzIwNGRlMTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU1ODAyLC03OS40ODIxMDc4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUyMmI1NTVjYjY2NjQ1N2NiODhkZjgxYTcyZWNkYjI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YxYWU1Y2M3ZWU5YjQ2ZjhhMjgyZjU1MmE1OGQ2ZjE4ID0gJCgnPGRpdiBpZD0iaHRtbF9mMWFlNWNjN2VlOWI0NmY4YTI4MmY1NTJhNThkNmYxOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLFN3YW5zZWEgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MjJiNTU1Y2I2NjY0NTdjYjg4ZGY4MWE3MmVjZGIyOC5zZXRDb250ZW50KGh0bWxfZjFhZTVjYzdlZTliNDZmOGEyODJmNTUyYTU4ZDZmMTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmU5ZDZiNDQ0MWJhNDNhZWJkYTQ3ZDcyMzIwNGRlMTguYmluZFBvcHVwKHBvcHVwXzUyMmI1NTVjYjY2NjQ1N2NiODhkZjgxYTcyZWNkYjI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYwMGYyMmQ1NDMzNDRkMTRhNDI1ZTJlNmY3NTljZjQyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk2NDA5NSwtNzkuMjk3Nzk1MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNTcwNTFmZjdkZTg0YmE3YmJmZDA3YzVkNGU5YjQ1YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lOTVlOGUyZGNmMGI0MDg5YjFmNjI0OGFlMWM2MDE1YSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTk1ZThlMmRjZjBiNDA4OWIxZjYyNDhhZTFjNjAxNWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsYXJrcyBDb3JuZXJzLFN1bGxpdmFuLFRhbSBPJiMzOTtTaGFudGVyIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTU3MDUxZmY3ZGU4NGJhN2JiZmQwN2M1ZDRlOWI0NWIuc2V0Q29udGVudChodG1sX2U5NWU4ZTJkY2YwYjQwODliMWY2MjQ4YWUxYzYwMTVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYwMGYyMmQ1NDMzNDRkMTRhNDI1ZTJlNmY3NTljZjQyLmJpbmRQb3B1cChwb3B1cF8xNTcwNTFmZjdkZTg0YmE3YmJmZDA3YzVkNGU5YjQ1Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZjNjMTllMzMyZDc0YzVmOGQzYWQzNTJjZjQ0Zjg5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MDM4NzYsLTc5LjM4MzI5NjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzA2YTAxYjdlNGNkNDBjZWIxYzhjN2FjMGY5YTI4NzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzFiNGI2YTlhNWU2NGU1MGIyOGVlMGFlOWVlMDM3MDggPSAkKCc8ZGl2IGlkPSJodG1sXzcxYjRiNmE5YTVlNjRlNTBiMjhlZTBhZTllZTAzNzA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb29yZSBQYXJrLFN1bW1lcmhpbGwgRWFzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwNmEwMWI3ZTRjZDQwY2ViMWM4YzdhYzBmOWEyODcyLnNldENvbnRlbnQoaHRtbF83MWI0YjZhOWE1ZTY0ZTUwYjI4ZWUwYWU5ZWUwMzcwOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZjNjMTllMzMyZDc0YzVmOGQzYWQzNTJjZjQ0Zjg5Ni5iaW5kUG9wdXAocG9wdXBfMzA2YTAxYjdlNGNkNDBjZWIxYzhjN2FjMGY5YTI4NzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGM1YjIxZGZlNGZjNGRjNjg2MjU0M2ViOGJmMDE5NTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTI5MjM3LC03OS4zOTgwMzE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlMWQ0ODUzZjYxYTQ3MWE4OWM3MWZiZmU0NzM4MWFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U3ZDNmYWI4MjJlMzRiMjZhYjAzMGU3MDU4YmIxZmFmID0gJCgnPGRpdiBpZD0iaHRtbF9lN2QzZmFiODIyZTM0YjI2YWIwMzBlNzA1OGJiMWZhZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmF0b3duLEdyYW5nZSBQYXJrLEtlbnNpbmd0b24gTWFya2V0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmUxZDQ4NTNmNjFhNDcxYTg5YzcxZmJmZTQ3MzgxYWYuc2V0Q29udGVudChodG1sX2U3ZDNmYWI4MjJlMzRiMjZhYjAzMGU3MDU4YmIxZmFmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBjNWIyMWRmZTRmYzRkYzY4NjI1NDNlYjhiZjAxOTUxLmJpbmRQb3B1cChwb3B1cF9mZTFkNDg1M2Y2MWE0NzFhODljNzFmYmZlNDczODFhZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYTYxMDc2OTU3ZTg0YTE2YTUxOTE3ZTE4OWZlNmRmNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwODAzODMsLTc5LjI2NjQzOTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODA1OGIyZmYwY2EyNDgwNGEzZWY1OTBhZmQwZDA3OGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTI3NGZmYTFiM2Y4NDg2Y2I1ZDZhMDU5YmE0YTE2ZjAgPSAkKCc8ZGl2IGlkPSJodG1sXzEyNzRmZmExYjNmODQ4NmNiNWQ2YTA1OWJhNGExNmYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQgTm9ydGgsTCYjMzk7QW1vcmVhdXggRWFzdCxNaWxsaWtlbixTdGVlbGVzIEVhc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MDU4YjJmZjBjYTI0ODA0YTNlZjU5MGFmZDBkMDc4Zi5zZXRDb250ZW50KGh0bWxfMTI3NGZmYTFiM2Y4NDg2Y2I1ZDZhMDU5YmE0YTE2ZjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2E2MTA3Njk1N2U4NGExNmE1MTkxN2UxODlmZTZkZjcuYmluZFBvcHVwKHBvcHVwXzgwNThiMmZmMGNhMjQ4MDRhM2VmNTkwYWZkMGQwNzhmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY5ZDgwMTY2NGU2MzQ3ZjVhZDgwNzFlOGMzYjgyYTgxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg4MDksLTc5LjM5NDA5MzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDY1MDE3MjFiMjkyNDQzOGIyZDQ5NDhiNzhiYTMxODggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2EzMGVlY2UwYmEwNDM5ZmI4YmZhMGM2ZDNlZWE5NDUgPSAkKCc8ZGl2IGlkPSJodG1sXzdhMzBlZWNlMGJhMDQzOWZiOGJmYTBjNmQzZWVhOTQ1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWVyIFBhcmssRm9yZXN0IEhpbGwgU0UsUmF0aG5lbGx5LFNvdXRoIEhpbGwsU3VtbWVyaGlsbCBXZXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDY1MDE3MjFiMjkyNDQzOGIyZDQ5NDhiNzhiYTMxODguc2V0Q29udGVudChodG1sXzdhMzBlZWNlMGJhMDQzOWZiOGJmYTBjNmQzZWVhOTQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY5ZDgwMTY2NGU2MzQ3ZjVhZDgwNzFlOGMzYjgyYTgxLmJpbmRQb3B1cChwb3B1cF80NjUwMTcyMWIyOTI0NDM4YjJkNDk0OGI3OGJhMzE4OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZDcxNWY0MTI2ZWQ0NWI1OTA2MjA0YzliMGQwMThjYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MjU2MzcsLTc5LjM4NzA4NzE4MzIwNDddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTllMWI3Y2NkNjZhNGE3M2JiYmFhMzVhN2NjMTAwNjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWU3MTk1ZWVlMGZhNDUzMGFjMzBjMWIxZmNmOWU1YjggPSAkKCc8ZGl2IGlkPSJodG1sX2VlNzE5NWVlZTBmYTQ1MzBhYzMwYzFiMWZjZjllNWI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DTiBUb3dlcixCYXRodXJzdCBRdWF5LElzbGFuZCBhaXJwb3J0LEhhcmJvdXJmcm9udCBXZXN0LEtpbmcgYW5kIFNwYWRpbmEsUmFpbHdheSBMYW5kcyxTb3V0aCBOaWFnYXJhIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTllMWI3Y2NkNjZhNGE3M2JiYmFhMzVhN2NjMTAwNjEuc2V0Q29udGVudChodG1sX2VlNzE5NWVlZTBmYTQ1MzBhYzMwYzFiMWZjZjllNWI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkNzE1ZjQxMjZlZDQ1YjU5MDYyMDRjOWIwZDAxOGNiLmJpbmRQb3B1cChwb3B1cF85OWUxYjdjY2Q2NmE0YTczYmJiYWEzNWE3Y2MxMDA2MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNjI5ZWNjZTlmNGQ0ZTAzODVjMDc0Yjk0MGUyOTQ3MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MTQ1OTE1LC03OS41NTI0OTIwNjYxMTY3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1NGFmM2FhZWFlMzQ4MTNhZmZlNmQ4YjE5ZDhiMTQyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc0MjE3MGQxYjQ0MjRjNTZiNWYxNWVjZWM1MGRiZjQ4ID0gJCgnPGRpdiBpZD0iaHRtbF83NDIxNzBkMWI0NDI0YzU2YjVmMTVlY2VjNTBkYmY0OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSBTaG9yZXMsTWltaWNvIFNvdXRoLE5ldyBUb3JvbnRvIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjU0YWYzYWFlYWUzNDgxM2FmZmU2ZDhiMTlkOGIxNDIuc2V0Q29udGVudChodG1sXzc0MjE3MGQxYjQ0MjRjNTZiNWYxNWVjZWM1MGRiZjQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q2MjllY2NlOWY0ZDRlMDM4NWMwNzRiOTQwZTI5NDcyLmJpbmRQb3B1cChwb3B1cF8yNTRhZjNhYWVhZTM0ODEzYWZmZTZkOGIxOWQ4YjE0Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYjYyMTIxOTQ5NmI0MjliYWM0MmI1NDY1ZGY5NzliNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDkwMzMsLTc5LjM4MTgzNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2Q4ZjBmMzk1ODNmNDIwNTkxMWViMzg5ODg0ZDc1ZTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTM5YmNiY2UyNTIzNDY0MGExOTk1MTU3OThlZTg2MDAgPSAkKCc8ZGl2IGlkPSJodG1sXzUzOWJjYmNlMjUyMzQ2NDBhMTk5NTE1Nzk4ZWU4NjAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGJpb24gR2FyZGVucyxCZWF1bW9uZCBIZWlnaHRzLEh1bWJlcmdhdGUsSmFtZXN0b3duLE1vdW50IE9saXZlLFNpbHZlcnN0b25lLFNvdXRoIFN0ZWVsZXMsVGhpc3RsZXRvd24gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZDhmMGYzOTU4M2Y0MjA1OTExZWIzODk4ODRkNzVlNS5zZXRDb250ZW50KGh0bWxfNTM5YmNiY2UyNTIzNDY0MGExOTk1MTU3OThlZTg2MDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGI2MjEyMTk0OTZiNDI5YmFjNDJiNTQ2NWRmOTc5YjcuYmluZFBvcHVwKHBvcHVwXzNkOGYwZjM5NTgzZjQyMDU5MTFlYjM4OTg4NGQ3NWU1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzcxZjcwY2E4ZWUxNTQ3NjNhZDFlNzU1NDhjMzQzY2Q2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk5MDAzLC03OS4zMDU5NjY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUwZDA5Yzc1M2IzYzQ3ZDJhYTJjYjAxYjgyZjQ0Yzc3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg2ZmU2NGU0NGRkYzRiMGQ5OGJhMjY2M2FmYTAyYmE1ID0gJCgnPGRpdiBpZD0iaHRtbF84NmZlNjRlNDRkZGM0YjBkOThiYTI2NjNhZmEwMmJhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TCYjMzk7QW1vcmVhdXggV2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUwZDA5Yzc1M2IzYzQ3ZDJhYTJjYjAxYjgyZjQ0Yzc3LnNldENvbnRlbnQoaHRtbF84NmZlNjRlNDRkZGM0YjBkOThiYTI2NjNhZmEwMmJhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MWY3MGNhOGVlMTU0NzYzYWQxZTc1NTQ4YzM0M2NkNi5iaW5kUG9wdXAocG9wdXBfNTBkMDljNzUzYjNjNDdkMmFhMmNiMDFiODJmNDRjNzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDM4YTM3OGYxZWVlNDk4MmE5MGIzNmY1NDI5NjFiYWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzgzNTU2LC03OS4zODA3NDU3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U4ZDM0ZTU1YjIzOTRiYzk5Y2I3ZDg0YzA5M2ZlNzYxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YxODMwNGZmMmI3MDQ2MTg5MjEyOGJhY2IzMTAzZDA5ID0gJCgnPGRpdiBpZD0iaHRtbF9mMTgzMDRmZjJiNzA0NjE4OTIxMjhiYWNiMzEwM2QwOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWRhbGUgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lOGQzNGU1NWIyMzk0YmM5OWNiN2Q4NGMwOTNmZTc2MS5zZXRDb250ZW50KGh0bWxfZjE4MzA0ZmYyYjcwNDYxODkyMTI4YmFjYjMxMDNkMDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDM4YTM3OGYxZWVlNDk4MmE5MGIzNmY1NDI5NjFiYWUuYmluZFBvcHVwKHBvcHVwX2U4ZDM0ZTU1YjIzOTRiYzk5Y2I3ZDg0YzA5M2ZlNzYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ViNDQ1MzI1NmMxOTQ2ODQ4NWY3ZjAxNzEzNzE2Yzk1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU1MTE1LC03OS4zODAyMTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTE3MTJiZGU4NzQ1NDdhYmI5YTAxZWQ0MGViNWE4YWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2Q3ZDg5MzkxOTkyNDI0YTk5OTNkNmYzNzRkNWI2N2YgPSAkKCc8ZGl2IGlkPSJodG1sX2NkN2Q4OTM5MTk5MjQyNGE5OTkzZDZmMzc0ZDViNjdmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG4gQSBQTyBCb3hlcyAyNSBUaGUgRXNwbGFuYWRlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTE3MTJiZGU4NzQ1NDdhYmI5YTAxZWQ0MGViNWE4YWIuc2V0Q29udGVudChodG1sX2NkN2Q4OTM5MTk5MjQyNGE5OTkzZDZmMzc0ZDViNjdmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ViNDQ1MzI1NmMxOTQ2ODQ4NWY3ZjAxNzEzNzE2Yzk1LmJpbmRQb3B1cChwb3B1cF9hMTcxMmJkZTg3NDU0N2FiYjlhMDFlZDQwZWI1YThhYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZjhjOTE1YjA0ZjY0MTdhODgwZWE1YmM2OTk3NzQxZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMTcxNzMsLTc5LjU0NTIzMjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjAzZjJhNzNkN2VjNDhmNjg3ZjZjMWY4MzE0MTIxYmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODU4ZmFkOWNlMDNjNDM4ZGEzZjE5MjM0MjBlZTY5OTEgPSAkKCc8ZGl2IGlkPSJodG1sXzg1OGZhZDljZTAzYzQzOGRhM2YxOTIzNDIwZWU2OTkxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGRlcndvb2QsTG9uZyBCcmFuY2ggQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MDNmMmE3M2Q3ZWM0OGY2ODdmNmMxZjgzMTQxMjFiYS5zZXRDb250ZW50KGh0bWxfODU4ZmFkOWNlMDNjNDM4ZGEzZjE5MjM0MjBlZTY5OTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2Y4YzkxNWIwNGY2NDE3YTg4MGVhNWJjNjk5Nzc0MWQuYmluZFBvcHVwKHBvcHVwXzYwM2YyYTczZDdlYzQ4ZjY4N2Y2YzFmODMxNDEyMWJhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ViZDhhZWU4MWNiYTRhMjA5YTg2MjBhYTI0NjViN2MxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2NTQ2NiwtNzkuNDE5NTI2M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOTFkZGRiYWNhZTc0ZjRlOTBhNTBkZmQ4MTdjODlmMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMGVmOGE3MmJkMzQ0ZTg0YWE3NTdiNjBhODNhODk5NSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDBlZjhhNzJiZDM0NGU4NGFhNzU3YjYwYTgzYTg5OTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI5MWRkZGJhY2FlNzRmNGU5MGE1MGRmZDgxN2M4OWYwLnNldENvbnRlbnQoaHRtbF9kMGVmOGE3MmJkMzQ0ZTg0YWE3NTdiNjBhODNhODk5NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYmQ4YWVlODFjYmE0YTIwOWE4NjIwYWEyNDY1YjdjMS5iaW5kUG9wdXAocG9wdXBfMjkxZGRkYmFjYWU3NGY0ZTkwYTUwZGZkODE3Yzg5ZjApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWFmM2FlNzg1MDFkNDMzNDkyNzdiMTRkNmY0OGRhZTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDQ5MzA0LC03OS4xNjU4Mzc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFiZWE0MzlkMDYxODQ3MTY4MTA2ZDJhYjE4ZTVjZmMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhlZWE0OTdiMWFhMTQ5ZjY5Mjk5OGIwNThmNmUwYjJhID0gJCgnPGRpdiBpZD0iaHRtbF84ZWVhNDk3YjFhYTE0OWY2OTI5OThiMDU4ZjZlMGIyYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYmVhNDM5ZDA2MTg0NzE2ODEwNmQyYWIxOGU1Y2ZjMC5zZXRDb250ZW50KGh0bWxfOGVlYTQ5N2IxYWExNDlmNjkyOTk4YjA1OGY2ZTBiMmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWFmM2FlNzg1MDFkNDMzNDkyNzdiMTRkNmY0OGRhZTEuYmluZFBvcHVwKHBvcHVwXzFiZWE0MzlkMDYxODQ3MTY4MTA2ZDJhYjE4ZTVjZmMwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhkY2M0ODhiYjZiNzRjZTJhMDllNDkyMGMxOWQ5MGE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY0NDczNCwtNzkuMzY2OTg2MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZGRhMDlhZGVmOTg0ODNkOTM0ZWEzMzExYWUxYzRiYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YTFhN2NhNWVkNzM0NDkxYTczMzUwZjdiOWQxMDYyYiA9ICQoJzxkaXYgaWQ9Imh0bWxfNmExYTdjYTVlZDczNDQ5MWE3MzM1MGY3YjlkMTA2MmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhYmJhZ2V0b3duLFN0LiBKYW1lcyBUb3duIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmRkYTA5YWRlZjk4NDgzZDkzNGVhMzMxMWFlMWM0YmEuc2V0Q29udGVudChodG1sXzZhMWE3Y2E1ZWQ3MzQ0OTFhNzMzNTBmN2I5ZDEwNjJiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhkY2M0ODhiYjZiNzRjZTJhMDllNDkyMGMxOWQ5MGE1LmJpbmRQb3B1cChwb3B1cF8yZGRhMDlhZGVmOTg0ODNkOTM0ZWEzMzExYWUxYzRiYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MzdiMzJiMjFjOTM0Y2Y4OWY3ODFiOTViNWNlZGM1OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODc2ODEsLTc5LjM4MTY5MTc5MjgzMDNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWM3YmY2M2QxYjJhNDFkYmIyM2E2YzdkNzg5ZWM4YmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDE5MmUyNmVlYzBiNDU0NTg1ZmRhMjZkMzEzNmRjMDcgPSAkKCc8ZGl2IGlkPSJodG1sXzQxOTJlMjZlZWMwYjQ1NDU4NWZkYTI2ZDMxMzZkYzA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaXJzdCBDYW5hZGlhbiBQbGFjZSxVbmRlcmdyb3VuZCBjaXR5IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWM3YmY2M2QxYjJhNDFkYmIyM2E2YzdkNzg5ZWM4YmMuc2V0Q29udGVudChodG1sXzQxOTJlMjZlZWMwYjQ1NDU4NWZkYTI2ZDMxMzZkYzA3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkzN2IzMmIyMWM5MzRjZjg5Zjc4MWI5NWI1Y2VkYzU4LmJpbmRQb3B1cChwb3B1cF85YzdiZjYzZDFiMmE0MWRiYjIzYTZjN2Q3ODllYzhiYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NDBiOTM4YzBlMDI0YWM4OWU3MTQwOTE4NDQ5ZTA5YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzM4MTEsLTc5LjUxMTMzMjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWU1YjMxNGU4M2NiNDQ1N2JiODQ4MjkzZTgxZTZiZGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmFmMTEwYWUwOGEyNDhlMThmZWE1YzZmMmVlOTUxNTkgPSAkKCc8ZGl2IGlkPSJodG1sXzJhZjExMGFlMDhhMjQ4ZTE4ZmVhNWM2ZjJlZTk1MTU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgS2luZ3N3YXksTW9udGdvbWVyeSBSb2FkLE9sZCBNaWxsIE5vcnRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWU1YjMxNGU4M2NiNDQ1N2JiODQ4MjkzZTgxZTZiZGMuc2V0Q29udGVudChodG1sXzJhZjExMGFlMDhhMjQ4ZTE4ZmVhNWM2ZjJlZTk1MTU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ0MGI5MzhjMGUwMjRhYzg5ZTcxNDA5MTg0NDllMDliLmJpbmRQb3B1cChwb3B1cF8xZTViMzE0ZTgzY2I0NDU3YmI4NDgyOTNlODFlNmJkYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOTVkNTIzNjVjNTQ0Njk1YjNhODA5NWE0ZjcxYTg5YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NTUyNDIsLTc5LjM4MzgwMTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfN2Y0ZWFiYjI4MjZmNDIxMzlhNmU3NmU0Y2RhMmJjMzQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjA3ZTIzZGE5NjIxNGJhOWFkMjgyMjA2YzEzZDk0YmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGE5YjdkODNjMDZjNDBkOWIwNGM3Yjk2NTU3MmIyZmMgPSAkKCc8ZGl2IGlkPSJodG1sXzBhOWI3ZDgzYzA2YzQwZDliMDRjN2I5NjU1NzJiMmZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHVyY2ggYW5kIFdlbGxlc2xleSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwN2UyM2RhOTYyMTRiYTlhZDI4MjIwNmMxM2Q5NGJiLnNldENvbnRlbnQoaHRtbF8wYTliN2Q4M2MwNmM0MGQ5YjA0YzdiOTY1NTcyYjJmYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lOTVkNTIzNjVjNTQ0Njk1YjNhODA5NWE0ZjcxYTg5Yi5iaW5kUG9wdXAocG9wdXBfYjA3ZTIzZGE5NjIxNGJhOWFkMjgyMjA2YzEzZDk0YmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTM4Y2YwZGUxNjdmNGUxMzhkMjQ5YmVlOGFkZjRmOWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MjYyNDMsLTc5LjM5Njk2Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNmM2YWZjMjc4ZjA0MmM1OTZmZDU3N2QyYzNiZjI1YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kODBhN2Q0NDQ1YTI0NTViODgxMGVjMzM2ZDFiZmViZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZDgwYTdkNDQ0NWEyNDU1Yjg4MTBlYzMzNmQxYmZlYmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJ1c2luZXNzIFJlcGx5IE1haWwgUHJvY2Vzc2luZyBDZW50cmUgOTY5IEVhc3Rlcm4gQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lNmM2YWZjMjc4ZjA0MmM1OTZmZDU3N2QyYzNiZjI1YS5zZXRDb250ZW50KGh0bWxfZDgwYTdkNDQ0NWEyNDU1Yjg4MTBlYzMzNmQxYmZlYmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTM4Y2YwZGUxNjdmNGUxMzhkMjQ5YmVlOGFkZjRmOWUuYmluZFBvcHVwKHBvcHVwX2U2YzZhZmMyNzhmMDQyYzU5NmZkNTc3ZDJjM2JmMjVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllYzMwMGUxYmQxNDQyMTRiOTRhYzBkNTA0ZjdlZWMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQwMDQ2MywtNzkuNDk1MDI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzdmNGVhYmIyODI2ZjQyMTM5YTZlNzZlNGNkYTJiYzM0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M1MDUyYWI3ZjAwNTRhODdhODJmMGE1YmIyYTY3NWQ3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhODQzZGNhMWE1MjRkMmM4YzM4NzNjZTg1YzQwZmM4ID0gJCgnPGRpdiBpZD0iaHRtbF8zYTg0M2RjYTFhNTI0ZDJjOGMzODczY2U4NWM0MGZjOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSxLaW5nJiMzOTtzIE1pbGwgUGFyayxLaW5nc3dheSBQYXJrIFNvdXRoIEVhc3QsTWltaWNvIE5FLE9sZCBNaWxsIFNvdXRoLFRoZSBRdWVlbnN3YXkgRWFzdCxSb3lhbCBZb3JrIFNvdXRoIEVhc3QsU3VubnlsZWEgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNTA1MmFiN2YwMDU0YTg3YTgyZjBhNWJiMmE2NzVkNy5zZXRDb250ZW50KGh0bWxfM2E4NDNkY2ExYTUyNGQyYzhjMzg3M2NlODVjNDBmYzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWVjMzAwZTFiZDE0NDIxNGI5NGFjMGQ1MDRmN2VlYzIuYmluZFBvcHVwKHBvcHVwX2M1MDUyYWI3ZjAwNTRhODdhODJmMGE1YmIyYTY3NWQ3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JiNTgzZTc3ZmI2MjQ2ODliNWU2OGUwNThkMzE4NjBlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3MzgxMSwtNzkuNTExMzMyOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF83ZjRlYWJiMjgyNmY0MjEzOWE2ZTc2ZTRjZGEyYmMzNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNmQzNmNiMTM3MTg0MDBmYTU1ZmFhZWNjMzIwZTllZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MGY3YjAxNzE4NjQ0YTNiOTUwODY3ZmVkNGRjMjlmNSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjBmN2IwMTcxODY0NGEzYjk1MDg2N2ZlZDRkYzI5ZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzd2F5IFBhcmsgU291dGggV2VzdCxNaW1pY28gTlcsVGhlIFF1ZWVuc3dheSBXZXN0LFJveWFsIFlvcmsgU291dGggV2VzdCxTb3V0aCBvZiBCbG9vciBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM2ZDM2Y2IxMzcxODQwMGZhNTVmYWFlY2MzMjBlOWVmLnNldENvbnRlbnQoaHRtbF82MGY3YjAxNzE4NjQ0YTNiOTUwODY3ZmVkNGRjMjlmNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYjU4M2U3N2ZiNjI0Njg5YjVlNjhlMDU4ZDMxODYwZS5iaW5kUG9wdXAocG9wdXBfMzZkMzZjYjEzNzE4NDAwZmE1NWZhYWVjYzMyMGU5ZWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fd0035764a8>"
      ]
     },
     "execution_count": 59,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Visualize the clusters\n",
    "\n",
    "# create map\n",
    "map_clusters = folium.Map(location=[TorLat, TorLon], zoom_start=11)\n",
    "\n",
    "# set color scheme for the clusters\n",
    "x = np.arange(kclusters)\n",
    "ys = [i + x + (i*x)**2 for i in range(kclusters)]\n",
    "colors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\n",
    "rainbow = [colors.rgb2hex(i) for i in colors_array]\n",
    "\n",
    "# add markers to the map\n",
    "markers_colors = []\n",
    "for lat, lon, poi, cluster in zip(Toronto_merged['Latitude'], Toronto_merged['Longitude'], Toronto_merged['Neighbourhood'], Toronto_merged['Cluster Labels']):\n",
    "    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lon],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color=rainbow[cluster-1],\n",
    "        fill=True,\n",
    "        fill_color=rainbow[cluster-1],\n",
    "        fill_opacity=0.7).add_to(map_clusters)\n",
    "       \n",
    "map_clusters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>York</td>\n",
       "      <td>0</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Park</td>\n",
       "      <td>Wine Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Donut Shop</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Shipping Store</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>York</td>\n",
       "      <td>0</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Park</td>\n",
       "      <td>Wine Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>East York</td>\n",
       "      <td>0</td>\n",
       "      <td>Park</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Gas Station</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>44</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Flea Market</td>\n",
       "      <td>Fish Market</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>56</th>\n",
       "      <td>York</td>\n",
       "      <td>0</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Park</td>\n",
       "      <td>Wine Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "16         York               0         Grocery Store                  Park   \n",
       "17    Etobicoke               0     Convenience Store            Donut Shop   \n",
       "21         York               0         Grocery Store                  Park   \n",
       "23    East York               0                  Park     Convenience Store   \n",
       "28   North York               0                  Park            Playground   \n",
       "38  Scarborough               0            Beer Store     Convenience Store   \n",
       "44  Scarborough               0  Fast Food Restaurant     Convenience Store   \n",
       "56         York               0         Grocery Store                  Park   \n",
       "82  Scarborough               0  Caribbean Restaurant     Convenience Store   \n",
       "\n",
       "   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "16             Wine Shop     Convenience Store        Sandwich Place   \n",
       "17           Coffee Shop        Shipping Store          Intersection   \n",
       "21             Wine Shop     Convenience Store        Sandwich Place   \n",
       "23        Sandwich Place   Japanese Restaurant           Yoga Studio   \n",
       "28     Convenience Store        Baseball Field           Yoga Studio   \n",
       "38           Gas Station         Grocery Store  Fast Food Restaurant   \n",
       "44                 Diner        Sandwich Place         Grocery Store   \n",
       "56             Wine Shop     Convenience Store        Sandwich Place   \n",
       "82   Filipino Restaurant  Ethiopian Restaurant           Event Space   \n",
       "\n",
       "   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "16        Discount Store   Empanada Restaurant  Ethiopian Restaurant   \n",
       "17         Deli / Bodega        Sandwich Place  Ethiopian Restaurant   \n",
       "21        Discount Store   Empanada Restaurant  Ethiopian Restaurant   \n",
       "23  Ethiopian Restaurant           Event Space               Exhibit   \n",
       "28  Ethiopian Restaurant           Event Space               Exhibit   \n",
       "38  Ethiopian Restaurant           Event Space               Exhibit   \n",
       "44    Mexican Restaurant           Flea Market           Fish Market   \n",
       "56        Discount Store   Empanada Restaurant  Ethiopian Restaurant   \n",
       "82               Exhibit    Falafel Restaurant        Farmers Market   \n",
       "\n",
       "   9th Most Common Venue 10th Most Common Venue  \n",
       "16           Event Space                Exhibit  \n",
       "17           Event Space                Exhibit  \n",
       "21           Event Space                Exhibit  \n",
       "23    Falafel Restaurant         Farmers Market  \n",
       "28    Falafel Restaurant         Farmers Market  \n",
       "38    Falafel Restaurant         Farmers Market  \n",
       "44     Fish & Chips Shop    Filipino Restaurant  \n",
       "56           Event Space                Exhibit  \n",
       "82  Fast Food Restaurant            Yoga Studio  "
      ]
     },
     "execution_count": 60,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Examine each cluster\n",
    "\n",
    "Toronto_merged.loc[Toronto_merged['Cluster Labels'] == 0, Toronto_merged.columns[[1] + list(range(5, Toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This cluster seems to be focused on convenience and grocery stores"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>1</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Park</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>1</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>East York</td>\n",
       "      <td>1</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Bus Stop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Fish Market</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50</th>\n",
       "      <td>North York</td>\n",
       "      <td>1</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>1</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Park</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>101</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>1</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Park</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Borough  Cluster Labels 1st Most Common Venue  \\\n",
       "6    Scarborough               1  Fast Food Restaurant   \n",
       "12   Scarborough               1              Pharmacy   \n",
       "14     East York               1          Skating Rink   \n",
       "50    North York               1   Empanada Restaurant   \n",
       "95   Scarborough               1  Fast Food Restaurant   \n",
       "101    Etobicoke               1        Breakfast Spot   \n",
       "\n",
       "          2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n",
       "6                      Pharmacy                  Park        Farmers Market   \n",
       "12                         Park           Yoga Studio        Farmers Market   \n",
       "14               Cosmetics Shop              Pharmacy    Athletics & Sports   \n",
       "50   Construction & Landscaping                  Park                Bakery   \n",
       "95                     Pharmacy                  Park        Farmers Market   \n",
       "101  Construction & Landscaping                  Park  Fast Food Restaurant   \n",
       "\n",
       "    5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "6     Empanada Restaurant  Ethiopian Restaurant           Event Space   \n",
       "12    Empanada Restaurant  Ethiopian Restaurant           Event Space   \n",
       "14               Bus Stop                  Park          Dance Studio   \n",
       "50   Fast Food Restaurant  Ethiopian Restaurant           Event Space   \n",
       "95    Empanada Restaurant  Ethiopian Restaurant           Event Space   \n",
       "101  Ethiopian Restaurant           Event Space               Exhibit   \n",
       "\n",
       "    8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n",
       "6                 Exhibit    Falafel Restaurant            Yoga Studio  \n",
       "12                Exhibit    Falafel Restaurant   Fast Food Restaurant  \n",
       "14            Fish Market     Fish & Chips Shop    Filipino Restaurant  \n",
       "50                Exhibit    Falafel Restaurant         Farmers Market  \n",
       "95                Exhibit    Falafel Restaurant            Yoga Studio  \n",
       "101    Falafel Restaurant        Farmers Market    Filipino Restaurant  "
      ]
     },
     "execution_count": 61,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_merged.loc[Toronto_merged['Cluster Labels'] == 1, Toronto_merged.columns[[1] + list(range(5, Toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The above cluster seems to have restaurants, pharmacies and parks."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>34</th>\n",
       "      <td>North York</td>\n",
       "      <td>2</td>\n",
       "      <td>Park</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>45</th>\n",
       "      <td>North York</td>\n",
       "      <td>2</td>\n",
       "      <td>Park</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>58</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>2</td>\n",
       "      <td>Park</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Gym Pool</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>70</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>2</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>2</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>91</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>2</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Bike Trail</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             Borough  Cluster Labels 1st Most Common Venue  \\\n",
       "34        North York               2                  Park   \n",
       "45        North York               2                  Park   \n",
       "58       Scarborough               2                  Park   \n",
       "70         Etobicoke               2           Pizza Place   \n",
       "77         Etobicoke               2                  Park   \n",
       "91  Downtown Toronto               2                  Park   \n",
       "\n",
       "        2nd Most Common Venue 3rd Most Common Venue  \\\n",
       "34             Baseball Field           Yoga Studio   \n",
       "45  Middle Eastern Restaurant  Fast Food Restaurant   \n",
       "58                        Gym              Gym Pool   \n",
       "70                       Park           Yoga Studio   \n",
       "77                Yoga Studio  Fast Food Restaurant   \n",
       "91                 Playground            Bike Trail   \n",
       "\n",
       "          4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \\\n",
       "34         Fast Food Restaurant           Event Space               Exhibit   \n",
       "45         Ethiopian Restaurant           Event Space               Exhibit   \n",
       "58  Eastern European Restaurant   Empanada Restaurant  Ethiopian Restaurant   \n",
       "70               Farmers Market   Empanada Restaurant  Ethiopian Restaurant   \n",
       "77         Ethiopian Restaurant           Event Space               Exhibit   \n",
       "91                  Yoga Studio  Ethiopian Restaurant           Event Space   \n",
       "\n",
       "   7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \\\n",
       "34    Falafel Restaurant        Farmers Market   Filipino Restaurant   \n",
       "45    Falafel Restaurant        Farmers Market   Filipino Restaurant   \n",
       "58           Event Space               Exhibit    Falafel Restaurant   \n",
       "70           Event Space               Exhibit    Falafel Restaurant   \n",
       "77    Falafel Restaurant        Farmers Market   Filipino Restaurant   \n",
       "91               Exhibit    Falafel Restaurant        Farmers Market   \n",
       "\n",
       "   10th Most Common Venue  \n",
       "34    Empanada Restaurant  \n",
       "45      Electronics Store  \n",
       "58         Farmers Market  \n",
       "70   Fast Food Restaurant  \n",
       "77      Electronics Store  \n",
       "91   Fast Food Restaurant  "
      ]
     },
     "execution_count": 62,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_merged.loc[Toronto_merged['Cluster Labels'] == 2, Toronto_merged.columns[[1] + list(range(5, Toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The above segment is more focused on sports, fields, gyms, yoga and parks."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Laundry Service</td>\n",
       "      <td>Café</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Music Venue</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Men's Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Toy / Game Store</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Scenic Lookout</td>\n",
       "      <td>Café</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Chocolate Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>East York</td>\n",
       "      <td>3</td>\n",
       "      <td>Park</td>\n",
       "      <td>Hobby Shop</td>\n",
       "      <td>Outdoors &amp; Recreation</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Fish Market</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Arts &amp; Crafts Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Liquor Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Science Museum</td>\n",
       "      <td>Office</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Nightclub</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Café</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Hostel</td>\n",
       "      <td>Library</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Market</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Food &amp; Drink Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Train Station</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Storage Facility</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>East Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Beach</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Salon / Barbershop</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Park</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Beer Bar</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Optical Shop</td>\n",
       "      <td>Toy / Game Store</td>\n",
       "      <td>Gym</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Burrito Place</td>\n",
       "      <td>Smoothie Shop</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Optical Shop</td>\n",
       "      <td>Toy / Game Store</td>\n",
       "      <td>Big Box Store</td>\n",
       "      <td>Grocery Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Recreation Center</td>\n",
       "      <td>Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>East York</td>\n",
       "      <td>3</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Afghan Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Turkish Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Park</td>\n",
       "      <td>Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Salad Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>American Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Café</td>\n",
       "      <td>Brazilian Restaurant</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Flea Market</td>\n",
       "      <td>Fish Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>32</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>American Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>36</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Music Venue</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>37</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Café</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Wine Bar</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>39</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Auto Garage</td>\n",
       "      <td>Outdoor Supply Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Fish Market</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Café</td>\n",
       "      <td>Park</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Plaza</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>66</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Optical Shop</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Tennis Court</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>67</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Brewery</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>68</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>69</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Zoo</td>\n",
       "      <td>Garden</td>\n",
       "      <td>Other Great Outdoors</td>\n",
       "      <td>Park</td>\n",
       "      <td>Scenic Lookout</td>\n",
       "      <td>Café</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Pool</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>71</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Pet Store</td>\n",
       "      <td>Paper / Office Supplies Store</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Beer Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>72</th>\n",
       "      <td>North York</td>\n",
       "      <td>3</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Wings Joint</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Café</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>Café</td>\n",
       "      <td>New American Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Men's Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Park</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Donut Shop</td>\n",
       "      <td>Bistro</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Café</td>\n",
       "      <td>Tibetan Restaurant</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Dumpling Restaurant</td>\n",
       "      <td>Lake</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>Mississauga</td>\n",
       "      <td>3</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Aquarium</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>78</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Cantonese Restaurant</td>\n",
       "      <td>Hong Kong Restaurant</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Train Station</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Brewery</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>80</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Beer Bar</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Café</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Park</td>\n",
       "      <td>Coffee Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Café</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>83</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Tennis Court</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>84</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Café</td>\n",
       "      <td>Vegetarian / Vegan Restaurant</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Dumpling Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Coffee Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Taco Place</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Spa</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Bagel Shop</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>87</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Aquarium</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Scenic Lookout</td>\n",
       "      <td>History Museum</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Bistro</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>88</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Garden</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Aquarium</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Scenic Lookout</td>\n",
       "      <td>Salad Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>90</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>92</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Café</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>93</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>94</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>Café</td>\n",
       "      <td>New American Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Men's Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Gastropub</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Seafood Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Burger Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Tapas Restaurant</td>\n",
       "      <td>Gastropub</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>99</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Gay Bar</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Nightclub</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>102</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>3</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Tapas Restaurant</td>\n",
       "      <td>Gastropub</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>80 rows × 12 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "              Borough  Cluster Labels      1st Most Common Venue  \\\n",
       "0          North York               3                Pizza Place   \n",
       "1          North York               3  Middle Eastern Restaurant   \n",
       "2    Downtown Toronto               3                Coffee Shop   \n",
       "3          North York               3             Clothing Store   \n",
       "4        Queen's Park               3                Coffee Shop   \n",
       "5           Etobicoke               3                      Hotel   \n",
       "7          North York               3                Coffee Shop   \n",
       "8           East York               3                       Park   \n",
       "9    Downtown Toronto               3        Sporting Goods Shop   \n",
       "10         North York               3              Grocery Store   \n",
       "11          Etobicoke               3                Coffee Shop   \n",
       "13         North York               3             Science Museum   \n",
       "15   Downtown Toronto               3                Coffee Shop   \n",
       "18        Scarborough               3              Train Station   \n",
       "19       East Toronto               3                      Beach   \n",
       "20   Downtown Toronto               3                Coffee Shop   \n",
       "22        Scarborough               3       Fast Food Restaurant   \n",
       "24   Downtown Toronto               3                Coffee Shop   \n",
       "25   Downtown Toronto               3          Korean Restaurant   \n",
       "26        Scarborough               3       Fast Food Restaurant   \n",
       "27         North York               3                Pizza Place   \n",
       "29          East York               3          Indian Restaurant   \n",
       "30   Downtown Toronto               3                Coffee Shop   \n",
       "31       West Toronto               3                       Café   \n",
       "32        Scarborough               3                Coffee Shop   \n",
       "33         North York               3                Coffee Shop   \n",
       "36   Downtown Toronto               3                Coffee Shop   \n",
       "37       West Toronto               3                        Bar   \n",
       "39         North York               3        Sporting Goods Shop   \n",
       "40         North York               3                Coffee Shop   \n",
       "..                ...             ...                        ...   \n",
       "66         North York               3                Coffee Shop   \n",
       "67    Central Toronto               3                Pizza Place   \n",
       "68    Central Toronto               3                       Bank   \n",
       "69       West Toronto               3             Baseball Field   \n",
       "71        Scarborough               3                   Pharmacy   \n",
       "72         North York               3          Korean Restaurant   \n",
       "73    Central Toronto               3                        Bar   \n",
       "74    Central Toronto               3                Pizza Place   \n",
       "75       West Toronto               3                      Diner   \n",
       "76        Mississauga               3               Intersection   \n",
       "78        Scarborough               3         Chinese Restaurant   \n",
       "79    Central Toronto               3                Pizza Place   \n",
       "80   Downtown Toronto               3           Sushi Restaurant   \n",
       "81       West Toronto               3                Pizza Place   \n",
       "83    Central Toronto               3                 Playground   \n",
       "84   Downtown Toronto               3                       Café   \n",
       "85        Scarborough               3         Chinese Restaurant   \n",
       "86    Central Toronto               3                Coffee Shop   \n",
       "87   Downtown Toronto               3                      Hotel   \n",
       "88          Etobicoke               3                 Playground   \n",
       "89          Etobicoke               3                Coffee Shop   \n",
       "90        Scarborough               3         Chinese Restaurant   \n",
       "92   Downtown Toronto               3                Coffee Shop   \n",
       "93          Etobicoke               3                Pizza Place   \n",
       "94          Etobicoke               3                        Bar   \n",
       "96   Downtown Toronto               3                Coffee Shop   \n",
       "97   Downtown Toronto               3                Coffee Shop   \n",
       "98          Etobicoke               3                Coffee Shop   \n",
       "99   Downtown Toronto               3                Coffee Shop   \n",
       "102         Etobicoke               3                Coffee Shop   \n",
       "\n",
       "             2nd Most Common Venue     3rd Most Common Venue  \\\n",
       "0                      Supermarket           Laundry Service   \n",
       "1                  Thai Restaurant  Mediterranean Restaurant   \n",
       "2                             Café                     Hotel   \n",
       "3                      Coffee Shop       American Restaurant   \n",
       "4                             Café            Sandwich Place   \n",
       "5                   Scenic Lookout                      Café   \n",
       "7              American Restaurant                Restaurant   \n",
       "8                       Hobby Shop     Outdoors & Recreation   \n",
       "9                   Discount Store            Breakfast Spot   \n",
       "10                      Playground                       Pub   \n",
       "11            Fast Food Restaurant            Discount Store   \n",
       "13                          Office              Dance Studio   \n",
       "15                     Pizza Place                      Café   \n",
       "18              Miscellaneous Shop          Storage Facility   \n",
       "19                     Coffee Shop        Salon / Barbershop   \n",
       "20                            Café                Restaurant   \n",
       "22                   Grocery Store               Coffee Shop   \n",
       "24                  Sandwich Place                     Diner   \n",
       "25                     Coffee Shop         Indian Restaurant   \n",
       "26                     Pizza Place    Furniture / Home Store   \n",
       "27                   Shopping Mall            Sandwich Place   \n",
       "29               Afghan Restaurant               Coffee Shop   \n",
       "30                            Café                     Hotel   \n",
       "31            Brazilian Restaurant                  Bus Line   \n",
       "32              Chinese Restaurant                       Pub   \n",
       "33                            Café               Art Gallery   \n",
       "36                            Café                     Hotel   \n",
       "37                            Café               Coffee Shop   \n",
       "39                     Auto Garage      Outdoor Supply Store   \n",
       "40                Ramen Restaurant       Japanese Restaurant   \n",
       "..                             ...                       ...   \n",
       "66             Japanese Restaurant           Thai Restaurant   \n",
       "67                  Sandwich Place              Dessert Shop   \n",
       "68                            Park                Playground   \n",
       "69                         Dog Run                       Zoo   \n",
       "71                     Coffee Shop                      Bank   \n",
       "72                 Bubble Tea Shop               Coffee Shop   \n",
       "73                      Restaurant               Coffee Shop   \n",
       "74                     Coffee Shop            Ice Cream Shop   \n",
       "75                            Café        Tibetan Restaurant   \n",
       "76                             Pub                  Aquarium   \n",
       "78                Asian Restaurant               Coffee Shop   \n",
       "79                  Sandwich Place              Dessert Shop   \n",
       "80                      Restaurant                  Beer Bar   \n",
       "81                     Coffee Shop         Convenience Store   \n",
       "83                             Gym                     Trail   \n",
       "84   Vegetarian / Vegan Restaurant                       Bar   \n",
       "85                  Ice Cream Shop                    Bakery   \n",
       "86              Italian Restaurant                      Café   \n",
       "87                     Coffee Shop               Pizza Place   \n",
       "88                     Coffee Shop               Supermarket   \n",
       "89                            Café                     Hotel   \n",
       "90              Athletics & Sports               Coffee Shop   \n",
       "92                  Clothing Store                Restaurant   \n",
       "93                            Pool               Coffee Shop   \n",
       "94                      Restaurant               Coffee Shop   \n",
       "96                      Restaurant                      Café   \n",
       "97                            Café                     Hotel   \n",
       "98                  Breakfast Spot               Pizza Place   \n",
       "99             Japanese Restaurant                   Gay Bar   \n",
       "102                 Breakfast Spot               Pizza Place   \n",
       "\n",
       "        4th Most Common Venue          5th Most Common Venue  \\\n",
       "0                        Café                  Shopping Mall   \n",
       "1                    Bus Line              Fish & Chips Shop   \n",
       "2                  Restaurant                    Pizza Place   \n",
       "3              Cosmetics Shop                    Men's Store   \n",
       "4          Italian Restaurant                           Park   \n",
       "5                        Park                    Yoga Studio   \n",
       "7             Bubble Tea Shop                   Liquor Store   \n",
       "8                 Coffee Shop                            Bar   \n",
       "9      Furniture / Home Store                      Gift Shop   \n",
       "10        Japanese Restaurant                 Farmers Market   \n",
       "11           Sushi Restaurant                     Beer Store   \n",
       "13       Caribbean Restaurant                  Movie Theater   \n",
       "15              Grocery Store                         Hostel   \n",
       "18             Baseball Field           Fast Food Restaurant   \n",
       "19                   Tea Room            Japanese Restaurant   \n",
       "20                     Bakery                          Hotel   \n",
       "22                Pizza Place                 Discount Store   \n",
       "24         Italian Restaurant            Japanese Restaurant   \n",
       "25        Japanese Restaurant                   Dessert Shop   \n",
       "26                Coffee Shop                   Liquor Store   \n",
       "27                       Bank              Korean Restaurant   \n",
       "29             Sandwich Place             Turkish Restaurant   \n",
       "30                 Restaurant                      Gastropub   \n",
       "31                Coffee Shop                     Restaurant   \n",
       "32                        Gym                       Pharmacy   \n",
       "33        Japanese Restaurant               Sushi Restaurant   \n",
       "36                 Restaurant                    Pizza Place   \n",
       "37                     Bakery                   Cocktail Bar   \n",
       "39                Coffee Shop                 Clothing Store   \n",
       "40           Sushi Restaurant                     Restaurant   \n",
       "..                        ...                            ...   \n",
       "66             Sandwich Place                   Optical Shop   \n",
       "67                       Café               Sushi Restaurant   \n",
       "68   Mediterranean Restaurant           Ethiopian Restaurant   \n",
       "69                     Garden           Other Great Outdoors   \n",
       "71                  Pet Store  Paper / Office Supplies Store   \n",
       "72               Dessert Shop          Vietnamese Restaurant   \n",
       "73           Asian Restaurant                    Pizza Place   \n",
       "74          Indian Restaurant                Thai Restaurant   \n",
       "75                        Bar                       Pharmacy   \n",
       "76                Yoga Studio           Fast Food Restaurant   \n",
       "78       Cantonese Restaurant           Hong Kong Restaurant   \n",
       "79                       Café               Sushi Restaurant   \n",
       "80             Ice Cream Shop                  Grocery Store   \n",
       "81              Grocery Store                       Pharmacy   \n",
       "83               Tennis Court                    Yoga Studio   \n",
       "84               Dessert Shop             Mexican Restaurant   \n",
       "85       Fast Food Restaurant                     Beer Store   \n",
       "86                        Pub                     Bagel Shop   \n",
       "87         Italian Restaurant                       Aquarium   \n",
       "88                     Garden                    Yoga Studio   \n",
       "89              Deli / Bodega                     Restaurant   \n",
       "90              Shopping Mall                    Yoga Studio   \n",
       "92                   Tea Room            American Restaurant   \n",
       "93                   Pharmacy                            Pub   \n",
       "94           Asian Restaurant                    Pizza Place   \n",
       "96                        Pub             Italian Restaurant   \n",
       "97                 Restaurant                  Deli / Bodega   \n",
       "98               Dessert Shop                            Pub   \n",
       "99           Sushi Restaurant                     Restaurant   \n",
       "102              Dessert Shop                            Pub   \n",
       "\n",
       "         6th Most Common Venue  7th Most Common Venue  \\\n",
       "0                  Coffee Shop           Skating Rink   \n",
       "1                      Exhibit     Falafel Restaurant   \n",
       "2           Italian Restaurant       Sushi Restaurant   \n",
       "3         Fast Food Restaurant    Sporting Goods Shop   \n",
       "4     Mediterranean Restaurant        Bubble Tea Shop   \n",
       "5           Falafel Restaurant    Empanada Restaurant   \n",
       "7                Movie Theater       Sushi Restaurant   \n",
       "8                       Bakery            Fish Market   \n",
       "9                          Gym            Coffee Shop   \n",
       "10           Electronics Store    Empanada Restaurant   \n",
       "11      Furniture / Home Store         Sandwich Place   \n",
       "13        Fast Food Restaurant          Grocery Store   \n",
       "15                     Library             Beer Store   \n",
       "18                 Event Space                Exhibit   \n",
       "19                         Pub                    Bar   \n",
       "20          Italian Restaurant           Cocktail Bar   \n",
       "22                        Bank             Beer Store   \n",
       "24            Department Store           Burger Joint   \n",
       "25                Cocktail Bar          Grocery Store   \n",
       "26                  Beer Store           Optical Shop   \n",
       "27                 Coffee Shop          Grocery Store   \n",
       "29                 Yoga Studio       Asian Restaurant   \n",
       "30               Deli / Bodega    Japanese Restaurant   \n",
       "31                        Park                    Bar   \n",
       "32        Fast Food Restaurant      Electronics Store   \n",
       "33             Bubble Tea Shop                    Bar   \n",
       "36          Italian Restaurant       Sushi Restaurant   \n",
       "37                  Restaurant          Grocery Store   \n",
       "39              Sandwich Place   Fast Food Restaurant   \n",
       "40              Sandwich Place                   Café   \n",
       "..                         ...                    ...   \n",
       "66                  Restaurant                    Gym   \n",
       "67          Italian Restaurant            Coffee Shop   \n",
       "68                 Event Space                Exhibit   \n",
       "69                        Park         Scenic Lookout   \n",
       "71              Discount Store         Sandwich Place   \n",
       "72                 Pizza Place       Ramen Restaurant   \n",
       "73                 Art Gallery                   Café   \n",
       "74                        Park         Sandwich Place   \n",
       "75                 Pizza Place      Indian Restaurant   \n",
       "76         Empanada Restaurant   Ethiopian Restaurant   \n",
       "78           Korean Restaurant  Vietnamese Restaurant   \n",
       "79          Italian Restaurant            Coffee Shop   \n",
       "80                        Café      Korean Restaurant   \n",
       "81                  Playground         Discount Store   \n",
       "83              Farmers Market   Ethiopian Restaurant   \n",
       "84         Dumpling Restaurant                 Bakery   \n",
       "85         Sporting Goods Shop            Supermarket   \n",
       "86            Sushi Restaurant          Grocery Store   \n",
       "87                         Gym         Scenic Lookout   \n",
       "88        Ethiopian Restaurant            Event Space   \n",
       "89          Italian Restaurant               Aquarium   \n",
       "90        Ethiopian Restaurant            Event Space   \n",
       "92   Middle Eastern Restaurant         Cosmetics Shop   \n",
       "93              Sandwich Place           Skating Rink   \n",
       "94                 Art Gallery                   Café   \n",
       "96                      Bakery            Pizza Place   \n",
       "97          Seafood Restaurant             Steakhouse   \n",
       "98            Sushi Restaurant     Italian Restaurant   \n",
       "99                        Café          Grocery Store   \n",
       "102           Sushi Restaurant     Italian Restaurant   \n",
       "\n",
       "       8th Most Common Venue        9th Most Common Venue  \\\n",
       "0             Discount Store         Caribbean Restaurant   \n",
       "1             Farmers Market         Fast Food Restaurant   \n",
       "2                Music Venue           Chinese Restaurant   \n",
       "3           Toy / Game Store                Women's Store   \n",
       "4             Ice Cream Shop            Indian Restaurant   \n",
       "5       Ethiopian Restaurant                  Event Space   \n",
       "7                Supermarket               Clothing Store   \n",
       "8          Fish & Chips Shop          Filipino Restaurant   \n",
       "9                 Restaurant          Arts & Crafts Store   \n",
       "10      Ethiopian Restaurant                  Event Space   \n",
       "11                Restaurant               Baseball Field   \n",
       "13       Japanese Restaurant                          Gym   \n",
       "15                    Market               Breakfast Spot   \n",
       "18        Falafel Restaurant               Farmers Market   \n",
       "19                      Park               Breakfast Spot   \n",
       "20                 Gastropub                     Beer Bar   \n",
       "22              Optical Shop             Toy / Game Store   \n",
       "24             Burrito Place                Smoothie Shop   \n",
       "25            Ice Cream Shop           Mexican Restaurant   \n",
       "26          Toy / Game Store                Big Box Store   \n",
       "27                     Diner            Recreation Center   \n",
       "29               Pizza Place                         Park   \n",
       "30               Salad Place           Italian Restaurant   \n",
       "31               Pizza Place                  Flea Market   \n",
       "32       Empanada Restaurant         Ethiopian Restaurant   \n",
       "33            Breakfast Spot                      Exhibit   \n",
       "36               Music Venue           Chinese Restaurant   \n",
       "37        Athletics & Sports                     Wine Bar   \n",
       "39               Fish Market              Bubble Tea Shop   \n",
       "40                      Park            Korean Restaurant   \n",
       "..                       ...                          ...   \n",
       "66      Gym / Fitness Center           Seafood Restaurant   \n",
       "67                  Pharmacy                        Diner   \n",
       "68        Falafel Restaurant               Farmers Market   \n",
       "69                      Café                 Skating Rink   \n",
       "71      Fast Food Restaurant                     Bus Line   \n",
       "72               Wings Joint          Japanese Restaurant   \n",
       "73   New American Restaurant                       Bakery   \n",
       "74       Fried Chicken Joint                   Donut Shop   \n",
       "75       Dumpling Restaurant                         Lake   \n",
       "76               Event Space                      Exhibit   \n",
       "78                Restaurant          Rental Car Location   \n",
       "79                  Pharmacy                        Diner   \n",
       "80                    Bakery                         Park   \n",
       "81       Rental Car Location               Sandwich Place   \n",
       "83               Event Space                      Exhibit   \n",
       "84          Ramen Restaurant                 Cocktail Bar   \n",
       "85                Taco Place               Clothing Store   \n",
       "86            Sandwich Place                  Pizza Place   \n",
       "87            History Museum                          Bar   \n",
       "88                   Exhibit           Falafel Restaurant   \n",
       "89                    Bakery               Scenic Lookout   \n",
       "90                   Exhibit           Falafel Restaurant   \n",
       "92                    Bakery           Italian Restaurant   \n",
       "93                       Gym  Eastern European Restaurant   \n",
       "94   New American Restaurant                       Bakery   \n",
       "96         Indian Restaurant                   Beer Store   \n",
       "97       American Restaurant                       Bakery   \n",
       "98                      Café             Tapas Restaurant   \n",
       "99      Fast Food Restaurant                 Burger Joint   \n",
       "102                     Café             Tapas Restaurant   \n",
       "\n",
       "          10th Most Common Venue  \n",
       "0             Chinese Restaurant  \n",
       "1            Filipino Restaurant  \n",
       "2                     Steakhouse  \n",
       "3                       Pharmacy  \n",
       "4                     Restaurant  \n",
       "5                        Exhibit  \n",
       "7                 Chocolate Shop  \n",
       "8           Fast Food Restaurant  \n",
       "9                   Burger Joint  \n",
       "10                       Exhibit  \n",
       "11                  Liquor Store  \n",
       "13                     Nightclub  \n",
       "15             Food & Drink Shop  \n",
       "18           Filipino Restaurant  \n",
       "19               Thai Restaurant  \n",
       "20           Japanese Restaurant  \n",
       "22                           Gym  \n",
       "24            Seafood Restaurant  \n",
       "25                Sandwich Place  \n",
       "26                 Grocery Store  \n",
       "27                          Park  \n",
       "29                    Restaurant  \n",
       "30           American Restaurant  \n",
       "31                   Fish Market  \n",
       "32                   Event Space  \n",
       "33           American Restaurant  \n",
       "36                    Steakhouse  \n",
       "37             Korean Restaurant  \n",
       "39                Breakfast Spot  \n",
       "40                         Plaza  \n",
       "..                           ...  \n",
       "66                  Tennis Court  \n",
       "67                       Brewery  \n",
       "68          Fast Food Restaurant  \n",
       "69                          Pool  \n",
       "71                    Beer Store  \n",
       "72                          Café  \n",
       "73                   Men's Store  \n",
       "74                        Bistro  \n",
       "75   Eastern European Restaurant  \n",
       "76            Falafel Restaurant  \n",
       "78                 Train Station  \n",
       "79                       Brewery  \n",
       "80                   Coffee Shop  \n",
       "81                          Café  \n",
       "83            Falafel Restaurant  \n",
       "84                   Coffee Shop  \n",
       "85                           Spa  \n",
       "86            Miscellaneous Shop  \n",
       "87                        Bistro  \n",
       "88                Farmers Market  \n",
       "89                   Salad Place  \n",
       "90                Farmers Market  \n",
       "92                          Café  \n",
       "93             Electronics Store  \n",
       "94                   Men's Store  \n",
       "96                     Gastropub  \n",
       "97                  Burger Joint  \n",
       "98                     Gastropub  \n",
       "99                     Nightclub  \n",
       "102                    Gastropub  \n",
       "\n",
       "[80 rows x 12 columns]"
      ]
     },
     "execution_count": 63,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_merged.loc[Toronto_merged['Cluster Labels'] == 3, Toronto_merged.columns[[1] + list(range(5, Toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The above segment is strong in cafes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>35</th>\n",
       "      <td>East York</td>\n",
       "      <td>4</td>\n",
       "      <td>Performing Arts Venue</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>100</th>\n",
       "      <td>East Toronto</td>\n",
       "      <td>4</td>\n",
       "      <td>Performing Arts Venue</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Ethiopian Restaurant</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Exhibit</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Filipino Restaurant</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "          Borough  Cluster Labels  1st Most Common Venue  \\\n",
       "35      East York               4  Performing Arts Venue   \n",
       "100  East Toronto               4  Performing Arts Venue   \n",
       "\n",
       "    2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n",
       "35            Yoga Studio  Ethiopian Restaurant           Event Space   \n",
       "100           Yoga Studio  Ethiopian Restaurant           Event Space   \n",
       "\n",
       "    5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "35                Exhibit    Falafel Restaurant        Farmers Market   \n",
       "100               Exhibit    Falafel Restaurant        Farmers Market   \n",
       "\n",
       "    8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n",
       "35   Fast Food Restaurant   Filipino Restaurant      Electronics Store  \n",
       "100  Fast Food Restaurant   Filipino Restaurant      Electronics Store  "
      ]
     },
     "execution_count": 64,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Toronto_merged.loc[Toronto_merged['Cluster Labels'] == 4, Toronto_merged.columns[[1] + list(range(5, Toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This segment is mainly art, yoga and exhibits"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The End"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3.5",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.5.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
